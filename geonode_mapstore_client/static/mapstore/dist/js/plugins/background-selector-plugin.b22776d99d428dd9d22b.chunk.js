(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[24813],{501262:(e,t,r)=>{"use strict";r.d(t,{Z:()=>k});var n=r(727418),o=r.n(n),a=r(675263),i=r.n(a),l=r(124852),c=r.n(l),s=r(180307),u=r.n(s),p=r(757588),d=r(282467),f=r(805346),b=r(807472);function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function A(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function y(e,t){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},y(e,t)}function h(e,t){if(t&&("object"===m(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return S(e)}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function w(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}(l,e);var t,r,n,a,i=(n=l,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=v(n);if(a){var r=v(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return h(this,e)});function l(){var e;A(this,l);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return w(S(e=i.call.apply(i,[this].concat(r))),"setConfirmRef",(function(t){return e.confirm=t,e.confirm})),e}return t=l,(r=[{key:"componentDidMount",value:function(){this.props.focusConfirm&&u().findDOMNode(this.confirm).focus()}},{key:"render",value:function(){return c().createElement(b.Z,{draggable:this.props.draggable,onClickOut:this.props.onClose,id:"confirm-dialog",modal:this.props.modal,style:o()({},this.props.style,{display:this.props.show?"block":"none"})},c().createElement("span",{role:"header"},c().createElement("span",{className:"user-panel-title"},this.props.title),c().createElement("button",{onClick:this.props.onClose,className:"login-panel-close close"},this.props.closeGlyph?c().createElement(p.Glyphicon,{glyph:this.props.closeGlyph}):c().createElement("span",null,"Ã—"))),c().createElement("div",{role:"body"},this.props.children),c().createElement("div",{role:"footer"},c().createElement(p.ButtonGroup,null,c().createElement(d.Z,{ref:this.setConfirmRef,onClick:this.props.onConfirm,disabled:this.props.confirmButtonDisabled,bsStyle:this.props.confirmButtonBSStyle},this.props.confirmButtonContent),c().createElement(d.Z,{onClick:this.props.onClose},this.props.closeText))))}}])&&g(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),l}(c().Component);w(O,"propTypes",{show:i().bool,draggable:i().bool,onClose:i().func,onConfirm:i().func,onSave:i().func,modal:i().bool,closeGlyph:i().string,style:i().object,buttonSize:i().string,inputStyle:i().object,title:i().node,confirmButtonContent:i().node,confirmButtonDisabled:i().bool,closeText:i().node,confirmButtonBSStyle:i().string,focusConfirm:i().bool}),w(O,"defaultProps",{onClose:function(){},onChange:function(){},modal:!0,title:c().createElement(f.Z,{msgId:"confirmTitle"}),closeGlyph:"",confirmButtonBSStyle:"danger",confirmButtonDisabled:!1,confirmButtonContent:c().createElement(f.Z,{msgId:"confirm"})||"Confirm",closeText:c().createElement(f.Z,{msgId:"close"}),includeCloseButton:!0,focusConfirm:!1});const k=O},314068:(e,t,r)=>{"use strict";r.d(t,{Z:()=>b});var n=r(124852),o=r.n(n),a=r(855033),i=r.n(a),l=r(532425),c=r(483139),s=r(80717);function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},u.apply(this,arguments)}function p(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||d(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){if(e){if("string"==typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?f(e,t):void 0}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const b=(0,n.forwardRef)((function(e,t){var r,a,f=e.className,b=void 0===f?"ms-thumbnail":f,m=e.label,A=e.loading,g=e.message,y=e.error,h=e.thumbnail,S=e.removeGlyph,v=void 0===S?"trash":S,w=e.removeTooltipId,O=void 0===w?"removeThumbnail":w,k=e.style,j=void 0===k?{}:k,E=e.maxFileSize,P=void 0===E?5e5:E,x=e.supportedImageTypes,C=void 0===x?["image/png","image/jpeg","image/jpg"]:x,B=e.thumbnailOptions,T=e.dropZoneProps,D=void 0===T?{className:"ms-thumbnail-dropzone",activeClassName:"ms-thumbnail-dropzone-active",rejectClassName:"ms-thumbnail-dropzone-reject"}:T,I=e.onUpdate,R=void 0===I?function(){}:I,L=e.onError,_=void 0===L?function(){}:L,M=e.onRemove,Z=e.toolbarButtons,Q=(0,n.useRef)(),z=(r=(0,n.useState)(),a=2,function(e){if(Array.isArray(e))return e}(r)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw o}}return a}}(r,a)||d(r,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),N=z[0],F=z[1];if((0,n.useEffect)((function(){return Q.current=!0,function(){Q.current=!1}}),[]),A||N)return o().createElement("div",{className:"dropzone-thumbnail-container".concat(b?" ".concat(b):""," ms-loading")},o().createElement(l.Z,{size:70}));var U=o().createElement(s.Z,{btnDefaultProps:{className:"square-button-md no-border"},buttons:Z||[{glyph:v,visible:!(!M||!h),tooltipId:O,onClick:function(e){var t;null==e||null===(t=e.stopPropagation)||void 0===t||t.call(e),null==M||M()}}]});return o().createElement("div",{className:"dropzone-thumbnail-container".concat(b?" ".concat(b):""),style:j},m,o().createElement(i(),u({},D,{multiple:!1,onDrop:function(e){var t,r=null==e||null===(t=e[0])||void 0===t?void 0:t.type,n=-1!==C.indexOf(r);F(!0),function(e,t){return new Promise((function(r){var n=e;if(null!=n&&n[0]){var o=n[0],a=new FileReader;return a.onload=function(e){return r(t?(0,c.Xq)(e.target.result,t).then((function(e){return{data:e,size:e.length}})):{data:e.target.result,size:o.size})},a.readAsDataURL(o)}return r({data:null})}))}(e,B).then((function(t){var r=t.data,o=t.size;return Q.current?(F(!1),n&&r&&o<P?R(r,e):_([].concat(p(n?[]:["FORMAT"]),p(r&&o>=P?["SIZE"]:[])),e)):null})).catch((function(e){return Q.current?(F(!1),_(e)):null}))}}),h?o().createElement("div",{style:{position:"relative",width:"100%",height:"100%"}},o().createElement("div",{ref:t,style:{position:"relative",width:"100%",height:"100%",backgroundImage:"url(".concat(h,")"),backgroundSize:null!=B&&B.contain?"contain":"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"}}),o().createElement("div",{className:"dropzone-content-image-added"},g),U):o().createElement("div",{className:"dropzone-content-image"},g,U,y&&o().createElement("div",{className:"dropzone-errors"},y))))}))},993451:(e,t,r)=>{"use strict";r.d(t,{Z:()=>w});var n=r(86638),o=r(675263),a=r.n(o),i=r(984596),l=r.n(i),c=r(701469),s=r.n(c),u=r(414293),p=r.n(u),d=r(747037),f=r.n(d),b=r(867076),m=["messages"];function A(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var S=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"label";if(s()(t))return t.map((function(o){var a=(0,n.S$)(e,o[r]||f()(o)&&o||"");return y(y({},o),{},h({},r,p()(a)?t:a))}));var o=(0,n.S$)(e,t);return p()(o)?t:o},v=function(e,t,r){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;return y(y({},n),{},h({},o,e[o]&&S(t,e[o],r)))}};const w=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"label";return(0,b.compose)((0,b.getContext)({messages:a().object}),(0,b.mapProps)((function(r){var n=r.messages,o=A(r,m);return y(y({},o),l()(e).reduce(v(o,n,t),{}))})))}},844408:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>Nt});var n=r(171703),o=r(867076),a=r(313311),i=r.n(a),l=r(782904),c=r(580416),s=r(53001),u=r(22222),p=r(675110),d=r(800827),f=r(31935),b=r(55105),m=r(507872),A=r(322843),g=r(925108),y=r(931273),h=r(727418),S=r.n(h);var v=r(49977),w=r.n(v),O=r(91175),k=r.n(O),j=r(881808),E=r(680833),P=r(624262);function x(e){return function(e){if(Array.isArray(e))return C(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return C(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?C(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function B(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function T(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?B(Object(r),!0).forEach((function(t){D(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function D(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const I={accessMetadataExplorer:function(e){return e.ofType(s.xT).switchMap((function(){return w().Observable.of((0,l.Xg)("metadataexplorer","enabled",!0),(0,s.vw)(!1),(0,y.Dw)("default_map_backgrounds"))}))},addBackgroundPropertiesEpic:function(e){return e.ofType(s.oQ).switchMap((function(e){var t=e.modalParams,r=w().Observable.of((0,s.$c)(T(T({},t),{},{loading:!1})));return t.layer&&"wms"===t.layer.type?w().Observable.of((0,s.$c)(T(T({},t),{},{loading:!0}))).concat((0,E.kB)(t.layer).switchMap((function(e){return w().Observable.of((0,s.$c)(T(T({},t),{},{loading:!1,capabilities:(0,P.IA)(e)})))})).catch((function(){return r}))):r}))},backgroundsListInit:function(e){return e.ofType(j.ok).switchMap((function(e){var t,r=e.config,n=r.map&&r.map.backgrounds||[],o=(r.map&&r.map.layers||[]).filter((function(e){return"background"===e.group})),a=n.filter((function(e){return!!e.thumbnail})).map((function(e){return(0,c.He)(e.id,{thumbURL:function(e){for(var t=atob(e.split(",")[1]),r=e.split(",")[0].split(":")[1].split(";")[0],n=new ArrayBuffer(t.length),o=new Uint8Array(n),a=0;a<t.length;++a)o[a]=t.charCodeAt(a);return URL.createObjectURL(new Blob([n],{type:r}))}(e.thumbnail)})})),i=k()(o.filter((function(e){return e.visibility})));return(t=w().Observable).of.apply(t,x(a.concat((0,s.M3)(n))).concat(x(i?[(0,s.ke)(i.id)]:[])))}))},setCurrentBackgroundLayerEpic:function(e,t){return e.ofType(s.Wv).switchMap((function(e){var r,n=e.layerId,o=t.getState(),a=(0,p.CA)(o,n);return(r=w().Observable).of.apply(r,x(a&&"background"===a.group?[(0,l.Xg)("backgroundSelector","tempLayer",a),(0,l.Xg)("backgroundSelector","currentLayer",a)]:[]))}))},backgroundAddedEpic:function(e,t){return e.ofType(s.gC).mergeMap((function(e){var r=e.layerId,n=t.getState(),o=(0,p.CA)(n,r);return o?w().Observable.of((0,c.He)(o.id,{visibility:!0}),(0,s.ke)(o.id),(0,s.V3)()):w().Observable.empty()}))},backgroundEditedEpic:function(e,t){return e.ofType(s.dG).mergeMap((function(e){var r=e.layerId,n=t.getState();return(0,p.CA)(n,r)?w().Observable.of((0,s.V3)()):w().Observable.empty()}))},backgroundRemovedEpic:function(e,t){return e.ofType(s.H_).mergeMap((function(e){var r=e.backgroundId,n=t.getState(),o=(0,p.CA)(n,r),a=(0,f.TP)(n)||[],i=(0,p.DP)(n)||{},l=r===i.id?k()(a.filter((function(e){return e.id!==r&&!e.invalid}))):i;return o?w().Observable.of((0,c.ZF)(r,"layers"),(0,c.He)(l.id,{visibility:!0}),(0,s.ke)(l.id)):w().Observable.empty()}))}};var R=r(124852),L=r.n(R),_=r(805346),M=r(675263),Z=r.n(M),Q=r(80717),z=r(893379),N=r.n(z),F=r(358751);N()(F.Z,{insert:"head",singleton:!1}),F.Z.locals;var U=r(950966),H=r(757588);function G(e){return G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},G(e)}function $(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function q(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function V(e,t){return V=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},V(e,t)}function X(e,t){if(t&&("object"===G(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function W(e){return W=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},W(e)}function J(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&V(e,t)}(i,e);var t,r,n,o,a=(n=i,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=W(n);if(o){var r=W(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return X(this,e)});function i(){return $(this,i),a.apply(this,arguments)}return t=i,r=[{key:"render",value:function(){var e=this,t=L().createElement(H.Tooltip,{id:"background-selector-tooltip"},L().createElement(_.Z,{msgId:this.props.tooltipId})),r=this.props.labelHeight>0?L().Fragment:U.Z;return L().createElement("div",{className:"background-preview-button",style:{margin:this.props.margin}},L().createElement(r,{placement:"top",key:"overlay-trigger.changeBackground",overlay:0===this.props.labelHeight&&t},L().createElement("div",{className:"background-preview-button-container bg-body",onClick:this.props.onToggle,style:{padding:this.props.frame/2,width:this.props.side+this.props.frame,height:this.props.side+this.props.frame}},this.props.showLabel?L().createElement("div",{className:"background-preview-button-label",style:{width:this.props.side,height:this.props.labelHeight,marginTop:0,padding:0}},L().createElement("div",{className:"bg-body bg-text",style:{padding:this.props.frame}},this.props.label)):null,L().createElement("div",{className:"background-preview-button-frame",style:{width:this.props.side,height:this.props.side}},L().createElement("img",{src:this.props.src})))),this.props.labelHeight>0?L().createElement(Q.Z,{btnDefaultProps:{className:"square-button-md",bsStyle:"primary"},buttons:this.props.showAdd?[{glyph:"plus",tooltipId:"backgroundSelector.addTooltip",onClick:function(){return e.props.onAdd()}}]:[]}):null)}}],r&&q(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(L().Component);J(Y,"propTypes",{src:Z().string,side:Z().number,frame:Z().number,margin:Z().number,labelHeight:Z().number,label:Z().string,showLabel:Z().bool,onToggle:Z().func,onAdd:Z().func,showAdd:Z().bool,tooltipId:Z().string}),J(Y,"defaultProps",{src:"./images/mapthumbs/none.jpg",side:50,frame:4,margin:5,labelHeight:29,label:"",showLabel:!0,tooltipId:"backgroundSwitcher.tooltip",onToggle:function(){},onAdd:function(){}});const K=Y;function ee(e){return ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ee(e)}function te(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function re(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ne(e,t){return ne=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ne(e,t)}function oe(e,t){if(t&&("object"===ee(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ae(e){return ae=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ae(e)}function ie(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var le=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ne(e,t)}(i,e);var t,r,n,o,a=(n=i,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ae(n);if(o){var r=ae(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return oe(this,e)});function i(){return te(this,i),a.apply(this,arguments)}return t=i,(r=[{key:"render",value:function(){var e=this.props.glyphs[this.props.vertical?"vertical":"horizontal"][this.props.direction?"next":"back"],t=this.props.vertical?"background-plugin-pagination-btn-vertical text-center":"background-plugin-pagination-btn-horizontal",r=this.props.vertical?{width:this.props.side}:{height:this.props.side};return L().createElement("div",{className:t+" text-primary",style:r,onClick:this.props.onClick},L().createElement(H.Glyphicon,{glyph:e}))}}])&&re(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(L().Component);ie(le,"propTypes",{side:Z().number,direction:Z().bool,vertical:Z().bool,glyphs:Z().object,onClick:Z().func}),ie(le,"defaultProps",{side:0,direction:!0,vertical:!1,glyphs:{horizontal:{next:"chevron-right",back:"chevron-left"},vertical:{next:"chevron-down",back:"chevron-up"}},onClick:function(){}});const ce=le;function se(e){return se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},se(e)}function ue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function de(e,t){return de=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},de(e,t)}function fe(e,t){if(t&&("object"===se(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function be(e){return be=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},be(e)}function me(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ae=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&de(e,t)}(i,e);var t,r,n,o,a=(n=i,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=be(n);if(o){var r=be(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return fe(this,e)});function i(){return ue(this,i),a.apply(this,arguments)}return t=i,(r=[{key:"render",value:function(){var e=this,t=[].concat(this.props.icons);t=this.props.pagination?t.slice(this.props.start,this.props.start+this.props.length):t,this.props.vertical&&t.unshift(L().createElement("div",{className:"background-list-arrow-placeholder"})),this.props.pagination&&(0!==this.props.start&&(this.props.vertical&&t.shift(),t.unshift(L().createElement(ce,{key:"pagination_0",vertical:this.props.vertical,side:this.props.vertical?this.props.width:this.props.height,direction:!1,onClick:function(){e.props.onStartChange(e.props.start-1)}}))),this.props.start+this.props.length<this.props.icons.length&&t.push(L().createElement(ce,{key:"pagination_1",vertical:this.props.vertical,side:this.props.vertical?this.props.width:this.props.height,onClick:function(){e.props.onStartChange(e.props.start+1)}})));var r=this.props.vertical?{height:this.props.pagination?this.props.height+50:this.props.height,width:this.props.width,bottom:this.props.bottom}:{height:this.props.height,width:this.props.pagination?this.props.width+50:this.props.width,bottom:this.props.bottom};return L().createElement("div",{style:r},t)}}])&&pe(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(L().Component);me(Ae,"propTypes",{bottom:Z().number,width:Z().number,height:Z().number,length:Z().number,start:Z().number,pagination:Z().bool,vertical:Z().bool,icons:Z().array,onStartChange:Z().func}),me(Ae,"defaultProps",{bottom:0,width:0,height:0,length:0,start:0,pagination:!1,vertical:!1,icons:[],onStartChange:function(){}});const ge=Ae;var ye=r(103651),he=r.n(ye),Se=r(218721),ve=r.n(Se),we=r(264721),Oe=r.n(we),ke=r(95098);function je(e){return je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},je(e)}function Ee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function xe(e,t){return xe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},xe(e,t)}function Ce(e,t){if(t&&("object"===je(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Be(e){return Be=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Be(e)}function Te(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}N()(ke.Z,{insert:"head",singleton:!1}),ke.Z.locals;var De=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xe(e,t)}(i,e);var t,r,n,o,a=(n=i,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Be(n);if(o){var r=Be(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return Ce(this,e)});function i(){return Ee(this,i),a.apply(this,arguments)}return t=i,(r=[{key:"render",value:function(){var e=this,t=he()(["EPSG:4326","EPSG:3857","EPSG:900913"],this.props.projection)>-1,r="wmts"===this.props.layer.type&&ve()(this.props.layer.allowedSRS,this.props.projection),n=this.props.vertical?"background-preview-icon-container-vertical":"background-preview-icon-container-horizontal",o=this.props.layer.visibility?" bg-primary":" bg-body",a=(t||r||Oe()(["wms","empty","osm","tileprovider"],this.props.layer.type))&&!this.props.layer.invalid,i=a?function(){e.props.onToggle(),e.props.onPropertiesChange(e.props.layer.id,{visibility:!0}),e.props.setCurrentBackgroundLayer(e.props.layer.id)}:function(){};return L().createElement("div",{className:n+o+(a?"":" disabled-icon"),style:{padding:this.props.frame/2,marginLeft:this.props.vertical?this.props.margin:0,marginRight:this.props.vertical?0:this.props.margin,marginBottom:this.props.margin,width:this.props.side+this.props.frame,height:this.props.side+this.props.frame}},L().createElement("div",{className:"background-preview-icon-frame",style:{width:this.props.side,height:this.props.side}},L().createElement("img",{onMouseOver:function(){e.props.onLayerChange("tempLayer",e.props.layer)},onMouseOut:function(){e.props.onLayerChange("tempLayer",e.props.currentLayer)},onClick:i,src:this.props.src})))}}])&&Pe(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(L().Component);Te(De,"propTypes",{side:Z().number,frame:Z().number,margin:Z().number,src:Z().string,vertical:Z().bool,layer:Z().object,currentLayer:Z().object,onPropertiesChange:Z().func,onToggle:Z().func,onLayerChange:Z().func,setCurrentBackgroundLayer:Z().func,projection:Z().string}),Te(De,"defaultProps",{side:50,frame:4,margin:5,src:"",vertical:!1,layer:{},currentLayer:{},onPropertiesChange:function(){},onToggle:function(){},onLayerChange:function(){}});const Ie=De;var Re=r(90085),Le=(r(707169),r(978382));N()(Le.Z,{insert:"head",singleton:!1}),Le.Z.locals;var _e=r(967134),Me=r(909041),Ze=r(689265),Qe=r.n(Ze),ze=r(717247),Ne=r.n(ze),Fe=r(993451),Ue=r(743129),He=r(423570),Ge=r.n(He),$e=r(478718),qe=r.n($e),Ve=r(957557),Xe=r.n(Ve),We=r(227361),Je=r.n(We),Ye=r(3674),Ke=r.n(Ye),et=r(281763),tt=r.n(et),rt=r(451584),nt=r.n(rt),ot=r(694745),at=r(282467),it=r(771335),lt=r(86638),ct=r(815135);function st(e){return st="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},st(e)}var ut=["label"];function pt(e){return function(e){if(Array.isArray(e))return dt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return dt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?dt(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ft(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function bt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ft(Object(r),!0).forEach((function(t){St(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ft(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function mt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function At(e,t){return At=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},At(e,t)}function gt(e,t){if(t&&("object"===st(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return yt(e)}function yt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ht(e){return ht=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ht(e)}function St(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var vt=(0,ct.Z)(at.Z),wt=(0,Fe.Z)("placeholder")(_e.Editor),Ot=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&At(e,t)}(i,e);var t,r,n,o,a=(n=i,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ht(n);if(o){var r=ht(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return gt(this,e)});function i(e){var t,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),St(yt(r=a.call(this,e)),"state",{title:"",format:"image/png",thumbnail:{},additionalParameters:[],credits:{}}),St(yt(r),"assignParameters",(function(e){return Ke()(e).map((function(t,r){var n=e[t],o=tt()(n)?"number":nt()(n)?"boolean":"string";return{id:r,param:t,type:o,val:"string"===o?n?n.toString():"":n}}))})),St(yt(r),"addAdditionalParameter",(function(e,t,n,o){r.setState({additionalParameters:r.state.additionalParameters.map((function(r){if(r.id===n){var a,i;if("val"===t)switch(o){case"number":(i=Number(e))&&!isNaN(i)||(i=0);break;case"boolean":i=!nt()(e)||e;break;default:i=e?e.toString():""}else i=e;return S()({},r,(St(a={},t,i),St(a,"type",o),a))}return r}))})})),St(yt(r),"resetParameters",(function(){return r.setState({additionalParameters:[]})}));var n=qe()(r.props,"title","format","style","thumbnail","credits"),o=(null==n||null===(t=n.credits)||void 0===t?void 0:t.title)||"",l=Ne()(o),c=Me.ContentState.createFromBlockArray(l.contentBlocks),s=Me.EditorState.createWithContent(c),u=S()({},n,{additionalParameters:r.assignParameters(r.props.additionalParameters),editorState:s});return r.state=u,r}return t=i,(r=[{key:"onEditorStateChange",value:function(e){this.setState(bt(bt({},this.state),{},{editorState:e}))}},{key:"renderStyleSelector",value:function(){var e=this;return this.props.capabilities?L().createElement(H.FormGroup,null,L().createElement(H.ControlLabel,null,L().createElement(_.Z,{msgId:"layerProperties.style"})),L().createElement(Ue.ZP,{onChange:function(t){return e.setState({style:t?t.value:void 0})},clearable:!0,value:this.state.style,options:(this.props.capabilities.availableStyles||[]).map((function(e){var t=e.name;return{label:t,value:t}}))})):null}},{key:"renderThumbnailErrors",value:function(){var e={FORMAT:L().createElement(_.Z,{msgId:"map.errorFormat"}),SIZE:L().createElement(_.Z,{msgId:"map.errorSize"})};return this.state.thumbnailErrors&&this.state.thumbnailErrors.length>0?L().createElement("div",{className:"dropzone-errorBox alert-danger"},L().createElement("p",null,L().createElement(_.Z,{msgId:"map.error"})),this.state.thumbnailErrors.map((function(t){return L().createElement("div",{id:"error"+t,key:"error"+t,className:"error"+t},e[t])}))):null}},{key:"renderSpecificTypeForm",value:function(){var e=this;return"wms"===this.props.layer.type?L().createElement(L().Fragment,null,L().createElement(H.FormGroup,{controlId:"formControlsSelect"},L().createElement(H.ControlLabel,null,L().createElement(_.Z,{msgId:"layerProperties.format.title"})),L().createElement(Ue.ZP,{onChange:function(t){return e.setState({format:t&&t.value})},value:this.state.format||this.props.defaultFormat,clearable:!0,options:this.props.formatOptions})),this.renderStyleSelector(),L().createElement(vt,null,L().createElement("div",{style:{display:"flex",alignItems:"center"}},L().createElement(H.ControlLabel,{style:{flex:1}},L().createElement(_.Z,{msgId:"backgroundDialog.additionalParameters"})),L().createElement(vt,{className:"square-button-md",tooltipId:"backgroundDialog.addAdditionalParameterTooltip",style:{borderColor:"transparent"},onClick:function(){var t=Math.max.apply(Math,pt(e.state.additionalParameters.length>0?e.state.additionalParameters.map((function(e){return e.id})):[-1]))+1;e.setState({additionalParameters:[].concat(pt(e.state.additionalParameters),[{id:t,type:"string",param:"",val:""}])})}},L().createElement(H.Glyphicon,{glyph:"plus"}))),this.state.additionalParameters.map((function(t){return L().createElement("div",{key:"val:"+t.id,style:{display:"flex",marginTop:8}},L().createElement("div",{style:{display:"flex",flex:1,marginRight:8}},L().createElement(H.FormControl,{style:{width:"50%",marginRight:8,minWidth:0},placeholder:(0,lt.S$)(e.context.messages,"backgroundDialog.parameter"),value:t.param,onChange:function(r){return e.addAdditionalParameter(r.target.value,"param",t.id,t.type)}}),"boolean"===t.type?L().createElement("div",{style:{width:"50%"}},L().createElement(Ue.ZP,{onChange:function(r){return e.addAdditionalParameter(r.value,"val",t.id,t.type)},clearable:!1,value:t.val,options:e.props.booleanOptions})):L().createElement(H.FormControl,{style:{width:"50%",minWidth:0},placeholder:(0,lt.S$)(e.context.messages,"backgroundDialog.value"),value:t.val.toString(),onChange:function(r){return e.addAdditionalParameter(r.target.value,"val",t.id,t.type)}})),L().createElement(Ue.ZP,{style:{flex:1,width:90},onChange:function(r){return e.addAdditionalParameter(t.val,"val",t.id,r.value)},clearable:!1,value:t.type,options:e.props.parameterTypeOptions.map((function(t){var r=t.label;return bt(bt({},function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(t,ut)),{},{label:(0,lt.S$)(e.context.messages,r)})}))}),L().createElement(vt,{onClick:function(){return e.setState({additionalParameters:e.state.additionalParameters.filter((function(e){return t.id!==e.id}))})},tooltipId:"backgroundDialog.removeAdditionalParameterTooltip",className:"square-button-md",style:{borderColor:"transparent"}},L().createElement(H.Glyphicon,{glyph:"trash"})))})))):"wmts"===this.props.layer.type?L().createElement(L().Fragment,null,L().createElement(H.FormGroup,{controlId:"formControlsSelect"},L().createElement(H.ControlLabel,null,L().createElement(_.Z,{msgId:"backgroundDialog.editAttribution"})),L().createElement(wt,{editorState:this.state.editorState,editorClassName:"ms2 form-control",toolbarClassName:"bg-dialog-attribution-toolbar",onEditorStateChange:this.onEditorStateChange.bind(this),placeholder:"backgroundDialog.editAttributionPlaceholder",toolbar:{options:["inline","blockType","link","remove"],inline:{options:["bold","italic","underline","strikethrough"]},blockType:{inDropDown:!0,options:["Normal","H5"]},link:{inDropDown:!0,options:["link","unlink"]}}}))):null}},{key:"render",value:function(){var e=this;return L().createElement(ot.Z,{fitContent:!0,title:L().createElement(_.Z,{msgId:this.props.editing?"backgroundDialog.editTitle":"backgroundDialog.addTitle"}),show:!0,fade:!0,clickOutEnabled:!1,bodyClassName:"ms-flex modal-properties-container background-dialog",loading:this.props.loading,onClose:function(){e.props.onClose(),e.resetParameters()},buttons:this.props.loading?[]:[{text:L().createElement(_.Z,{msgId:this.props.editing?"save":"backgroundDialog.add"}),bsStyle:"primary",onClick:function(){var t=e.props.editing?e.props.layer.id:Ge()(),r=e.props.layer.thumbURL||"",n=e.state.format||e.props.defaultFormat,o=Qe()((0,Me.convertToRaw)(e.state.editorState.getCurrentContent()));e.props.updateThumbnail(e.state.thumbnail.data,t),e.props.onSave(S()({},e.props.layer,Xe()(e.state,"thumbnail"),e.props.editing?{}:{id:t},{params:Xe()(e.state.additionalParameters.reduce((function(e,t){return S()(e,St({},t.param,t.val))}),{}),["source","title"]),format:n,credits:bt(bt({},e.state.credits),{},{title:o}),group:"background"},r||e.state.thumbnail.data?{thumbURL:e.state.thumbnail.url}:{})),e.resetParameters()}}]},L().createElement(H.Form,{style:{width:"100%"}},this.renderThumbnailErrors(),L().createElement(it.Z,{onUpdate:function(t,r){return e.setState({thumbnail:{data:t,url:r}})},onError:function(t){return e.setState({thumbnailErrors:t})},message:L().createElement(_.Z,{msgId:"backgroundDialog.thumbnailMessage"}),suggestion:"",map:{newThumbnail:Je()(this.state.thumbnail,"url")||"NODATA"}}),L().createElement(H.FormGroup,null,L().createElement(H.ControlLabel,null,L().createElement(_.Z,{msgId:"layerProperties.title"})),L().createElement(H.FormControl,{value:this.state.title,placeholder:(0,lt.S$)(this.context.messages,"backgroundDialog.titlePlaceholder"),onChange:function(t){return e.setState({title:t.target.value})}})),this.renderSpecificTypeForm()))}}])&&mt(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(L().Component);St(Ot,"propTypes",{loading:Z().bool,editing:Z().bool,layer:Z().object,capabilities:Z().object,onAdd:Z().func,onClose:Z().func,source:Z().string,onSave:Z().func,addParameters:Z().func,updateThumbnail:Z().func,thumbURL:Z().string,title:Z().string,format:Z().string,credits:Z().object,style:Z().string,thumbnail:Z().object,additionalParameters:Z().object,addParameter:Z().func,defaultFormat:Z().string,formatOptions:Z().array,parameterTypeOptions:Z().array,booleanOptions:Z().array}),St(Ot,"contextTypes",{messages:Z().object}),St(Ot,"defaultProps",{updateThumbnail:function(){},onClose:function(){},onSave:function(){},addParameters:function(){},addParameter:function(){},loading:!1,editing:!1,layer:{},capabilities:{},title:"",thumbnail:{},additionalParameters:{},formatOptions:[{label:"image/png",value:"image/png"},{label:"image/png8",value:"image/png8"},{label:"image/jpeg",value:"image/jpeg"},{label:"image/vnd.jpeg-png",value:"image/vnd.jpeg-png"},{label:"image/gif",value:"image/gif"}],parameterTypeOptions:[{label:"backgroundDialog.string",value:"string"},{label:"backgroundDialog.number",value:"number"},{label:"backgroundDialog.boolean",value:"boolean"}],booleanOptions:[{label:"True",value:!0},{label:"False",value:!1}]});var kt=r(501262);function jt(e){return jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jt(e)}function Et(){return Et=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Et.apply(this,arguments)}function Pt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ct(e,t){return Ct=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ct(e,t)}function Bt(e,t){if(t&&("object"===jt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Tt(e)}function Tt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Dt(e){return Dt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Dt(e)}function It(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Rt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ct(e,t)}(i,e);var t,r,n,o,a=(n=i,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Dt(n);if(o){var r=Dt(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return Bt(this,e)});function i(){var e;Pt(this,i);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return It(Tt(e=a.call.apply(a,[this].concat(r))),"getThumb",(function(t){return t.thumbURL||e.props.thumbs[t.source]&&e.props.thumbs[t.source][t.name]||e.props.thumbs.unknown})),It(Tt(e),"getIcons",(function(t,r,n,o){return e.props.enabled?e.props.layers.map((function(a,i){var l=e.getThumb(a);return L().createElement("div",{style:{width:(o?n:0)+(o?0:n)+t+r,height:n+t+r},className:"background-preview-container"},"mobile"!==e.props.mode&&L().createElement("div",{style:{width:(o?n:0)+t+r},className:"background-tool-buttons"},e.props.mapIsEditable&&e.props.allowDeletion&&e.props.layers.length>1&&L().createElement(Re.Z,{glyph:"trash",className:"square-button-md background-tool-button delete-button",bsStyle:"primary",onClick:function(){e.props.onRemoveBackground(!0,a.title||a.name||"",a.id)},tooltipId:"backgroundSelector.deleteTooltip"}),e.props.mapIsEditable&&!e.props.enabledCatalog&&!("wms"!==a.type&&"wmts"!==a.type&&"tms"!==a.type&&"tileprovider"!==a.type)&&L().createElement(Re.Z,{glyph:"wrench",className:"square-button-md background-tool-button edit-button",bsStyle:"primary",onClick:function(){e.props.addBackgroundProperties({layer:a,editing:!0})},tooltipId:"backgroundSelector.editTooltip"})),L().createElement(Ie,{projection:e.props.projection,vertical:o,key:i,src:l,currentLayer:e.props.currentLayer,margin:n,side:t,frame:r,layer:a,onToggle:e.props.onToggle,onPropertiesChange:e.props.onPropertiesChange,onLayerChange:e.props.onLayerChange,setCurrentBackgroundLayer:e.props.setCurrentBackgroundLayer}))})):[]})),It(Tt(e),"getDimensions",(function(t,r,n,o,a,i){var l=a/2-(t+2*r+2*n)-o,c=t+2*r+2*n+(t+2*r+n)*i+o>a/2,s=Math.floor(l/(t+2*r+n));return s=s>i?i:s,{pagination:c,listSize:e.props.enabled?(t+r+n)*s+52:0,visibleIconsLength:s}})),It(Tt(e),"renderBackgroundSelector",(function(){var t=S()({side:78,sidePreview:104,frame:3,margin:5,label:!0,vertical:!1},e.props.dimensions),r=2*t.frame,n=t.side-r,o=e.props.enabled?t.sidePreview-r:n,a=t.margin,i=e.props.enabled?o-2*r:0,l=e.props.enabled?e.props.tempLayer:e.props.currentLayer,c=e.getIcons(n,r,a,t.vertical),s=e.getDimensions(n,r,a,0,t.vertical?e.props.size.height:e.props.size.width,c.length),u=s.pagination,p=s.listSize,d=s.visibleIconsLength,f=n+r+a,b=n+r+2*a,m=t.vertical?{bottom:b,left:0,width:b,height:p}:{left:o+2*a+r,width:p,height:f},A=t.vertical?{height:f*d,width:f}:{height:f,width:f*d},g=e.props.modalParams&&e.props.modalParams.layer||{},y=(e.props.backgroundList||[]).find((function(e){return e.id===g.id})),h={title:g.title,format:g.format,style:g.style,additionalParameters:g.params,credits:(null==g?void 0:g.credits)||{},thumbnail:{data:y&&y.thumbnail,url:e.getThumb(g)}},v=e.props.confirmDeleteBackgroundModal||{show:!1},w=v.show,O=v.layerId,k=v.layerTitle;return d<=0&&!e.props.alwaysVisible&&e.props.enabled?null:L().createElement("span",null,L().createElement(kt.Z,{draggable:!1,modal:!0,show:w,onClose:function(){return e.props.onRemoveBackground(!1)},onConfirm:function(){e.props.removeBackground(O),e.props.onRemoveBackground(!1)},confirmButtonBSStyle:"default",confirmButtonContent:L().createElement(_.Z,{msgId:"confirm"}),closeText:L().createElement(_.Z,{msgId:"cancel"}),closeGlyph:"1-close"},L().createElement(_.Z,{msgId:"backgroundSelector.confirmDelete",msgParams:{title:k}})),e.props.modalParams&&L().createElement(Ot,Et({onClose:e.props.clearModal,onSave:function(t){e.props.modalParams.editing?(e.props.updateNode(t.id,"layers",t),e.props.onBackgroundEdit(t.id)):(e.props.addLayer(t),e.props.backgroundAdded(t.id))},updateThumbnail:e.props.onUpdateThumbnail},h,e.props.modalParams)),L().createElement("div",{className:"background-plugin-position",style:e.props.style},L().createElement(K,{layers:e.props.layers,showAdd:"mobile"!==e.props.mode&&e.props.mapIsEditable&&e.props.hasCatalog&&!e.props.enabledCatalog,onAdd:function(){return e.props.onAdd(e.props.source||"backgroundSelector")},showLabel:t.label,src:e.getThumb(l),side:o,frame:r,margin:a,labelHeight:i,label:l.title,onToggle:e.props.onToggle}),L().createElement("div",{className:"background-list-container",style:m},L().createElement(ge,{vertical:t.vertical,start:e.props.start,bottom:0,height:A.height,width:A.width,icons:c,pagination:u,length:d,onStartChange:e.props.onStartChange}))))})),e}return t=i,(r=[{key:"componentWillUnmount",value:function(){this.props.onLayerChange("currentLayer",{}),this.props.onLayerChange("tempLayer",{}),this.props.onStartChange(0)}},{key:"render",value:function(){return this.props.layers.length>0?this.renderBackgroundSelector():null}}])&&xt(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(L().Component);It(Rt,"propTypes",{mode:Z().string,backgroundList:Z().array,backgrounds:Z().array,start:Z().number,style:Z().object,enabled:Z().bool,layers:Z().array,currentLayer:Z().object,tempLayer:Z().object,size:Z().object,dimensions:Z().object,thumbs:Z().object,mapIsEditable:Z().bool,onPropertiesChange:Z().func,onToggle:Z().func,onLayerChange:Z().func,onStartChange:Z().func,onAdd:Z().func,hasCatalog:Z().bool,alwaysVisible:Z().bool,enabledCatalog:Z().bool,onRemove:Z().func,onBackgroundEdit:Z().func,source:Z().string,addBackgroundProperties:Z().func,onUpdateThumbnail:Z().func,removeBackground:Z().func,onRemoveBackground:Z().func,setCurrentBackgroundLayer:Z().func,confirmDeleteBackgroundModal:Z().object,deletedId:Z().string,modalParams:Z().object,updateNode:Z().func,clearModal:Z().func,allowDeletion:Z().bool,projection:Z().string}),It(Rt,"defaultProps",{mode:"desktop",addBackgroundProperties:function(){},onBackgroundEdit:function(){},setCurrentBackgroundLayer:function(){},source:"backgroundSelector",start:0,style:{},enabled:!1,layers:[],currentLayer:{},tempLayer:{},size:{width:0,height:0},dimensions:{},allowDeletion:!0,thumbs:{unknown:r(502750)},mapIsEditable:!0,onRemoveBackground:function(){},onPropertiesChange:function(){},onToggle:function(){},onLayerChange:function(){},onStartChange:function(){},onAdd:function(){},onRemove:function(){},clearModal:function(){}});const Lt=Rt;function _t(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Mt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_t(Object(r),!0).forEach((function(t){Zt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_t(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Zt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Qt=(0,u.P1)([d.uy,f.B0,f.Mz,f.TC,p.pV,d.Od,d.HJ,f.TP,p.X_,p.DP,p.qh,function(e){return(0,b.ic)(e,{left:!0,bottom:!0})},function(e){return e.controls&&e.controls.metadataexplorer&&e.controls.metadataexplorer.enabled},function(e){return e.browser&&e.browser.mobile?"mobile":"desktop"},f.qS,f.Pe],(function(e,t,r,n,o,a,i,l,c,s,u,p,d,f,b,m){return{mode:f,modalParams:t,backgroundList:r,deletedId:n,backgrounds:o,size:a&&a.size||{width:0,height:0},mapIsEditable:i,layers:l,tempLayer:u,currentLayer:s,start:c.start||0,enabled:c.enabled,style:p,enabledCatalog:d,confirmDeleteBackgroundModal:b,allowDeletion:m,projection:e}})),zt=(0,o.compose)((0,n.connect)(Qt,{onPropertiesChange:c.He,onToggle:l.Xi.bind(null,"backgroundSelector",null),onLayerChange:l.Xg.bind(null,"backgroundSelector"),onStartChange:l.Xg.bind(null,"backgroundSelector","start"),onAdd:s.st,addLayer:c.A4,backgroundAdded:s.pW,onRemove:c.ZF,onBackgroundEdit:s.$D,updateNode:c.tV,onUpdateThumbnail:s.r5,removeBackground:s.X1,clearModal:s.V3,addBackgroundProperties:s.US,onRemoveBackground:s.p2,setCurrentBackgroundLayer:s.ke},(function(e,t,r){return Mt(Mt(Mt(Mt({},e),t),r),{},{thumbs:Mt(Mt({},m.Z),r.thumbs)})})),(0,o.withProps)((function(e){var t=e.items,r=void 0===t?[]:t;return{hasCatalog:!!i()(r,{name:"MetadataExplorer"})}})))(Lt);const Nt=(0,A.rx)("BackgroundSelector",{component:zt,reducers:{controls:g.Z,backgroundSelector:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s.xT:return S()({},e,{source:t.source});case y.xi:return S()({},e,{source:"metadataExplorer"});case s.Q2:return S()({},e,{modalParams:t.modalParams});case s.Zr:return S()({},e,{backgrounds:[],removedBackgroundsThumbIds:[],modalParams:{},lastRemovedId:void 0});case s.R3:if(t.id){var r=e.backgrounds||[],n=-1===r.findIndex((function(e){return e.id===t.id})),o=n?r.concat({id:t.id}):r,a=o.map((function(e){return e.id===t.id?S()({},e,{id:t.id,thumbnail:t.thumbnailData}):S()({},e)}));return S()({},e,{backgrounds:a})}return e;case s.l$:return S()({},e,{modalParams:void 0});case s.H_:var i=e.backgrounds||[],l=e.removedBackgroundsThumbIds||[],c=i.filter((function(e){return e.id!==t.backgroundId})),u=i.filter((function(e){return e.id===t.backgroundId&&!!e.thumbId})).map((function(e){return e.thumbId}));return S()({},e,{backgrounds:c,removedBackgroundsThumbIds:l.concat(u),lastRemovedId:t.backgroundId});case s.Op:return S()({},e,{backgrounds:t.backgrounds});case s.uL:return S()({},e,{confirmDeleteBackgroundModal:{show:t.show,layerTitle:t.layerTitle,layerId:t.layerId}});case s.zg:return S()({},e,{allowDeletion:t.allow||!1});default:return e}}},epics:I})},507872:(e,t,r)=>{"use strict";r.d(t,{Z:()=>C});var n=r(670570),o=r.n(n),a=r(904925),i=r.n(a),l=r(650277),c=r.n(l),s=r(25518),u=r.n(s),p=r(464322),d=r.n(p),f=r(535339),b=r.n(f),m=r(507790),A=r.n(m),g=r(728753),y=r.n(g),h=r(378465),S=r.n(h),v=r(328424),w=r.n(v),O=r(76886),k=r.n(O),j=r(337679),E=r.n(j),P=r(807909),x=r.n(P);const C={google:{HYBRID:E(),ROADMAP:o(),TERRAIN:i(),SATELLITE:c()},bing:{Aerial:u(),AerialWithLabels:w()},osm:{mapnik:d()},mapquest:{osm:x()},ol:{undefined:A()},nasagibs:{Night2012:S()},OpenTopoMap:{OpenTopoMap:k()},unknown:y(),s2cloudless:{"s2cloudless:s2cloudless":b()}}},925108:(e,t,r)=>{"use strict";r.d(t,{Z:()=>u});var n=r(782904),o=r(727418),a=r.n(o),i=r(921914);function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case n.kM:var r=t.property||"enabled";return a()({},e,s({},t.control,a()({},e[t.control],s({},r,!(e[t.control]||{})[r]))));case n.At:return!0===t.toggle&&e[t.control]&&e[t.control][t.property]===t.value?a()({},e,s({},t.control,a()({},e[t.control],s({},t.property,void 0)))):a()({},e,s({},t.control,a()({},e[t.control],s({},t.property,t.value))));case n.dc:return a()({},e,s({},t.control,a()({},e[t.control],t.properties)));case n.l:var o=Object.keys(e).filter((function(e){return-1===(t.skip||[]).indexOf(e)})),l=o.reduce((function(t,r){return a()(t,s({},r,a()({},e[r],!0===e[r].enabled?{enabled:!1}:{})))}),{});return a()({},e,l);case i.DW:return c(c({},e),{},{info:c(c({},e.info),{},{available:t.isMounted})});default:return e}}},55105:(e,t,r)=>{"use strict";r.d(t,{Ss:()=>u,Nr:()=>p,ic:()=>d,Jz:()=>b,VM:()=>m,CF:()=>A});var n=r(91175),o=r.n(n),a=r(800827),i=r(552259);function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var u=function(e){return e.maplayout&&e.maplayout.layout||{}},p=function(e){return e.maplayout&&e.maplayout.boundingMapRect||{}},d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=u(e);return r&&Object.keys(r).filter((function(e){return t[e]})).reduce((function(e,t){return c(c({},e),{},s({},t,r[t]))}),{})||{}},f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=u(e),n=!!o()(t.filter((function(e){return r[e.key]})).map((function(e){return"not"===e.type?r[e.key]!==e.value&&r[e.key]:r[e.key]===e.value})));return n},b=function(e){return f(e,[{key:"right",value:658}])},m=function(e){return f(e,[{key:"bottom",value:30,type:"not"}])},A=function(e){var t=(0,a.Od)(e),r=p(e);return r&&t&&t.size&&{left:(0,i.parseLayoutValue)(r.left,t.size.width),bottom:(0,i.parseLayoutValue)(r.bottom,t.size.height),right:(0,i.parseLayoutValue)(r.right,t.size.width),top:(0,i.parseLayoutValue)(r.top,t.size.height)}}},483139:(e,t,r)=>{"use strict";r.d(t,{Xq:()=>n,v9:()=>a});var n=function(e,t){return new Promise((function(r,n){var o=t||{},a=o.width,i=void 0===a?64:a,l=o.height,c=void 0===l?64:l,s=o.contain,u=o.type,p=void 0===u?"image/jpeg":u,d=o.quality,f=void 0===d?.5:d,b=new Image;b.crossOrigin="anonymous",b.onload=function(){var e=b.naturalWidth/b.naturalHeight,t=i,n=c,o=i/c,a=document.createElement("canvas");a.setAttribute("width",i),a.setAttribute("height",c),a.style.width=i+"px",a.style.height=c+"px";var l=a.getContext("2d"),u=!s&&e<o||s&&e>o?[t,t/e]:[n*e,n];l.save(),l.translate(t/2,n/2),l.drawImage(b,-u[0]/2,-u[1]/2,u[0],u[1]),l.restore();var d=a.toDataURL(p,f);r(d)},b.onerror=function(e){n(e)},b.src=e}))},o=function(e,t){return new Promise((function(r,n){var o=t||{},a=o.type,i=void 0===a?"image/jpeg":a,l=o.quality,c=void 0===l?.5:l,s=document.createElement("video");s.crossOrigin="anonymous";var u=document.createElement("source"),p=document.createElement("canvas");s.addEventListener("loadedmetadata",(function(){var e=s.videoWidth,t=s.videoHeight;p.setAttribute("width",e),p.setAttribute("height",t),p.style.width=e+"px",p.style.height=t+"px"}),!0),s.addEventListener("loadeddata",(function(){s.currentTime=1}),!0),s.addEventListener("seeked",(function(){p.getContext("2d").drawImage(s,0,0);try{var e=p.toDataURL(i,c);r(e)}catch(e){n(e)}}),!0),s.addEventListener("error",(function(e){n(e)}),!0),s.appendChild(u),s.setAttribute("src",e)}))},a=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=arguments.length>1?arguments[1]:void 0,a=/(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})|youtube\.com\/playlist\?list=/,i=null===(e=t.match(a))||void 0===e?void 0:e[1];return i?new Promise((function(e){return e("http://img.youtube.com/vi/".concat(i,"/sddefault.jpg"))})):t.match(/\.(mp4|og[gv]|webm|mov|m4v)($|\?)/i)?o(t).then((function(e){return n(e,r)})):new Promise((function(e,t){return t("Cannot create a thumbnail from the provided source")}))}},978382:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var n=r(923645),o=r.n(n)()((function(e){return e[1]}));o.push([e.id,".msgapi .bg-dialog-attribution-toolbar {\n    border: 1px solid #dddddd;\n    border-radius: 0;\n    box-shadow: inset 0 1px 1px rgb(0 0 0 / 8%);\n    -webkit-transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;\n    -o-transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;\n    transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;\n}\n\n.msgapi .rdw-link-modal {\n    width: 197px;\n    height: 215px;\n}\n\n.msgapi .rdw-link-modal-target-option,\n.msgapi .rdw-link-modal-label {\n    font-size: 12px;\n}\n\n.msgapi .rdw-link-modal-buttonsection {\n    position: absolute;\n    bottom: 5px;\n    left: 32px;\n}\n.msgapi .rdw-link-modal-buttonsection .rdw-link-modal-btn {\n    font-size: 12px;\n    width: 50px;\n    height: 25px;\n}\n",""]);const a=o},358751:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var n=r(923645),o=r.n(n)()((function(e){return e[1]}));o.push([e.id,"\n.msgapi .background-preview-button-label {\n    position: absolute;\n    overflow: hidden;\n    font-weight: bold;\n    font-size: 12px;\n    text-align: center;\n    -webkit-transition: all 0.0s;\n    -moz-transition: all 0.0s;\n    -o-transition: all 0.0s;\n    transition: all 0.0s;\n\n}\n\n.msgapi .background-preview-button-label div {\n    overflow: hidden;\n    opacity: 0.8;\n    box-shadow: 0 7px 14px rgba(0,0,0,0.12), 0 5px 5px rgba(0,0,0,0.11);\n    -webkit-box-shadow:  0 7px 14px rgba(0,0,0,0.12), 0 5px 5px rgba(0,0,0,0.11);\n    -moz-box-shadow:  0 7px 14px rgba(0,0,0,0.12), 0 5px 5px rgba(0,0,0,0.11);\n}\n\n.msgapi .background-preview-button-container {\n    -webkit-transition: all 0.3s;\n    -moz-transition: all 0.3s;\n    -o-transition: all 0.3s;\n    transition: all 0.3s;\n    box-shadow: 0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\n    -webkit-box-shadow: 0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\n    -moz-box-shadow:  0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\n}\n\n.msgapi .background-preview-button-frame {\n    overflow: hidden;\n    -webkit-transition: all 0.3s;\n    -moz-transition: all 0.3s;\n    -o-transition: all 0.3s;\n    transition: all 0.3s;\n}\n\n.msgapi .background-preview-button-frame img{\n    width: 100%;\n    height: 100%;\n}\n\n.msgapi .background-preview-button-container:hover {\n    cursor: pointer;\n    box-shadow: none;\n}\n\n.msgapi .background-preview-button-container:active {\n    opacity: 0.6;\n}\n",""]);const a=o},95098:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var n=r(923645),o=r.n(n)()((function(e){return e[1]}));o.push([e.id,"\n.msgapi .background-preview-icon-frame {\n    overflow: hidden;\n}\n\n.msgapi .background-preview-icon-frame img{\n    width: 100%;\n    height: 100%;\n}\n\n.msgapi .background-preview-icon-container-horizontal {\n    cursor: pointer;\n    float: left;\n    box-shadow: 0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\n    -webkit-box-shadow: 0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\n    -moz-box-shadow:  0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\n}\n\n.msgapi .background-preview-icon-container-horizontal:hover {\n    cursor: pointer;\n    box-shadow: none;\n    opacity: 0.9;\n}\n\n.msgapi .background-preview-icon-container-horizontal:active {\n    opacity: 0.6;\n}\n\n.msgapi .background-preview-icon-container-horizontal.disabled-icon {\n    cursor: not-allowed;\n    float: left;\n    opacity: 0.5;\n    box-shadow: 0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\n    -webkit-box-shadow: 0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\n    -moz-box-shadow:  0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\n}\n\n.msgapi .background-preview-icon-container-vertical {\n    cursor: pointer;\n    box-shadow: 0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\n    -webkit-box-shadow: 0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\n    -moz-box-shadow:  0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\n}\n\n.msgapi .background-preview-icon-container-vertical:hover {\n    cursor: pointer;\n    box-shadow: none;\n    opacity: 0.9;\n}\n\n.msgapi .background-preview-icon-container-vertical:active {\n    opacity: 0.6;\n}\n\n.msgapi .background-preview-icon-container-vertical.disabled-icon {\n    cursor: not-allowed;\n    opacity: 0.5;\n    box-shadow: 0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\n    -webkit-box-shadow: 0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\n    -moz-box-shadow:  0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\n}\n",""]);const a=o},103651:(e,t,r)=>{var n=r(442118),o=r(640554),a=Math.max;e.exports=function(e,t,r){var i=null==e?0:e.length;if(!i)return-1;var l=null==r?0:o(r);return l<0&&(l=a(i+l,0)),n(e,t,l)}},451584:(e,t,r)=>{var n=r(644239),o=r(637005);e.exports=function(e){return!0===e||!1===e||o(e)&&"[object Boolean]"==n(e)}},502750:(e,t,r)=>{e.exports=r.p+"MapStore2/web/client/components/background/img/default.jpg"},25518:(e,t,r)=>{e.exports=r.p+"MapStore2/web/client/plugins/background/assets/img/Aerial.jpg"},328424:(e,t,r)=>{e.exports=r.p+"MapStore2/web/client/plugins/background/assets/img/AerialWithLabels.jpg"},337679:(e,t,r)=>{e.exports=r.p+"MapStore2/web/client/plugins/background/assets/img/HYBRID.jpg"},378465:(e,t,r)=>{e.exports=r.p+"MapStore2/web/client/plugins/background/assets/img/NASA_NIGHT.jpg"},76886:(e,t,r)=>{e.exports=r.p+"MapStore2/web/client/plugins/background/assets/img/OpenTopoMap.jpg"},670570:(e,t,r)=>{e.exports=r.p+"MapStore2/web/client/plugins/background/assets/img/ROADMAP.jpg"},650277:(e,t,r)=>{e.exports=r.p+"MapStore2/web/client/plugins/background/assets/img/SATELLITE.jpg"},904925:(e,t,r)=>{e.exports=r.p+"MapStore2/web/client/plugins/background/assets/img/TERRAIN.jpg"},728753:(e,t,r)=>{e.exports=r.p+"MapStore2/web/client/plugins/background/assets/img/dafault.jpg"},464322:(e,t,r)=>{e.exports=r.p+"MapStore2/web/client/plugins/background/assets/img/mapnik.jpg"},807909:(e,t,r)=>{e.exports=r.p+"MapStore2/web/client/plugins/background/assets/img/mapquest-osm.jpg"},507790:e=>{e.exports="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEASABIAAD/2wBDAAMCAgMCAgMDAwMEAwMEBQgFBQQEBQoHBwYIDAoMDAsKCwsNDhIQDQ4RDgsLEBYQERMUFRUVDA8XGBYUGBIUFRT/2wBDAQMEBAUEBQkFBQkUDQsNFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBT/wgARCAD1APUDAREAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAf/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAGwgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAH//EABQQAQAAAAAAAAAAAAAAAAAAAJD/2gAIAQEAAQUCcH//xAAUEQEAAAAAAAAAAAAAAAAAAACQ/9oACAEDAQE/AXB//8QAFBEBAAAAAAAAAAAAAAAAAAAAkP/aAAgBAgEBPwFwf//EABQQAQAAAAAAAAAAAAAAAAAAAJD/2gAIAQEABj8CcH//xAAUEAEAAAAAAAAAAAAAAAAAAACQ/9oACAEBAAE/IXB//9oADAMBAAIAAwAAABCSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSf/8QAFBEBAAAAAAAAAAAAAAAAAAAAkP/aAAgBAwEBPxBwf//EABQRAQAAAAAAAAAAAAAAAAAAAJD/2gAIAQIBAT8QcH//xAAUEAEAAAAAAAAAAAAAAAAAAACQ/9oACAEBAAE/EHB//9k="},535339:(e,t,r)=>{e.exports=r.p+"MapStore2/web/client/plugins/background/assets/img/s2cloudless.jpg"}}]);