(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[43166,19081],{362520:(e,t,r)=>{"use strict";r.d(t,{d:()=>n,F:()=>o});var n="MAP_LAYOUT:UPDATE_MAP_LAYOUT";function o(e){return{type:n,layout:e}}},352595:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n=(0,r(461365).Z)(r(757588).Overlay)},212610:(e,t,r)=>{"use strict";r.d(t,{Z:()=>u});var n=r(124852),o=r.n(n),l=r(867076),i=r(957557),a=r.n(i),c=r(815135);const u=(0,l.branch)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.disabled,r=e.noTooltipWhenDisabled,n=void 0!==r&&r;return!(n&&t)}),c.Z,(function(e){return function(t){return o().createElement(e,a()(t,["tooltipId","tooltip","noTooltipWhenDisabled"]),t.children)}}))},993451:(e,t,r)=>{"use strict";r.d(t,{Z:()=>w});var n=r(86638),o=r(675263),l=r.n(o),i=r(984596),a=r.n(i),c=r(701469),u=r.n(c),s=r(414293),p=r.n(s),f=r(747037),y=r.n(f),d=r(867076),b=["messages"];function m(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},l=Object.keys(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var O=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"label";if(u()(t))return t.map((function(o){var l=(0,n.S$)(e,o[r]||y()(o)&&o||"");return g(g({},o),{},h({},r,p()(l)?t:l))}));var o=(0,n.S$)(e,t);return p()(o)?t:o},j=function(e,t,r){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;return g(g({},n),{},h({},o,e[o]&&O(t,e[o],r)))}};const w=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"label";return(0,d.compose)((0,d.getContext)({messages:l().object}),(0,d.mapProps)((function(r){var n=r.messages,o=m(r,b);return g(g({},o),a()(e).reduce(j(o,n,t),{}))})))}},617252:(e,t,r)=>{"use strict";r.d(t,{Z:()=>h});var n=r(124852),o=r.n(n),l=r(867076),i=r(675263),a=r.n(i),c=r(957557),u=r.n(c),s=r(757588),p=r(950966);function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function b(e,t){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},b(e,t)}function m(e,t){if(t&&("object"===f(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const h=(0,l.branch)((function(e){return e.popover}),(function(e){var t;return t=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}(f,t);var r,n,i,a,c=(i=f,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=v(i);if(a){var r=v(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return m(this,e)});function f(){return y(this,f),c.apply(this,arguments)}return r=f,(n=[{key:"renderPopover",value:function(){return o().createElement(s.Popover,u()(this.props.popover,["trigger","placement","text"]),this.props.popover.text)}},{key:"renderContent",value:function(){var t=(0,l.toClass)(e);return o().createElement(t,u()(this.props,["popover"]))}},{key:"render",value:function(){var e=!0===this.props.popover.trigger?["hover","focus"]:this.props.popover.trigger;return o().createElement("span",null,o().createElement(p.Z,{trigger:e,placement:this.props.popover.placement,overlay:this.renderPopover()},this.renderContent()))}}])&&d(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),f}(o().Component),g(t,"propTypes",{popover:a().object}),g(t,"defaultProps",{popover:{trigger:!0}}),t}))},145869:(e,t,r)=>{"use strict";r.d(t,{Z:()=>b});var n=r(124852),o=r.n(n),l=r(675263),i=r.n(l);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},s(e,t)}function p(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}(a,e);var t,r,n,l,i=(n=a,l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=f(n);if(l){var r=f(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return p(this,e)});function a(){return c(this,a),i.apply(this,arguments)}return t=a,(r=[{key:"render",value:function(){var e=this;return o().createElement("label",{className:"mapstore-switch-btn ".concat(this.props.className)},o().createElement("input",{type:"checkbox",disabled:this.props.disabled,checked:this.props.checked,onChange:function(){return e.props.onChange(!e.props.checked)}}),o().createElement("span",{onClick:function(){return e.props.onClick(!e.props.checked)},className:"m-slider"}))}}])&&u(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(o().Component);y(d,"propTypes",{disabled:i().bool,className:i().string,checked:i().bool,onChange:i().func,onClick:i().func}),y(d,"defaultProps",{className:"",checked:!1,onChange:function(){},onClick:function(){}});const b=d},80717:(e,t,r)=>{"use strict";r.d(t,{Z:()=>f});var n=r(124852),o=r.n(n),l=r(819081),i=r.n(l),a=r(757588),c=r(90085),u=["visible","Element","renderButton"];function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s.apply(this,arguments)}function p(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},l=Object.keys(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}const f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.buttons,r=void 0===t?[]:t,n=e.btnGroupProps,l=void 0===n?{}:n,f=e.btnDefaultProps,y=void 0===f?{}:f,d=e.transitionProps,b=void 0===d?{transitionName:"toolbar-btn-transition",transitionEnterTimeout:300,transitionLeaveTimeout:300}:d,m=function(){return r.map((function(e,t){var r=e.visible,n=void 0===r||r,l=e.Element,i=e.renderButton,a=p(e,u);return n?i||l&&o().createElement(l,s({key:a.key||t},a))||o().createElement(c.Z,s({key:a.key||t},y,a)):null}))};return o().createElement(a.ButtonGroup,l,b?o().createElement(i(),b,m()):m())}},90085:(e,t,r)=>{"use strict";r.d(t,{Z:()=>v});var n=r(124852),o=r.n(n),l=r(867076),i=r(805346),a=r(957557),c=r.n(a),u=r(757588),s=r(532425),p=r(212610),f=r(617252),y=r(282467),d=["glyph","loading","text","textId","glyphClassName","loaderProps","children"];function b(){return b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},b.apply(this,arguments)}function m(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},l=Object.keys(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}const v=(0,l.compose)(p.Z,f.Z)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.glyph,r=e.loading,n=e.text,l=void 0===n?"":n,a=e.textId,p=e.glyphClassName,f=void 0===p?"":p,v=e.loaderProps,g=void 0===v?{}:v,h=e.children,O=m(e,d);return o().createElement(y.Z,c()(O,["pullRight","confirmNo","confirmYes"]),t&&!r?o().createElement(u.Glyphicon,{glyph:t,className:f}):null,a?o().createElement(i.Z,{msgId:a}):l,r?o().createElement(s.Z,b({className:"ms-loader".concat(O.bsStyle&&" ms-loader-"+O.bsStyle||"").concat(O.bsSize&&" ms-loader-"+O.bsSize||"")},g)):null,h)}))},202576:(e,t,r)=>{"use strict";r.d(t,{Z:()=>O});var n=r(124852),o=r.n(n),l=r(180307),i=r.n(l),a=r(675263),c=r.n(a),u=r(757588),s=r(352595),p=r(950966);function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function b(e,t){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},b(e,t)}function m(e,t){if(t&&("object"===f(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}(c,e);var t,r,n,l,a=(n=c,l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=v(n);if(l){var r=v(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return m(this,e)});function c(){return y(this,c),a.apply(this,arguments)}return t=c,(r=[{key:"renderPopover",value:function(){return o().createElement(u.Popover,{id:this.props.id,placement:this.props.placement,positionLeft:this.props.left,positionTop:this.props.top,title:this.props.title},this.props.text)}},{key:"renderContent",value:function(){var e=this;return o().createElement(u.Glyphicon,{ref:function(t){e.target=t},className:"text-".concat(this.props.bsStyle),glyph:this.props.glyph})}},{key:"render",value:function(){var e=this,t=!0===this.props.trigger?["hover","focus"]:this.props.trigger;return o().createElement("span",{className:"mapstore-info-popover"},this.props.trigger?o().createElement(p.Z,{trigger:t,placement:this.props.placement,overlay:this.renderPopover()},this.renderContent()):[this.renderContent(),o().createElement(s.Z,{placement:this.props.placement,show:!0,target:function(){return i().findDOMNode(e.target)}},this.renderPopover())])}}])&&d(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(o().Component);g(h,"propTypes",{id:c().string,title:c().string,text:c().string,glyph:c().string,bsStyle:c().string,placement:c().string,left:c().number,top:c().number,trigger:c().oneOfType([c().array,c().bool])}),g(h,"defaultProps",{id:"",title:"",text:"",placement:"right",left:200,top:50,glyph:"question-sign",bsStyle:"info",trigger:["hover","focus"]});const O=h},680833:(e,t,r)=>{"use strict";r.d(t,{kB:()=>m,HI:()=>v});var n=r(472500),o=r.n(n),l=(r(91175),r(490173)),i=r(49977),a=r(501157),c=r(375875),u=r.n(c),s=(r(986267),r(624262)),p=r(510284),f=r(233044);function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function b(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}l.default;var m=function(e){return i.Observable.defer((function(){return a.ZP.getCapabilities((0,s.Fh)(e))})).let(p.oB).map((function(t){return a.ZP.parseLayerCapabilities(t,e)}))},v=function(e){return function(e){return i.Observable.defer((function(){return u().get(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.name,r=e.search,n=void 0===r?{}:r,l=e.url,i=o().parse(n.url||l,!0);return o().format(d(d({},i),{},{search:void 0,query:d(d({},i.query),{},{service:"WMS",version:"1.1.1",layers:t,outputFormat:"application/json",request:"DescribeLayer"})}))}(e))})).let(p.oB)}(e).map((function(e){var t=e.data,r=void 0===t?{}:t;return r&&r.layerDescriptions[0]})).map((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.owsURL;return d(d({},e),{},{params:{},search:r?{type:"wfs",url:(0,f.cleanAuthParamsFromURL)(r)}:void 0})}))}},55105:(e,t,r)=>{"use strict";r.d(t,{Ss:()=>s,Nr:()=>p,ic:()=>f,Jz:()=>d,VM:()=>b,CF:()=>m});var n=r(91175),o=r.n(n),l=r(800827),i=r(552259);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s=function(e){return e.maplayout&&e.maplayout.layout||{}},p=function(e){return e.maplayout&&e.maplayout.boundingMapRect||{}},f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=s(e);return r&&Object.keys(r).filter((function(e){return t[e]})).reduce((function(e,t){return c(c({},e),{},u({},t,r[t]))}),{})||{}},y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=s(e),n=!!o()(t.filter((function(e){return r[e.key]})).map((function(e){return"not"===e.type?r[e.key]!==e.value&&r[e.key]:r[e.key]===e.value})));return n},d=function(e){return y(e,[{key:"right",value:658}])},b=function(e){return y(e,[{key:"bottom",value:30,type:"not"}])},m=function(e){var t=(0,l.Od)(e),r=p(e);return r&&t&&t.size&&{left:(0,i.parseLayoutValue)(r.left,t.size.width),bottom:(0,i.parseLayoutValue)(r.bottom,t.size.height),right:(0,i.parseLayoutValue)(r.right,t.size.width),top:(0,i.parseLayoutValue)(r.top,t.size.height)}}},510284:(e,t,r)=>{"use strict";r.d(t,{sw:()=>v,oB:()=>g});var n=r(49977),o=r.n(n),l=r(227361),i=r.n(l),a=r(505055),c=r(507526);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function s(e,t){if(t&&("object"===u(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function p(e){var t="function"==typeof Map?new Map:void 0;return p=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return f(e,arguments,b(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),d(n,e)},p(e)}function f(e,t,r){return f=y()?Reflect.construct.bind():function(e,t,r){var n=[null];n.push.apply(n,t);var o=new(Function.bind.apply(e,n));return r&&d(o,r.prototype),o},f.apply(null,arguments)}function y(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function d(e,t){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},d(e,t)}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}r(324384);var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}(l,e);var t,r,n,o=(t=l,r=y(),function(){var e,n=b(t);if(r){var o=b(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return s(this,e)});function l(e,t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(r=o.call(this,e)).name="OGCError",r.code=t,r}return n=l,Object.defineProperty(n,"prototype",{writable:!1}),n}(p(Error)),v=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{tagNameProcessors:[c.stripPrefix],explicitArray:!1,mergeAttrs:!0};return o().Observable.bindNodeCallback((function(e,r){return(0,a.parseString)(e,t,r)}))(e)},g=function(e){return e.switchMap((function(e){return"string"==typeof e.data&&e.data.indexOf("ExceptionReport")>0?o().Observable.bindNodeCallback((function(e,t){return(0,a.parseString)(e,{tagNameProcessors:[c.stripPrefix],explicitArray:!1,mergeAttrs:!0},t)}))(e.data).map((function(e){var t=i()(e,"ExceptionReport.Exception.ExceptionText");throw new m(t||"Undefined OGC Service Error",i()(e,"ExceptionReport.Exception.exceptionCode"))})):o().Observable.of(e)}))}},632247:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var n=r(124852);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const l=function(e,t){var r,l,i=function(){if("undefined"==typeof window)return t;try{var r=window.localStorage.getItem(e);return r?JSON.parse(r):t}catch(r){return console.log("Error to get item key “".concat(e,"”:"),r),t}},a=(r=(0,n.useState)(i),l=2,function(e){if(Array.isArray(e))return e}(r)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,l=[],i=!0,a=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(l.push(n.value),!t||l.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(a)throw o}}return l}}(r,l)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,t):void 0}}(r,l)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=a[0],u=a[1];return(0,n.useEffect)((function(){u(i())}),[]),(0,n.useEffect)((function(){var e=function(){u(i())};return window.addEventListener("localStorage",e),function(){window.removeEventListener("localStorage",e)}}),[]),[c,function(t){try{var r=t instanceof Function?t(c):t;u(r),window.localStorage.setItem(e,JSON.stringify(r)),window.dispatchEvent(new Event("localStorage"))}catch(t){console.log("Error “".concat(e,"”:"),t)}}]}},678833:(e,t,r)=>{"use strict";r.d(t,{Z:()=>y});var n=r(124852),o=r.n(n),l=r(598611),i=r.n(l),a=r(322843);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?f(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const y=function(e){var t=e.items,r=e.loadedPlugins,l=e.loaderComponent,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];function s(e){return p(e.items).sort((function(e,t){return e.position>t.position?1:-1})).map((function(t){return u(u({},t),{},{Component:t.Component||(0,a.KB)(t,e.loadedPlugins,e.loaderComponent||o().createElement("div",null))})}))||[]}var f=(0,n.useRef)({});f.current={items:t,loadedPlugins:r,loaderComponent:l};var y=i()(Object.keys(r||{}),","),d=(0,n.useMemo)((function(){return s(f.current)}),[y].concat(p(c)));return d}},720432:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>Ie});var n=r(124852),o=r.n(n),l=r(322843),i=r(171703),a=r(22222),c=r(441609),u=r.n(c),s=r(757588),p=r(693473),f=r(580416),y=r(675110),d=r(800827),b=r(308316),m=r(55105),v=r(359112),g=r(675263),h=r.n(g),O=r(747037),j=r.n(O),w=r(513218),P=r.n(w),E=r(545578),S=r.n(E),C=r(805346),k=r(743129),x=r(86638);function L(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function A(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?L(Object(r),!0).forEach((function(t){Z(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Z(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function D(e){var t,r,n,l,i=e.node,a=e.allowNew,c=void 0!==a&&a,u=e.groups,s=e.currentLocale,p=e.onChange,f=c?k.ZP.Creatable:k.ZP,y=function(e){return(0,v.YQ)(e,s)},d=function(e,t){return(0,v.fu)(y(e),t)},b=u&&(0,v.yQ)(u),m=(t=u&&(0,v.yQ)(u,0,!0),r=(null==i?void 0:i.group)||"Default",n=t.find((function(e){return e.id===r}))||{},y(n.title));return o().createElement(f,{clearable:!1,key:"group-dropdown",options:S()([{value:"Default",label:"Default"}].concat((l=(b||(null==i?void 0:i.group)||[]).map((function(e){return P()(e)?A(A({},e),{},{label:d(e.label,b)}):{label:d(e,b),value:e}})),function(e){if(Array.isArray(e))return I(e)}(l)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(l)||function(e,t){if(e){if("string"==typeof e)return I(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?I(e,t):void 0}}(l)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())),"value"),isValidNewOption:v.gP,newOptionCreator:function(e){var t,r=e.valueKey,n=e.label,o=e.labelKey;return Z(t={},r,n.replace(/\./g,"${dot}").replace(/\//g,".")),Z(t,o,n),Z(t,"className","Select-create-option-placeholder"),t},value:{label:d(m,b),value:m},placeholder:d(m,b),onChange:function(e){var t=e.value;return p({group:t||"Default"})}})}function T(e,t){var r,n,l=e.node,i=void 0===l?{}:l,a=e.nodeType,c=e.showTooltipOptions,u=void 0===c||c,p=e.onChange,f=void 0===p?function(){}:p,y=e.groups,d=e.currentLocale,b=[{value:"Never",label:"Never"},{value:"30",label:"30"},{value:"60",label:"60"},{value:"90",label:"90"},{value:"120",label:"120"},{value:"180",label:"180"}],m=[{value:"title",label:(0,x.S$)(t.messages,"layerProperties.tooltip.title")},{value:"description",label:(0,x.S$)(t.messages,"layerProperties.tooltip.description")},{value:"both",label:(0,x.S$)(t.messages,"layerProperties.tooltip.both")},{value:"none",label:(0,x.S$)(t.messages,"layerProperties.tooltip.none")}],g=[{value:"top",label:(0,x.S$)(t.messages,"layerProperties.tooltip.top")},{value:"right",label:(0,x.S$)(t.messages,"layerProperties.tooltip.right")},{value:"bottom",label:(0,x.S$)(t.messages,"layerProperties.tooltip.bottom")}],h=i||{},O=h.title,w=h.description,E=void 0===w?"":w,S=h.tooltipOptions,L=void 0===S?"title":S,I=h.tooltipPlacement,T=void 0===I?"top":I,R=h.timeInterval,N=void 0===R?"Never":R,_=j()(O)?O:null!==(r=null!==(n=(0,v.YQ)(O,d))&&void 0!==n?n:null==O?void 0:O.default)&&void 0!==r?r:"";return o().createElement(o().Fragment,null,o().createElement(s.FormGroup,null,o().createElement(s.ControlLabel,null,o().createElement(C.Z,{msgId:"layerProperties.title"})),o().createElement(s.FormControl,{defaultValue:_,key:"title",type:"text",onBlur:function(e,t){var r="default"===e&&j()(i.title)?t.target.value:A(A({},P()(i.title)?i.title:{default:i.title||""}),{},Z({},e,t.target.value));f({title:r})}.bind(null,"default")})),o().createElement(s.FormGroup,null,o().createElement(s.ControlLabel,null,o().createElement(C.Z,{msgId:"layerProperties.description"})),o().createElement(s.FormControl,{defaultValue:E,key:"description",type:"text",onBlur:function(e){return f({description:e.target.value})}})),"layer"===a?o().createElement(o().Fragment,null,o().createElement(s.FormGroup,null,o().createElement(s.ControlLabel,null,o().createElement(C.Z,{msgId:"layerProperties.group"})),o().createElement(D,{node:i,onChange:f,groups:y,currentLocale:d})),o().createElement(s.FormGroup,null,o().createElement(s.ControlLabel,null,o().createElement(C.Z,{msgId:"layerProperties.refreshIntervalLayer"})),o().createElement(k.ZP,{clearable:!1,key:"refresh-interval-layer-dropdown",options:b,value:b.find((function(e){return e.value===N})),onChange:function(e){var t=e.value;return f({timeInterval:t||"Never"})}}))):null,u&&o().createElement(o().Fragment,null,o().createElement(s.FormGroup,null,o().createElement(s.ControlLabel,null,o().createElement(C.Z,{msgId:"gnviewer.nodeTooltipContent"})),o().createElement(k.ZP,{clearable:!1,key:"tooltips-dropdown",options:m,value:m.find((function(e){return e.value===L})),onChange:function(e){var t=e.value;return f({tooltipOptions:t||"title"})}})),o().createElement(s.FormGroup,null,o().createElement(s.ControlLabel,null,o().createElement(C.Z,{msgId:"gnviewer.nodeTooltipPlacement"})),o().createElement(k.ZP,{clearable:!1,key:"tooltips-placement-dropdown",options:g,value:g.find((function(e){return e.value===T})),onChange:function(e){var t=e.value;return f({tooltipPlacement:t||"top"})}}))))}T.contextTypes={messages:h().object};const R=T;function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const _=function(e){var t,r,l=e.expanded,i=e.title,a=e.children,c=e.onChange,u=(t=(0,n.useState)(l),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,l=[],i=!0,a=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(l.push(n.value),!t||l.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(a)throw o}}return l}}(t,r)||function(e,t){if(e){if("string"==typeof e)return N(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?N(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),p=u[0],f=u[1];return(0,n.useEffect)((function(){c&&c(p)}),[p]),o().createElement(o().Fragment,null,o().createElement("div",{className:"gn-layer-settings-section-title",onClick:function(){return f(!p)}},o().createElement(s.Glyphicon,{glyph:"chevron-".concat(p?"down":"right")})," ",i),p?a:null,o().createElement("hr",null))};var F=r(632247);function z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function G(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?z(Object(r),!0).forEach((function(t){M(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function M(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var $=r(974691),U=r.n($),W=r(710615),H=r(794192);const V=function(e){var t=e.node,r=void 0===t?{}:t,n=e.resolutions,l=e.projection,i=e.onChange,a=void 0===i?function(){}:i,c=e.zoom,u=r.opacity,p=void 0===u?1:u;return o().createElement(o().Fragment,null,o().createElement(s.FormGroup,null,o().createElement(s.ControlLabel,null,o().createElement(C.Z,{msgId:"opacity"})," %"),o().createElement(H.Z,{type:"number",min:0,max:100,name:"opacity",value:100*p,onChange:function(e){return a({opacity:U()(Math.round(e),0,100)/100})}})),o().createElement(s.FormGroup,null,o().createElement(W.Z,{title:o().createElement(s.ControlLabel,null,o().createElement(C.Z,{msgId:"layerProperties.visibilityLimits.title"})),layer:r,onChange:function(e){return a(e)},projection:l,resolutions:n,zoom:c})))};function Y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function q(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(r),!0).forEach((function(t){Q(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Q(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var J=r(281763),X=r.n(J),ee=r(202576),te=r(501157),re=r(737275),ne=r(490079);function oe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function le(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(r),!0).forEach((function(t){ie(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ie(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ae(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,l=[],i=!0,a=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(l.push(n.value),!t||l.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(a)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ce(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ce(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ce(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ue=r(535721);function se(){return se=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},se.apply(this,arguments)}function pe(e){return function(e){if(Array.isArray(e))return fe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return fe(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?fe(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fe(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ye(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function de(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ye(Object(r),!0).forEach((function(t){be(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ye(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function be(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function me(e){var t=e.canEdit,r=e.label,n=e.style,l=e.value,i=e.buttons,a=void 0===i?[]:i;return o().createElement("div",{style:de({display:"flex",width:"100%",alignItems:"center"},n)},o().createElement("div",{style:{overflow:"hidden",textOverflow:"ellipsis"}},r),a.map((function(e){var r=e.Component,n=e.name;return o().createElement(r,{key:n,status:"LAYER",btnProps:{variant:"default",className:"",size:""},hide:!t,selectedStyle:l})})))}var ve=r(678833),ge=r(362520),he=r(226735);function Oe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function je(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(r),!0).forEach((function(t){we(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Oe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function we(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Pe={gnUpdateLayerSettingsMapLayout:function(e,t){return e.ofType(ge.d,f.cI).filter((function(){var e,r,n;return null===(e=t.getState())||void 0===e||null===(r=e.layers)||void 0===r||null===(n=r.settings)||void 0===n?void 0:n.expanded})).filter((function(e){return e.source!==he.O.PANEL})).map((function(e){var r=e.layout,n=(0,re.u8)("mapLayout")||{left:{sm:300,md:500,lg:600},right:{md:658},bottom:{sm:30}},o=(0,ge.F)(je(je(je({},(0,m.Ss)(t.getState())),r),{},{left:n.left.sm,boundingMapRect:je(je({},(null==r?void 0:r.boundingMapRect)||{}),{},{left:n.left.sm})}));return je(je({},o),{},{source:he.O.PANEL})}))}};var Ee=["node","onChange","style","selectedNodes","onClose","items"];function Se(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ce(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ke(){return ke=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ke.apply(this,arguments)}var xe={group:function(e){var t,r,n=e.node,l=e.onChange,i=e.groups,a=e.currentLocale,c=(t=(0,F.Z)("settings-section",{general:!0}),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,l=[],i=!0,a=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(l.push(n.value),!t||l.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(a)throw o}}return l}}(t,r)||function(e,t){if(e){if("string"==typeof e)return B(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?B(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),u=c[0],s=c[1];return o().createElement(_,{title:o().createElement(C.Z,{msgId:"gnviewer.generalSettings"}),expanded:null==u?void 0:u.general,onChange:function(e,t){s(G(G({},u),{},M({},e,t)))}.bind(null,"general")},o().createElement(R,{node:n,onChange:l,nodeType:"group",groups:i,currentLocale:a}))},baseLayer:function(e){var t,r,n=e.node,l=void 0===n?{}:n,i=e.resolutions,a=e.projection,c=e.onChange,u=void 0===c?function(){}:c,s=e.zoom,p=e.groups,f=void 0===p?[]:p,y=e.currentLocale,d=(t=(0,F.Z)("settings-section",{general:!0,visibility:!1}),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,l=[],i=!0,a=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(l.push(n.value),!t||l.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(a)throw o}}return l}}(t,r)||function(e,t){if(e){if("string"==typeof e)return K(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?K(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),b=d[0],m=d[1];function v(e,t){m(q(q({},b),{},Q({},e,t)))}return o().createElement(o().Fragment,null,o().createElement(_,{title:o().createElement(C.Z,{msgId:"gnviewer.generalSettings"}),expanded:null==b?void 0:b.general,onChange:v.bind(null,"general")},o().createElement(R,{node:l,onChange:u,nodeType:"layer",groups:f,currentLocale:y})),o().createElement(_,{title:o().createElement(C.Z,{msgId:"gnviewer.visibilitySettings"}),expanded:null==b?void 0:b.visibility,onChange:v.bind(null,"visibility")},o().createElement(V,{node:l,resolutions:i,projection:a,onChange:u,zoom:s})))},wms:function(e){var t=e.node,r=void 0===t?{}:t,l=e.resolutions,i=e.projection,a=e.onChange,c=void 0===a?function(){}:a,u=e.zoom,f=e.formats,y=e.isLocalizedLayerStylesEnabled,d=e.currentLocaleLanguage,b=e.groups,m=void 0===b?[]:b,v=e.currentLocale,g=e.styleSelectorComponent,h=r.singleTile,O=void 0!==h&&h,j=r.tiled,w=void 0===j||j,P=r.transparent,E=void 0===P||P,S=r.localizedLayerStyles,x=void 0!==S&&S,L=r.imageFormats,A=r.format,Z=void 0===A?(0,re.u8)("defaultLayerFormat")||"image/png":A,I=r.url,D=r.legendOptions,T=void 0===D?{legendWidth:12,legendHeight:12}:D,N=ae((0,n.useState)(),2),z=N[0],G=N[1],M=ae((0,F.Z)("settings-section",{general:!0,visibility:!1,style:!1,tiling:!1}),2),B=M[0],$=M[1];function W(e,t){$(le(le({},B),{},ie({},e,t)))}var Y=(0,n.useRef)();function q(e){return T&&T[e]&&parseInt(T[e],10)<12?"error":null}function Q(){return"error"!==q("legendWidth")&&"error"!==q("legendHeight")&&X()(T.legendHeight)&&X()(T.legendWidth)}function K(e){var t=e.target.value&&Math.round(e.target.value),r=e.target.name;c({legendOptions:le(le({},T),{},ie({},r,t>=12?t:""))})}return(0,n.useEffect)((function(){return Y.current=!0,function(){Y.current=!1}}),[]),o().createElement(o().Fragment,null,o().createElement(_,{title:o().createElement(C.Z,{msgId:"gnviewer.generalSettings"}),expanded:null==B?void 0:B.general,onChange:W.bind(null,"general")},o().createElement(R,{node:r,onChange:c,nodeType:"layer",groups:m,currentLocale:v})),o().createElement(_,{title:o().createElement(C.Z,{msgId:"gnviewer.visibilitySettings"}),expanded:null==B?void 0:B.visibility,onChange:W.bind(null,"visibility")},o().createElement(V,{node:r,resolutions:l,projection:i,onChange:c,zoom:u})),o().createElement(_,{title:o().createElement(C.Z,{msgId:"gnviewer.styleSettings"}),expanded:null==B?void 0:B.style,onChange:W.bind(null,"style")},g,o().createElement(s.FormGroup,{validationState:q("legendWidth")},o().createElement(s.ControlLabel,null,o().createElement(C.Z,{msgId:"gnviewer.legendWidth"})),o().createElement(H.Z,{value:T.legendWidth,name:"legendWidth",type:"number",min:12,max:1e3,onChange:function(e){return c({legendOptions:le(le({},T),{},{legendWidth:e&&U()(Math.round(e),0,1e3)})})},onKeyPress:function(e){return"-"===e.key&&e.preventDefault()},onBlur:K})),o().createElement(s.FormGroup,{validationState:q("legendHeight")},o().createElement(s.ControlLabel,null,o().createElement(C.Z,{msgId:"gnviewer.legendHeight"})),o().createElement(H.Z,{value:T.legendHeight,name:"legendHeight",type:"number",min:12,max:1e3,onChange:function(e){return c({legendOptions:le(le({},T),{},{legendHeight:e&&U()(Math.round(e),0,1e3)})})},onKeyPress:function(e){return"-"===e.key&&e.preventDefault()},onBlur:K})),o().createElement(s.FormGroup,null,o().createElement(s.ControlLabel,null,o().createElement(C.Z,{msgId:"gnviewer.legendPreview"})),o().createElement("div",{style:{width:"100%",overflow:"auto"}},o().createElement(ne.Z,{style:{maxWidth:"none"},layer:r,legendHeight:Q()&&T.legendHeight||void 0,legendWidth:Q()&&T.legendWidth||void 0,language:y?d:void 0})))),o().createElement(_,{title:o().createElement(C.Z,{msgId:"gnviewer.tilingSettings"}),expanded:null==B?void 0:B.tiling,onChange:W.bind(null,"tiling")},o().createElement(s.FormGroup,null,o().createElement(s.ControlLabel,null,o().createElement(C.Z,{msgId:"layerProperties.format.title"})),o().createElement("div",{className:"ms-format-container"},o().createElement(k.ZP,{className:"format-select",key:"format-dropdown",clearable:!1,noResultsText:o().createElement(C.Z,{msgId:z?"layerProperties.format.loading":"layerProperties.format.noOption"}),isLoading:!!z,options:z?[]:(null==f?void 0:f.map((function(e){return{value:e,label:e}})))||L||te.QQ,value:Z,onChange:function(e){var t=e.value;return c({format:t})}}),o().createElement(p.Z,{tooltipId:"layerProperties.format.refresh",className:"square-button-md no-border format-refresh",onClick:function(){return e=I,void(z||(G(!0),(0,te.T6)(e).then((function(e){Y.current&&(c({imageFormats:e}),G(!1))})).catch((function(){Y.current&&G(!1)}))));var e},key:"format-refresh"},o().createElement(s.Glyphicon,{glyph:"refresh"})))),o().createElement(s.FormGroup,null,o().createElement(s.ControlLabel,null,"Size"),o().createElement(k.ZP,{key:"wsm-layersize-dropdown",clearable:!1,options:[{value:256,label:256},{value:512,label:512}],value:(null==r?void 0:r.tileSize)||256,onChange:function(e){var t=e.value;return c({tileSize:t})}})),o().createElement(s.FormGroup,null,o().createElement(s.Checkbox,{key:"transparent",checked:E,onChange:function(e){return c({transparent:e.target.checked})}},o().createElement(C.Z,{msgId:"layerProperties.transparent"})),o().createElement(s.Checkbox,{value:"tiled",key:"tiled",disabled:!!O,onChange:function(e){return c({tiled:e.target.checked})},checked:w},o().createElement(C.Z,{msgId:"layerProperties.cached"})),o().createElement(s.Checkbox,{key:"singleTile",value:"singleTile",checked:O,onChange:function(e){return c({singleTile:e.target.checked})}},o().createElement(C.Z,{msgId:"layerProperties.singleTile"})),y?o().createElement(s.Checkbox,{key:"localizedLayerStyles",value:"localizedLayerStyles","data-qa":"display-lacalized-layer-styles-option",checked:x,onChange:function(e){return c({localizedLayerStyles:e.target.checked})}},o().createElement(C.Z,{msgId:"layerProperties.enableLocalizedLayerStyles.label"})," ",o().createElement(ee.Z,{text:o().createElement(C.Z,{msgId:"layerProperties.enableLocalizedLayerStyles.tooltip"})})):null)))}},Le=(0,i.connect)((0,a.P1)([],(function(){return{}})),{})((function(e){var t,r,n,l,i,a,c,u,p,f,y,d,b,m,v,g=e.node,h=e.onChange,O=e.buttons,j=(d=((null==(r=g)||null===(n=r.extendedParams)||void 0===n||null===(l=n.mapLayer)||void 0===l||null===(i=l.extra_params)||void 0===i?void 0:i.styles)||[]).map((function(e){return de(de({},e),{},{canEdit:!0})})),b=(null==r||null===(a=r.extendedParams)||void 0===a||null===(c=a.mapLayer)||void 0===c||null===(u=c.dataset)||void 0===u?void 0:u.styles)||[],m=null==r||null===(p=r.extendedParams)||void 0===p||null===(f=p.mapLayer)||void 0===f||null===(y=f.dataset)||void 0===y?void 0:y.default_style,v=(null==r?void 0:r.availableStyles)||[],(0,ue.CF)([].concat(pe(m?[m]:[]),pe(b),pe(d),pe(v))).map((function(e){return{value:e.name,label:e.title,canEdit:e.canEdit}}))),w=j.find((function(e){return e.value===g.style}))||{};return null!=g&&null!==(t=g.extendedParams)&&void 0!==t&&t.mapLayer?o().createElement(s.FormGroup,null,o().createElement(s.ControlLabel,null,o().createElement(C.Z,{msgId:"gnviewer.style"})),o().createElement(k.ZP,{key:"style-selector",clearable:!1,options:j.map((function(e){var t=e.value,r=e.label,n=e.canEdit;return{value:t,label:o().createElement(me,{value:t,label:r,canEdit:n,buttons:O})}})),value:{value:g.style,label:o().createElement(me,se({},w,{style:{width:"calc(100% - 16px)"},buttons:O}))},onChange:function(e){var t=e.value;return h({style:t})}})):null})),Ae=(0,i.connect)((0,a.P1)([y.Ci,d.Od,y.Bt,b.Pz,b.KV,function(e){return(0,m.ic)(e,{height:!0})},y.Ci],(function(e,t,r,n,o,l){return{node:e,zoom:null==t?void 0:t.zoom,projection:null==t?void 0:t.projection,groups:r,currentLocale:n,currentLocaleLanguage:o,style:l}})),{onChange:f.tV,onClose:f.sF})((function(e,t){var r=e.node,n=e.onChange,l=e.style,i=(e.selectedNodes,e.onClose),a=e.items,c=void 0===a?[]:a,f=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},l=Object.keys(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,Ee),y=t.loadedPlugins,d=(0,ve.Z)({items:c,loadedPlugins:y});if(u()(r))return null;var b=!(null==r||!r.nodes),m=b?xe.group:xe[null==r?void 0:r.type]||xe.baseLayer,g=(null==r?void 0:r.title)&&(0,v.YQ)(r.title,f.currentLocale)||r.name;function h(e){n(r.id,b?"groups":"layers",e)}return o().createElement("div",{className:"gn-layer-settings",style:l},o().createElement("div",{className:"gn-layer-settings-head"},o().createElement("div",{className:"gn-layer-settings-title"},g),o().createElement(p.Z,{className:"square-button",onClick:function(){return i()}},o().createElement(s.Glyphicon,{glyph:"1-close"}))),o().createElement("div",{className:"gn-layer-settings-body"},o().createElement(m,ke({},f,{node:r,onChange:h,styleSelectorComponent:o().createElement(Le,ke({},f,{node:r,onChange:h,buttons:(d||[]).filter((function(e){return"style-button"===e.target}))}))}))))})),Ze=(0,i.connect)((0,a.P1)([],(function(){return{}})))((function(e){var t=e.status,r=e.onToolsActions,n=e.selectedLayers,l=e.selectedGroups;return"LAYER"!==t&&"GROUP"!==t?null:o().createElement(p.Z,{variant:"primary",className:"square-button-md",onClick:function(){"LAYER"===t||"LAYER_LOAD_ERROR"===t?r.onSettings(n[0].id,"layers",{opacity:parseFloat(void 0!==n[0].opacity?n[0].opacity:1)}):"GROUP"===t&&r.onSettings(l[l.length-1].id,"groups",{})}},o().createElement(s.Glyphicon,{glyph:"wrench"}))}));const Ie=(0,l.rx)("LayerSettings",{component:Ae,containers:{TOC:{target:"toolbar",Component:Ze}},epics:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Se(Object(r),!0).forEach((function(t){Ce(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Se(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},Pe),reducers:{}})},226735:(e,t,r)=>{"use strict";r.d(t,{O:()=>n});var n={PANEL:"PANEL"}},974691:(e,t,r)=>{var n=r(829750),o=r(14841);e.exports=function(e,t,r){return void 0===r&&(r=t,t=void 0),void 0!==r&&(r=(r=o(r))==r?r:0),void 0!==t&&(t=(t=o(t))==t?t:0),n(o(e),t,r)}},819081:(e,t,r)=>{"use strict";e.exports=r(1174)}}]);