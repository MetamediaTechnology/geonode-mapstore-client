(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[63109],{240626:(e,t,r)=>{"use strict";r.d(t,{bL:()=>n,f6:()=>o,E_:()=>i,U8:()=>c,Pg:()=>a});var n="SET_SEARCH_CONFIG_PROP",o="RESET_SEARCH_CONFIG",i="UPDATE_SERVICE";function c(){return{type:o,page:arguments.length>0&&void 0!==arguments[0]?arguments[0]:0}}function a(e){return{type:i,service:e,idx:arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1}}},399534:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(461365),o=r(569334);const i=(0,n.Z)(o.h_)},481756:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(171703),o=r(805346);const i=(0,n.connect)((function(e){return{locale:e.locale&&e.locale.currentLocale,messages:e.locale&&e.locale.messages||[]}}))(o.Z)},360951:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r(240626),o=r(782904),i=r(881808),c=r(727418),a=r.n(c);function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}const s=function(){var e,t,r,c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,s=arguments.length>1?arguments[1]:void 0;switch(s.type){case n.bL:return a()({},c,(e={},t=s.property,r=s.value,(t=function(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===l(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e));case i.ok:var u=s.config.map.text_search_config||s.config.map.text_serch_config;return a()({},c,{textSearchConfig:u});case o.l:case n.f6:return a()({},c,{service:void 0,page:s.page,init_service_values:void 0,editIdx:void 0});case n.E_:var p=(c.textSearchConfig&&c.textSearchConfig.services||[]).slice(),f=a()({},s.service,{priority:parseInt(s.service.priority,10)});return-1!==s.idx?p[s.idx]=f:p.push(f),a()({},c,{service:void 0,page:0,init_service_values:void 0,editIdx:void 0,textSearchConfig:{services:p,override:c.textSearchConfig&&c.textSearchConfig.override||!1}});default:return c}}},209289:(e,t,r)=>{"use strict";r.r(t),r.d(t,{RESET_SEARCH_CONFIG:()=>Ae,SET_SEARCH_CONFIG_PROP:()=>Be,UPDATE_SERVICE:()=>qe,default:()=>$e,setSearchConfigProp:()=>He});var n=r(124852),o=r.n(n),i=r(171703),c=r(22222),a=r(757588),l=r(675263),s=r.n(l),u=r(294184),p=r.n(u);function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function y(){return y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},y.apply(this,arguments)}function m(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,g(n.key),n)}}function b(e,t){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},b(e,t)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}function h(e,t,r){return(t=g(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g(e){var t=function(e,t){if("object"!==f(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==f(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===f(t)?t:String(t)}var P=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}(a,e);var t,r,n,i,c=(n=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=d(n);if(i){var r=d(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===f(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return v(e)}(this,e)});function a(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return h(v(e=c.call.apply(c,[this].concat(r))),"state",{is:"active"}),h(v(e),"onClick",(function(){return e.props.onClick?e.props.onClick.bind(v(e)):function(){}})),h(v(e),"onDisable",(function(){return e.props.onDisable?e.props.onDisable.bind(v(e)):function(){}})),h(v(e),"onConfirm",(function(){return e.props.onConfirm?e.props.onConfirm():e.props.confirming&&e.props.confirming.onClick?e.props.confirming.onClick():function(){}})),h(v(e),"isDisabled",(function(){return"disabled"===e.state.is})),h(v(e),"isConfirming",(function(){return"confirming"===e.state.is})),h(v(e),"isActive",(function(){return!e.isConfirming()&&!e.isDisabled()})),h(v(e),"handleClick",(function(){return e.isConfirming()&&e.props.disableAfterConfirmed?(e.onConfirm(),e.onDisable(),void e.setState({is:"disabled"})):e.isConfirming()?(e.onConfirm(),void e.setState({is:"active"})):(e.onClick(),void e.setState({is:"confirming"}))})),h(v(e),"handleBlur",(function(){e.setState({is:"active"})})),e}return t=a,(r=[{key:"render",value:function(){var e=this.props,t=e.children,r=e.buttonProps,n=e.confirming,i=e.disabled,c=this.props,a=c.text,l=c.style,s=c.className,u=void 0===s?"btn btn-sm btn-danger":s,f=this.isDisabled(),m=this.isConfirming();return f&&(a=i&&i.text||"Loading...",u=i&&i.className||"btn btn-sm btn-secondary",l=i&&i.style||{}),m&&(a=n&&n.text||"Confirm?",u=n&&n.className||"btn btn-sm btn-warning",l=n&&n.style||{}),o().createElement("button",y({className:p()("confirm-button",u),style:l,onClick:this.handleClick,onBlur:this.handleBlur,disabled:f},r),t,t?" ":"",a)}}])&&m(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(o().Component);h(P,"propTypes",{disableAfterConfirmed:s().bool,resetOnBlur:s().bool,onConfirm:s().func,onDisable:s().func,onClick:s().func,text:s().oneOfType([s().string,s().node]),className:s().string,style:s().object,confirming:s().shape({text:s().oneOfType([s().string,s().node]),className:s().string,style:s().object,onClick:s().func}),disabled:s().shape({text:s().oneOfType([s().string,s().node]),className:s().string,style:s().object}),children:s().node,buttonProps:s().object}),h(P,"defaultProps",{resetOnBlur:!0});const E=P;var O=r(807472),C=r(399534),S=r(481756),w=r(227361),_=r.n(w),j=r(618446),x=r.n(j),I=r(782904),k=r(240626),T=r(805346);function R(e){return R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R(e)}function N(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,G(n.key),n)}}function Z(e,t){return Z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Z(e,t)}function F(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D(e){return D=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},D(e)}function L(e,t,r){return(t=G(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function G(e){var t=function(e,t){if("object"!==R(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==R(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===R(t)?t:String(t)}var B=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Z(e,t)}(l,e);var t,r,n,i,c=(n=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=D(n);if(i){var r=D(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===R(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return F(e)}(this,e)});function l(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return L(F(e=c.call.apply(c,[this].concat(r))),"getOptions",(function(){return 0===e.props.services.length?o().createElement("div",{className:"search-service-name"},o().createElement(T.Z,{msgId:"search.serviceslistempty"})):e.props.services.map((function(t,r){return o().createElement("div",{className:"search-service-item",key:r},o().createElement("span",{className:"search-service-name"},t.name),o().createElement(E,{className:"list-remove-btn",onConfirm:function(){return e.remove(r)},text:o().createElement(a.Glyphicon,{glyph:"remove-circle"}),confirming:{className:"text-warning list-remove-btn",text:o().createElement(T.Z,{msgId:"search.confirmremove"})}}),o().createElement(a.Glyphicon,{onClick:function(){return e.edit(t,r)},glyph:"pencil"}))}))})),L(F(e),"edit",(function(t,r){e.props.onPropertyChange("init_service_values",t),e.props.onPropertyChange("service",t),e.props.onPropertyChange("editIdx",r),e.props.onPropertyChange("page",1)})),L(F(e),"toggleOverride",(function(){var t=e.props,r=t.services,n=t.override;e.props.onPropertyChange("textSearchConfig",{services:r,override:!n})})),L(F(e),"searchByLongdoMap",(function(){var t=e.props,r=t.services,n=t.longdoSearch;e.props.onPropertyChange("textSearchConfig",{services:r,longdoSearch:!n})})),L(F(e),"remove",(function(t){var r=e.props,n=r.services,o=r.override,i=n.filter((function(e,r){return r!==t}));e.props.onPropertyChange("textSearchConfig",{services:i,override:o})})),e}return t=l,(r=[{key:"render",value:function(){var e=this.props.override;return o().createElement("form",null,o().createElement(a.FormGroup,null,o().createElement(a.ControlLabel,null,o().createElement(T.Z,{msgId:"search.serviceslistlabel"})),o().createElement("div",{className:"services-list"},this.getOptions())),o().createElement(a.Checkbox,{checked:e,onChange:this.toggleOverride},o().createElement(T.Z,{msgId:"search.overriedservice"})))}}])&&N(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),l}(o().Component);L(B,"propTypes",{services:s().array,override:s().bool,longdoSearch:s().bool,service:s().object,onPropertyChange:s().func}),L(B,"contextTypes",{messages:s().object}),L(B,"defaultProps",{services:[],override:!1,longdoSearch:"true"===localStorage.getItem("isLongdoSearch"),onPropertyChange:function(){}});const A={Element:B,validate:function(){return!0}};var q=r(727418),V=r.n(q);function H(e){return H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},H(e)}function U(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,W(n.key),n)}}function M(e,t){return M=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},M(e,t)}function $(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function z(e){return z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},z(e)}function X(e,t,r){return(t=W(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function W(e){var t=function(e,t){if("object"!==H(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==H(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===H(t)?t:String(t)}var J=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&M(e,t)}(l,e);var t,r,n,i,c=(n=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=z(n);if(i){var r=z(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===H(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return $(e)}(this,e)});function l(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return X($(e=c.call.apply(c,[this].concat(r))),"updateProp",(function(t,r){var n=r.target.value;"queriableAttributes"===t&&(n=n.split(","));var o=V()({},e.props.service.options,X({},t,n));e.props.onPropertyChange("service",V()({},e.props.service,{options:o}))})),X($(e),"updateName",(function(t){var r=t.target.value;e.props.onPropertyChange("service",V()({},e.props.service,{name:r}))})),X($(e),"updateMaxFeatures",(function(t){var r=V()({},e.props.service.options,{maxFeatures:parseFloat(t[0],10)});e.props.onPropertyChange("service",V()({},e.props.service,{options:r}))})),e}return t=l,(r=[{key:"render",value:function(){var e=this.props.service,t=e.options,r=void 0===t?{}:t;return o().createElement("form",null,o().createElement("span",{className:"wfs-required-props-title"},o().createElement(T.Z,{msgId:"search.s_wfs_props_label"})),o().createElement(a.FormGroup,null,o().createElement(a.ControlLabel,null,o().createElement(T.Z,{msgId:"search.s_name"})),o().createElement(a.FormControl,{value:e.name,key:"name",type:"text",onChange:this.updateName})),o().createElement(a.FormGroup,null,o().createElement(a.ControlLabel,null,o().createElement(T.Z,{msgId:"search.s_url"})),o().createElement(a.FormControl,{value:r.url,key:"url",type:"text",onChange:this.updateProp.bind(null,"url")})),o().createElement(a.FormGroup,null,o().createElement(a.ControlLabel,null,o().createElement(T.Z,{msgId:"search.s_layer"})),o().createElement(a.FormControl,{value:r.typeName,key:"typeName",type:"text",onChange:this.updateProp.bind(null,"typeName")})),o().createElement(a.FormGroup,null,o().createElement(a.ControlLabel,null,o().createElement(T.Z,{msgId:"search.s_attributes"})),o().createElement(a.FormControl,{value:([r.queriableAttributes]||0).join(","),key:"queriableAttributes",type:"text",onChange:this.updateProp.bind(null,"queriableAttributes")})))}}])&&U(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),l}(o().Component);X(J,"propTypes",{service:s().object,onPropertyChange:s().func}),X(J,"defaultProps",{service:{},onPropertyChange:function(){}});const K={Element:J,validate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,r=void 0===t?{}:t,n=e.name,o=void 0===n?"":n,i=r.url,c=void 0===i?"":i,a=r.typeName,l=void 0===a?"":a,s=r.queriableAttributes,u=void 0===s?"":s;return o.length>0&&c.length>0&&l.length>0&&u.length>0}};var Q=r(185552),Y=r.n(Q),ee=r(743129),te=r(86638);function re(e){return re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},re(e)}function ne(){return ne=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ne.apply(this,arguments)}function oe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ie(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(r),!0).forEach((function(t){ue(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ce(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,pe(n.key),n)}}function ae(e,t){return ae=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ae(e,t)}function le(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function se(e){return se=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},se(e)}function ue(e,t,r){return(t=pe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pe(e){var t=function(e,t){if("object"!==re(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==re(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===re(t)?t:String(t)}var fe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ae(e,t)}(l,e);var t,r,n,i,c=(n=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=se(n);if(i){var r=se(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===re(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return le(e)}(this,e)});function l(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return ue(le(e=c.call.apply(c,[this].concat(r))),"updateProp",(function(t,r,n){var o=_()(n,r||"target.value");e.props.onPropertyChange("service",V()({},e.props.service,ue({},t,o)))})),ue(le(e),"updatePriority",(function(t){e.props.onPropertyChange("service",V()({},e.props.service,{priority:parseFloat(t[0],10)}))})),ue(le(e),"updateLaunchInfoPanel",(function(t){var r=t&&t.value?t.value:"";"no_info"===r&&(r=void 0),e.props.onPropertyChange("service",ie(ie({},e.props.service),{},{launchInfoPanel:r,openFeatureInfoButtonEnabled:!1,forceSearchLayerVisibility:!1}))})),e}return t=l,(r=[{key:"render",value:function(){var e,t,r=this.props.service,n=this.props.launchInfoPanelOptions||[{label:(0,te.S$)(this.context.messages,"search.s_launch_info_panel.no_info"),value:"no_info"},{label:(0,te.S$)(this.context.messages,"search.s_launch_info_panel.all_layers"),value:"all_layers"},{label:(0,te.S$)(this.context.messages,"search.s_launch_info_panel.single_layer"),value:"single_layer"}],i=(null==r?void 0:r.launchInfoPanel)||this.props.launchInfoPanelDefault;return o().createElement("form",null,o().createElement("span",{className:"wfs-required-props-title"},o().createElement(T.Z,{msgId:"search.s_result_props_label"})),o().createElement(a.FormGroup,null,o().createElement(a.ControlLabel,null,o().createElement(T.Z,{msgId:"search.s_title"})),o().createElement(a.FormControl,{value:r.displayName,key:"displayName",type:"text",placeholder:'e.g. "${properties.name}"',onChange:this.updateProp.bind(null,"displayName",null)})),o().createElement(a.FormGroup,null,o().createElement(a.ControlLabel,null,o().createElement(T.Z,{msgId:"search.s_description"})),o().createElement(a.FormControl,{value:r.subTitle,key:"subTitle",type:"text",onChange:this.updateProp.bind(null,"subTitle",null)})),o().createElement(a.FormGroup,null,o().createElement(a.ControlLabel,null,o().createElement(T.Z,{msgId:"search.s_priority"}),o().createElement(a.Label,{key:"priority-label",className:"slider-label"},parseInt(r.priority||1,10))),o().createElement(Y(),{key:"priority",start:[r.priority||1],step:1,range:{min:1,max:10},onSlide:this.updatePriority}),o().createElement("span",{className:"priority-info"},o().createElement(T.Z,{msgId:"search.s_priority_info"}))),o().createElement(a.FormGroup,null,o().createElement(a.ControlLabel,null,o().createElement(T.Z,{msgId:"search.s_launch_info_panel.label"})),o().createElement(ee.ZP,ne({options:n,clearable:!1,value:i,onChange:this.updateLaunchInfoPanel},this.props.launchInfoPanelSelectOptions)),"single_layer"===i?o().createElement(a.FormGroup,null,o().createElement(a.Checkbox,{checked:null!==(e=null==r?void 0:r.openFeatureInfoButtonEnabled)&&void 0!==e&&e,onChange:this.updateProp.bind(null,"openFeatureInfoButtonEnabled","target.checked")},o().createElement(T.Z,{msgId:"search.s_launch_info_panel.openFeatureInfoButtonCheckbox"})),o().createElement(a.Checkbox,{checked:null!==(t=null==r?void 0:r.forceSearchLayerVisibility)&&void 0!==t&&t,onChange:this.updateProp.bind(null,"forceSearchLayerVisibility","target.checked")},o().createElement(T.Z,{msgId:"search.s_launch_info_panel.forceSearchLayerVisibility"}))):null,o().createElement("span",{className:"priority-info with-top-margin"},o().createElement(T.Z,{msgId:"search.s_launch_info_panel.".concat(i,"_description")}))))}}])&&ce(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),l}(o().Component);ue(fe,"propTypes",{service:s().object,launchInfoPanelOptions:s().array,launchInfoPanelDefault:s().string,launchInfoPanelSelectOptions:s().object,onPropertyChange:s().func}),ue(fe,"contextTypes",{messages:s().object}),ue(fe,"defaultProps",{service:{},launchInfoPanelDefault:"no_info",launchInfoPanelSelectOptions:{},onPropertyChange:function(){}});const ye={Element:fe,validate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.displayName&&e.displayName.length>0}};function me(e){return me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},me(e)}function be(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ve(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?be(Object(r),!0).forEach((function(t){Ee(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):be(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function de(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Oe(n.key),n)}}function he(e,t){return he=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},he(e,t)}function ge(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pe(e){return Pe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Pe(e)}function Ee(e,t,r){return(t=Oe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Oe(e){var t=function(e,t){if("object"!==me(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==me(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===me(t)?t:String(t)}var Ce=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&he(e,t)}(l,e);var t,r,n,i,c=(n=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Pe(n);if(i){var r=Pe(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===me(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ge(e)}(this,e)});function l(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Ee(ge(e=c.call.apply(c,[this].concat(r))),"updateProp",(function(t,r){var n=r.target.value,o=V()({},e.props.service.options,Ee({},t,n));e.props.onPropertyChange("service",V()({},e.props.service,{options:o}))})),Ee(ge(e),"updateSliderProps",(function(t,r){var n=ve(ve({},e.props.service.options),{},Ee({},t,parseInt(r[0],10)));e.props.onPropertyChange("service",ve(ve({},e.props.service),{},{options:n}))})),e}return t=l,(r=[{key:"render",value:function(){var e=this.props.service.options,t=void 0===e?{}:e;return o().createElement("form",null,o().createElement("span",{className:"wfs-required-props-title"},o().createElement(T.Z,{msgId:"search.s_wfs_opt_props_label"})),o().createElement(a.FormGroup,null,o().createElement(a.ControlLabel,null,o().createElement(T.Z,{msgId:"search.s_sort"})),o().createElement(a.FormControl,{value:t.sortBy,key:"sortBy",type:"text",onChange:this.updateProp.bind(null,"sortBy")})),o().createElement(a.FormGroup,null,o().createElement(a.ControlLabel,null,o().createElement(T.Z,{msgId:"search.s_max_features"})),o().createElement(Y(),{key:"maxFeatures",start:[t.maxFeatures||1],range:{min:1,max:50},onSlide:this.updateSliderProps.bind(null,"maxFeatures")}),o().createElement(a.Label,{key:"maxFeatures-label",className:"slider-label"},t.maxFeatures||1)),o().createElement(a.FormGroup,null,o().createElement(a.ControlLabel,null,o().createElement(T.Z,{msgId:"search.s_max_zoom"})),o().createElement(Y(),{key:"maxZoomLevel",start:[t.maxZoomLevel||21],range:{min:1,max:35},onSlide:this.updateSliderProps.bind(null,"maxZoomLevel")}),o().createElement(a.Label,{key:"maxZoomLevel-label",className:"slider-label"},t.maxZoomLevel||21)))}}])&&de(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),l}(o().Component);Ee(Ce,"propTypes",{service:s().object,onPropertyChange:s().func}),Ee(Ce,"defaultProps",{service:{},onPropertyChange:function(){}});const Se={Element:Ce,validate:function(){return!0}};var we=r(282467),_e=r(815135),je=r(322843),xe=r(360951);function Ie(e){return Ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ie(e)}function ke(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Te(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ke(Object(r),!0).forEach((function(t){De(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ke(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Re(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Le(n.key),n)}}function Ne(e,t){return Ne=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ne(e,t)}function Ze(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fe(e){return Fe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Fe(e)}function De(e,t,r){return(t=Le(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Le(e){var t=function(e,t){if("object"!==Ie(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Ie(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Ie(t)?t:String(t)}var Ge=(0,_e.Z)(we.Z),Be="SET_SEARCH_CONFIG_PROP",Ae="RESET_SEARCH_CONFIG",qe="UPDATE_SERVICE",Ve=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ne(e,t)}(l,e);var t,r,n,i,c=(n=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Fe(n);if(i){var r=Fe(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Ie(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ze(e)}(this,e)});function l(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return De(Ze(e=c.call.apply(c,[this].concat(r))),"canProceed",(function(){var t=e.props,r=t.page,n=t.pages,o=t.service;return n[r].validate(o)})),De(Ze(e),"isDirty",(function(){var t=e.props,r=t.service,n=t.initServiceValues;return!x()(r,n)})),De(Ze(e),"renderFooter",(function(){var t=e.props,r=t.page,n=t.pages;return 0===r?o().createElement("span",{role:"footer"},o().createElement(Ge,{onClick:e.addService,bsStyle:"primary"},o().createElement(S.Z,{msgId:"search.addbtn"}))):r===n.length-1?o().createElement("span",{role:"footer"},o().createElement(Ge,{onClick:e.prev,bsStyle:"primary"},o().createElement(S.Z,{msgId:"search.prevbtn"})),o().createElement(Ge,{disabled:!e.canProceed(),onClick:e.update,bsStyle:"success"},o().createElement(S.Z,{msgId:"search.savebtn"}))):o().createElement("span",{role:"footer"},1===r&&e.isDirty()?o().createElement(E,{onConfirm:e.prev,bsStyle:"primary",confirming:{text:o().createElement(S.Z,{msgId:"search.cancelconfirm"})},text:o().createElement(S.Z,{msgId:"search.cancelbtn"})}):o().createElement(Ge,{onClick:e.prev,bsStyle:"primary"},o().createElement(S.Z,{msgId:1===r?"search.cancelbtn":"search.prevbtn"})),o().createElement(Ge,{disabled:!e.canProceed(),onClick:e.next,bsStyle:"primary"},o().createElement(S.Z,{msgId:"search.nextbtn"})))})),De(Ze(e),"onClose",(function(){e.props.toggleControl("searchservicesconfig"),e.props.restServiceConfig(0)})),De(Ze(e),"addService",(function(){var t=e.props.newService;e.props.onPropertyChange("init_service_values",t),e.props.onPropertyChange("service",t),e.props.onPropertyChange("page",1)})),De(Ze(e),"prev",(function(){var t=e.props.page;t>1?e.props.onPropertyChange("page",t-1):1===t&&e.props.restServiceConfig(0)})),De(Ze(e),"next",(function(){var t=e.props,r=t.page;r<t.pages.length-1&&e.props.onPropertyChange("page",r+1)})),De(Ze(e),"update",(function(){var t=e.props,r=t.service,n=t.editIdx;e.props.updateService(r,n)})),e}return t=l,(r=[{key:"render",value:function(){var e=this.props,t=e.enabled,r=e.pages,n=e.page,i=e.id,c=e.panelStyle,l=e.panelClassName,s=e.titleText,u=e.closeGlyph,p=e.onPropertyChange,f=e.service,y=e.textSearchConfig,m=void 0===y?{}:y,b=e.containerClassName,v=r&&r[n]||null;return t?o().createElement(C.Z,null,o().createElement(O.Z,{id:i,style:Te(Te({},c),{},{display:t?"block":"none"}),containerClassName:b,className:l,draggable:!1,modal:!0},o().createElement("span",{role:"header"},o().createElement("span",null,s),this.isDirty()?o().createElement(E,{className:"close",confirming:{text:o().createElement(S.Z,{msgId:"search.cancelconfirm"}),className:"btn btn-sm btn-warning services-config-editor-confirm-close"},onConfirm:this.onClose,bsStyle:"primary",text:o().createElement(a.Glyphicon,{glyph:u})}):o().createElement("button",{onClick:this.onClose,className:"close"},u?o().createElement(a.Glyphicon,{glyph:u}):o().createElement("span",null,"×"))),o().createElement("div",{role:"body",className:"services-config-editor"},o().createElement(v.Element,{services:m.services,override:m.override,longdoSearch:m.longdoSearch,onPropertyChange:p,service:f})),this.renderFooter())):null}}])&&Re(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),l}(o().Component);function He(e,t){return t.longdoSearch?localStorage.setItem("isLongdoSearch",!0):localStorage.setItem("isLongdoSearch",!1),{type:Be,property:e,value:t}}De(Ve,"propTypes",{id:s().string,enabled:s().bool,panelStyle:s().object,panelClassName:s().string,containerClassName:s().string,closeGlyph:s().string,titleText:s().oneOfType([s().string,s().element]),toggleControl:s().func,pages:s().arrayOf(s().shape({Element:s().func.isRequired,validate:s().func.isRequired})),page:s().number,service:s().object,initServiceValues:s().object,onPropertyChange:s().func,newService:s().object.isRequired,updateService:s().func,restServiceConfig:s().func,textSearchConfig:s().object,editIdx:s().number}),De(Ve,"defaultProps",{id:"search-services-config-editor",enabled:!1,panelStyle:{minWidth:"400px",zIndex:2e3,position:"absolute",top:"100px",minHeight:"300px",left:"calc(50% - 150px)",backgroundColor:"white"},panelClassName:"toolbar-panel",containerClassName:"",closeGlyph:"1-close",titleText:o().createElement(S.Z,{msgId:"search.configpaneltitle"}),closePanel:function(){},onPropertyChange:function(){},page:0,newService:{type:"wfs",name:"",displayName:"",subTitle:"",priority:1,options:{url:"",typeName:"",queriableAttributes:"",sortBy:"",maxFeatures:5,srsName:"EPSG:4326"}}});var Ue=(0,i.connect)((function(e){var t=e.controls,r=void 0===t?{}:t,n=e.searchconfig,o=void 0===n?{}:n;return{enabled:r.searchservicesconfig&&r.searchservicesconfig.enabled||!1,pages:[A,K,ye,Se],page:o&&o.page||0,service:o&&o.service,initServiceValues:o&&o.init_service_values,textSearchConfig:o&&o.textSearchConfig,editIdx:o&&o.editIdx}}),{toggleControl:I.Xi,onPropertyChange:He,restServiceConfig:k.U8,updateService:k.Pg})(Ve),Me=(0,i.connect)((0,c.P1)([function(e){return e.search||null},function(e){var t,r;return(null==e||null===(t=e.controls)||void 0===t||null===(r=t.searchservicesconfig)||void 0===r?void 0:r.enabled)||!1}],(function(e,t){return{activeTool:_()(e,"activeSearchTool","addressSearch"),enabled:t}})),{onToggleControl:I.Xi})((function(e){var t=e.activeTool,r=e.enabled,n=e.onToggleControl;return"addressSearch"===t?o().createElement(Ge,{bsStyle:"default",pullRight:!0,className:"square-button-md no-border",tooltipId:"search.searchservicesbutton",tooltipPosition:"bottom",onClick:function(){r||n("searchservicesconfig")}},o().createElement(a.Glyphicon,{glyph:"cog"})):null}));const $e=(0,je.rx)("SearchServicesConfig",{component:Ue,containers:{Search:{name:"SearchServicesConfigButton",target:"button",component:Me}},reducers:{searchconfig:xe.Z}})},945177:(e,t,r)=>{"use strict";var n=r(595318);t.__esModule=!0,t.default=void 0;var o,i=n(r(250139)),c="clearTimeout",a=function(e){var t=(new Date).getTime(),r=Math.max(0,16-(t-s)),n=setTimeout(e,r);return s=t,n},l=function(e,t){return e+(e?t[0].toUpperCase()+t.substr(1):t)+"AnimationFrame"};i.default&&["","webkit","moz","o","ms"].some((function(e){var t=l(e,"request");if(t in window)return c=l(e,"cancel"),a=function(e){return window[t](e)}}));var s=(new Date).getTime();(o=function(e){return a(e)}).cancel=function(e){window[c]&&"function"==typeof window[c]&&window[c](e)};var u=o;t.default=u,e.exports=t.default}}]);