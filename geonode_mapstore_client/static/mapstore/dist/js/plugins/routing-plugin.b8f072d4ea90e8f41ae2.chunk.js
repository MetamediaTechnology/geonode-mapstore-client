(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[73986,36882,55378,13581,35701],{508026:(e,t,r)=>{var n={"./cesium/plugins/index":143589,"./leaflet/index":408097,"./leaflet/plugins/index":935701,"./openlayers/index":39190,"./openlayers/plugins/index":103498,"./popups/index":821751};function o(e){var t=a(e);return r(t)}function a(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}o.keys=function(){return Object.keys(n)},o.resolve=a,e.exports=o,o.id=508026},114807:(e,t,r)=>{var n={"./cesium/plugins/index":143589,"./leaflet/plugins/index":935701,"./openlayers/plugins/index":103498};function o(e){var t=a(e);return r(t)}function a(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}o.keys=function(){return Object.keys(n)},o.resolve=a,e.exports=o,o.id=114807},604206:(e,t,r)=>{"use strict";r.d(t,{hZ:()=>n,pb:()=>o,kD:()=>a,DI:()=>i,IC:()=>l,iU:()=>s,W7:()=>u,uB:()=>c,Rh:()=>p,G_:()=>f,vU:()=>y,Vw:()=>m,KD:()=>d,uj:()=>h,lo:()=>b,Yf:()=>g,fo:()=>v,PY:()=>E,bp:()=>O,oJ:()=>w,k4:()=>S,sc:()=>x,Li:()=>P});var n="CHANGE_DRAWING_STATUS",o="DRAW:END_DRAWING",a="DRAW:SET_CURRENT_STYLE",i="DRAW:GEOMETRY_CHANGED",l="DRAW:DRAW_SUPPORT_STOPPED",s="DRAW:FEATURES_SELECTED",u="DRAW:DRAWING_FEATURES",c="DRAW:SET_SNAPPING_LAYER",p="DRAW:SNAPPING_IS_LOADING",f="DRAW:TOGGLE_SNAPPING",y="DRAW:SET_SNAPPING_CONFIG";function m(e,t,r,n,o){return{type:i,features:e,owner:t,enableEdit:r,textChanged:n,circleChanged:o}}function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{type:s,features:e}}function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{type:u,features:e}}function b(){return{type:l}}function g(e,t,r,o,a,i){return{type:n,status:e,method:t,owner:r,features:o,options:a,style:i}}function v(e,t){return{type:o,geometry:e,owner:t}}function E(e){return{type:a,currentStyle:e}}var O=function(e){return g("clean","",e,[],{})};function w(){return{type:f}}function S(e){return{type:c,snappingLayer:e}}function x(){return{type:p}}function P(e,t,r){return{type:y,value:e,prop:t,pluginCfg:r}}},921914:(e,t,r)=>{"use strict";r.d(t,{XL:()=>o,km:()=>a,Ih:()=>i,Xw:()=>l,Pn:()=>s,DZ:()=>u,e8:()=>c,E0:()=>p,F9:()=>f,X_:()=>y,pb:()=>m,qb:()=>d,Re:()=>h,ih:()=>b,xy:()=>g,jL:()=>v,oz:()=>E,ph:()=>O,lF:()=>w,gG:()=>S,cb:()=>x,GI:()=>P,B1:()=>T,fv:()=>j,gc:()=>A,zX:()=>R,ZF:()=>C,Zb:()=>N,DW:()=>I,Xp:()=>M,Fm:()=>_,sV:()=>L,Mn:()=>k,LU:()=>D,XP:()=>Z,WU:()=>G,JB:()=>B,g:()=>F,ws:()=>U,HP:()=>z,aN:()=>q,Pg:()=>Y,u0:()=>V,TM:()=>H,PM:()=>Q,lK:()=>K,sv:()=>X,MO:()=>J,oO:()=>$,Mc:()=>ee,Zw:()=>te,RA:()=>re,am:()=>ne,ZM:()=>oe,wm:()=>ae,Y$:()=>ie,Qu:()=>le,kT:()=>se});var n=r(647310),o="LOAD_FEATURE_INFO",a="ERROR_FEATURE_INFO",i="EXCEPTIONS_FEATURE_INFO",l="CHANGE_MAPINFO_STATE",s="NEW_MAPINFO_REQUEST",u="PURGE_MAPINFO_RESULTS",c="CHANGE_MAPINFO_FORMAT",p="SHOW_MAPINFO_MARKER",f="HIDE_MAPINFO_MARKER",y="SHOW_REVERSE_GEOCODE",m="HIDE_REVERSE_GEOCODE",d="GET_VECTOR_INFO",h="NO_QUERYABLE_LAYERS",b="CLEAR_WARNING",g="FEATURE_INFO_CLICK",v="IDENTIFY:UPDATE_FEATURE_INFO_CLICK_POINT",E="IDENTIFY:TOGGLE_HIGHLIGHT_FEATURE",O="TOGGLE_MAPINFO_STATE",w="UPDATE_CENTER_TO_MARKER",S="IDENTIFY:CHANGE_PAGE",x="IDENTIFY:CLOSE_IDENTIFY",P="IDENTIFY:CHANGE_FORMAT",T="IDENTIFY:TOGGLE_SHOW_COORD_EDITOR",j="IDENTIFY:EDIT_LAYER_FEATURES",A="IDENTIFY:CURRENT_EDIT_FEATURE_QUERY",R="IDENTIFY:SET_MAP_TRIGGER",C="IDENTIFY:TOGGLE_EMPTY_MESSAGE_GFI",N="IDENTIFY:SET_SHOW_IN_MAP_POPUP",I="IDENTIFY:IDENTIFY_IS_MOUNTED",M="IDENTIFY:INIT_PLUGIN";function _(e,t,r,n,a){return{type:o,data:t,reqId:e,requestParams:r,layerMetadata:n,layer:a}}function L(e,t,r,n){return{type:a,error:t,reqId:e,requestParams:r,layerMetadata:n}}function k(e,t,r,n){return{type:i,reqId:e,exceptions:t,requestParams:r,layerMetadata:n}}function D(){return{type:h}}function Z(){return{type:b}}function G(e,t){return{type:s,reqId:e,request:t}}function B(e,t,r,n){return{type:d,layer:e,request:t,metadata:r,queryableLayers:n}}function F(){return{type:u}}function U(e){return{type:c,infoFormat:e}}function z(){return{type:p}}function q(){return{type:f}}function W(e){return{type:y,reverseGeocodeData:e.data}}function Y(e){return function(t){n.Z.reverseGeocode(e).then((function(e){t(W(e))})).catch((function(e){t(W(e))}))}}function V(){return{type:m}}function H(){return{type:O}}function Q(e){return{type:w,status:e}}function K(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return{type:g,point:e,layer:t,filterNameList:r,overrideParams:n,itemId:o}}function X(e){return{type:v,point:e}}function J(e){return{type:E,enabled:e}}function $(e){return{type:S,index:e}}var ee=function(){return{type:x}},te=function(e){return{type:P,format:e}},re=function(e){return{type:T,showCoordinateEditor:e}},ne=function(e){return{type:j,layer:e}},oe=function(e){return{type:A,query:e}},ae=function(e){return{type:R,trigger:e}},ie=function(e){return{type:N,value:e}},le=function(e){return{type:I,isMounted:e}},se=function(e){return{type:M,cfg:e}}},647310:(e,t,r)=>{"use strict";r.d(t,{Z:()=>c});var n=r(375875),o=r.n(n),a=r(472500),i=r.n(a),l=r(727418),s=r.n(l),u={format:"json",bounded:0,polygon_geojson:1,priority:5};const c={geocode:function(e,t){var r=s()({q:e},u,t||{}),n=i().format({protocol:"https",host:"nominatim.openstreetmap.org",query:r});return o().get(n)},reverseGeocode:function(e,t){var r=s()({lat:e.lat,lon:e.lng},t||{},u),n=i().format({protocol:"https",host:"nominatim.openstreetmap.org/reverse",query:r});return o().get(n)}}},615402:(e,t,r)=>{"use strict";r.d(t,{Z:()=>h});var n=r(675263),o=r.n(n),a=r(124852),i=r.n(a);function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},c(e,t)}function p(e,t){if(t&&("object"===l(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var m=r(868195).FormattedHTMLMessage,d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t)}(l,e);var t,r,n,o,a=(n=l,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=f(n);if(o){var r=f(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return p(this,e)});function l(){return s(this,l),a.apply(this,arguments)}return t=l,(r=[{key:"render",value:function(){return this.context.intl?i().createElement(m,{id:this.props.msgId,values:this.props.msgParams}):i().createElement("span",null,this.props.msgId||"")}}])&&u(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),l}(i().Component);y(d,"propTypes",{msgId:o().string.isRequired,msgParams:o().object}),y(d,"contextTypes",{intl:o().object});const h=d},490079:(e,t,r)=>{"use strict";r.d(t,{Z:()=>x});var n=r(472500),o=r.n(n),a=r(701469),i=r.n(a),l=r(727418),s=r.n(l),u=r(675263),c=r.n(u),p=r(124852),f=r.n(p),y=r(233044),m=r(805346);function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function g(e,t){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},g(e,t)}function v(e,t){if(t&&("object"===d(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return E(e)}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e){return O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},O(e)}function w(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g(e,t)}(u,e);var t,r,n,a,l=(n=u,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=O(n);if(a){var r=O(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return v(this,e)});function u(){var e;h(this,u);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return w(E(e=l.call.apply(l,[this].concat(r))),"state",{error:!1}),w(E(e),"onImgError",(function(){e.setState((function(){return{error:!0}}))})),w(E(e),"getUrl",(function(e,t){if(e.layer&&"wms"===e.layer.type&&e.layer.url){var r=e.layer,n=t||i()(r.url)&&Math.floor(Math.random()*r.url.length),a=i()(r.url)?r.url[n]:r.url.replace(/[?].*$/g,""),l=o().parse(a),u=(0,y.clearNilValuesForParams)(r.params),c=s()({},{service:"WMS",request:"GetLegendGraphic",format:"image/png",height:e.legendHeight,width:e.legendWidth,layer:r.name,style:r.style||null,version:r.version||"1.3.0",SLD_VERSION:"1.1.0",LEGEND_OPTIONS:e.legendOptions},r.legendParams||{},e.language&&r.localizedLayerStyles?{LANGUAGE:e.language}:{},(0,y.addAuthenticationToSLD)(u||{},e.layer),u&&u.SLD_BODY?{SLD_BODY:u.SLD_BODY}:{},e.scales&&e.currentZoomLvl&&e.scaleDependent?{SCALE:Math.round(e.scales[e.currentZoomLvl])}:{});return(0,y.addAuthenticationParameter)(a,c),o().format({host:l.host,protocol:l.protocol,pathname:l.pathname,query:c})}return""})),w(E(e),"validateImg",(function(t){t.height<=1&&t.width<=2&&e.onImgError()})),e}return t=u,(r=[{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.state.error&&this.getUrl(e,0)!==this.getUrl(this.props,0)&&this.setState((function(){return{error:!1}}))}},{key:"render",value:function(){var e=this;return!this.state.error&&this.props.layer&&"wms"===this.props.layer.type&&this.props.layer.url?f().createElement("img",{onError:this.onImgError,onLoad:function(t){return e.validateImg(t.target)},src:this.getUrl(this.props),style:this.props.style}):f().createElement(m.Z,{msgId:"layerProperties.legenderror"})}}])&&b(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),u}(f().Component);w(S,"propTypes",{layer:c().object,legendHeight:c().number,legendWidth:c().number,legendOptions:c().string,style:c().object,currentZoomLvl:c().number,scales:c().array,scaleDependent:c().bool,language:c().string}),w(S,"defaultProps",{legendHeight:12,legendWidth:12,legendOptions:"forceLabels:on",style:{maxWidth:"100%"},scaleDependent:!0});const x=S},542872:(e,t,r)=>{"use strict";r.d(t,{Z:()=>D});var n=r(124852),o=r.n(n),a=r(675263),i=r.n(a),l=r(107412),s=r(615402),u=r(805346),c=r(757588);function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function m(e,t){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},m(e,t)}function d(e,t){if(t&&("object"===p(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return h(e)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}function g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}(l,e);var t,r,n,a,i=(n=l,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=b(n);if(a){var r=b(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return d(this,e)});function l(){var e;f(this,l);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return g(h(e=i.call.apply(i,[this].concat(r))),"onTouchStart",(function(t){var r=t.touches[0];e.startX=r.pageX,e.startY=r.pageY,e.setState({scrolling:!1})})),g(h(e),"onTouchMove",(function(t){var r=t.touches[0],n=t.currentTarget;if(e.state.scrolling)t.stopPropagation();else if(Math.abs(e.startY-r.pageY)>Math.abs(e.startX-r.pageX))t.stopPropagation();else{var o=e.startX<r.pageX?"left":"right";(n&&"left"===o&&n.clientWidth<n.scrollWidth&&0!==n.scrollLeft||n&&"right"===o&&n.clientWidth+n.scrollLeft!==n.scrollWidth)&&(e.setState({scrolling:!0}),t.stopPropagation())}})),g(h(e),"onTouchEnd",(function(){e.setState({scrolling:!1})})),g(h(e),"renderPage",(function(){var t="function"==typeof e.props.viewers?e.props.viewers:e.props.viewers[e.props.format];return t?o().createElement(t,{response:e.props.response,layer:e.props.layer}):null})),e}return t=l,(r=[{key:"render",value:function(){return o().createElement("div",{style:{width:"100%",height:"100%",overflowX:"auto"},onTouchMove:this.onTouchMove,onTouchStart:this.onTouchStart,onTouchEnd:this.onTouchEnd},this.renderPage())}}])&&y(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),l}(o().Component);g(v,"propTypes",{format:i().string,viewers:i().oneOfType([i().func,i().object]),response:i().oneOfType([i().string,i().object,i().node]),layer:i().object});var E=r(441609),O=r.n(E),w=r(531351),S=r.n(w),x=r(410240),P=r.n(x),T=r(902870);function j(e){return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j(e)}function A(){return A=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},A.apply(this,arguments)}function R(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function N(e,t){return N=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},N(e,t)}function I(e,t){if(t&&("object"===j(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return M(e)}function M(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e){return _=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},_(e)}function L(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&N(e,t)}(p,e);var t,r,n,a,i=(n=p,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=_(n);if(a){var r=_(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return I(this,e)});function p(){var e;R(this,p);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return L(M(e=i.call.apply(i,[this].concat(r))),"getResponseProperties",(function(){var t=e.props.validator(e.props.format),r=e.props.responses.map((function(e){return void 0===e?{}:e})),n=e.props.renderValidOnly?t.getValidResponses(r):r,o=t.getNoValidResponses(e.props.responses),a=e.props.requests.length===o.length;return{validResponses:n,currResponse:e.getCurrentResponse(n[e.props.index]),emptyResponses:a,invalidResponses:o}})),L(M(e),"getCurrentResponse",(function(t){return e.props.validator(e.props.format).getValidResponses([t])})),L(M(e),"renderEmptyLayers",(function(){var t=e.getResponseProperties(),r=t.invalidResponses,n=t.emptyResponses;if(0===e.props.missingResponses&&n)return null;var a=0!==r.length;if(e.props.renderValidOnly||(a=a&&0===e.props.missingResponses),a){var i=r.map((function(e){return e.layerMetadata.title}));return e.props.showEmptyMessageGFI&&!e.props.disableInfoAlert?o().createElement(c.Alert,{bsStyle:"info"},o().createElement(u.Z,{msgId:"noInfoForLayers"}),o().createElement("b",null,i.join(", "))):null}return null})),L(M(e),"renderPage",(function(t){var r=e.props.viewers[e.props.format];return r?o().createElement(r,{response:t}):null})),L(M(e),"renderEmptyPages",(function(){var t=e.getResponseProperties().emptyResponses;return 0===e.props.missingResponses&&t?o().createElement(c.Alert,{bsStyle:"danger"},o().createElement("h4",null,o().createElement(s.Z,{msgId:"noFeatureInfo"}))):null})),L(M(e),"renderPages",(function(){var t=e.getResponseProperties().validResponses;return t.map((function(r,n){var a,i,s=r.response,u=r.layerMetadata,p=(0,T.Qo)(r,e.props),f=e.props.header;null!=u&&null!==(a=u.viewer)&&void 0!==a&&a.type&&(i=(0,l.gA)(u.viewer.type));var y=t.filter((function(e){return!P()(e.response,"no features were found")})).length;return o().createElement(c.Panel,{eventKey:n,key:n,collapsible:e.props.collapsible,header:f?o().createElement("span",null,o().createElement(f,A({size:y},e.props.headerOptions,u,{index:e.props.index,onNext:function(){return e.props.onNext()},onPrevious:function(){return e.props.onPrevious()}}))):null,style:e.props.style},o().createElement(v,{response:s,format:p,viewers:i||e.props.viewers,layer:u}))}))})),L(M(e),"containerStyle",(function(t){return O()(t)&&e.props.isMobile?{height:"100%"}:{display:O()(t)?"none":"block"}})),e}return t=p,(r=[{key:"shouldComponentUpdate",value:function(e){return e.responses!==this.props.responses||e.missingResponses!==this.props.missingResponses||e.index!==this.props.index}},{key:"render",value:function(){var e=this,t=this.props.container,r=this.getResponseProperties(),n=r.currResponse,a=r.emptyResponses,i=[this.renderEmptyLayers(),o().createElement(t,A({},this.props.containerProps,{onChangeIndex:function(t){e.props.setIndex(t)},ref:"container",index:this.props.index||0,key:"swiper",style:this.containerStyle(n),className:"swipeable-view"}),this.renderPages())];return i=this.props.isMobile?i:S()(i),o().createElement("div",{className:"mapstore-identify-viewer"},a?this.renderEmptyPages():i.map((function(e){return e})))}}])&&C(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),p}(o().Component);L(k,"propTypes",{format:i().string,collapsible:i().bool,requests:i().array,responses:i().array,missingResponses:i().number,container:i().oneOfType([i().object,i().func]),header:i().oneOfType([i().object,i().func]),headerOptions:i().object,validator:i().func,viewers:i().object,style:i().object,containerProps:i().object,index:i().number,onNext:i().func,onPrevious:i().func,onUpdateIndex:i().func,setIndex:i().func,showEmptyMessageGFI:i().bool,renderValidOnly:i().bool,loaded:i().bool,isMobile:i().bool,disableInfoAlert:i().bool}),L(k,"defaultProps",{format:(0,l.wR)(),responses:[],requests:[],missingResponses:0,collapsible:!1,headerOptions:{},container:c.Accordion,validator:l.Te,viewers:(0,l.Qm)(),style:{position:"relative",marginBottom:0},containerProps:{},showEmptyMessageGFI:!0,renderValidOnly:!1,onNext:function(){},onPrevious:function(){},setIndex:function(){},isMobile:!1,disableInfoAlert:!1});const D=k},11196:(e,t,r)=>{"use strict";r.d(t,{mI:()=>a,Yy:()=>i});var n=r(867076),o=r(107412),a=(0,n.withHandlers)({onNext:function(e){var t=e.index,r=void 0===t?0:t,n=e.setIndex,o=void 0===n?function(){}:n,a=e.validResponses,i=void 0===a?[]:a;return function(){o(Math.min(i.length-1,r+1))}},onPrevious:function(e){var t=e.index,r=e.setIndex,n=void 0===r?function(){}:r;return function(){n(Math.max(0,t-1))}}}),i=(0,n.defaultProps)({format:(0,o.wR)(),validator:o.Te})},965539:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r(124852),o=r.n(n);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const s=function(e){var t=e.id,r=e.children,n=e.header,a=e.footer,l=e.columns,s=e.height,u=e.style,c=void 0===u?{}:u,p=e.className,f=e.bodyClassName,y=void 0===f?"ms2-border-layout-body":f;return o().createElement("div",{id:t,className:p,style:i({display:"flex",flexDirection:"column",width:"100%",height:"100%",overflow:"hidden"},c)},n,o().createElement("div",{className:y,style:{display:"flex",flex:1,overflowY:"auto"}},o().createElement("main",{className:"ms2-border-layout-content",style:{flex:1,overflowX:"hidden"}},s?o().createElement("div",{style:{height:s}},r):r),s?o().createElement("div",{style:{height:s}},l):l),a)}},408097:(e,t,r)=>{"use strict";r.r(t),r.d(t,{LLayer:()=>p,LMap:()=>f,MeasurementSupport:()=>y,Overview:()=>m,ScaleBar:()=>d,Feature:()=>h,default:()=>b});var n=r(152792),o=r(739726),a=r(442047),i=r(521975),l=r.n(i),s=r(20564),u=r.n(s),c=r(444948),p=n.Z,f=o.Z,y=a.Z,m=l(),d=u(),h=c.Z;const b={LLayer:p,LMap:f,MeasurementSupport:y,Overview:m,ScaleBar:d,Feature:h}},761444:(e,t,r)=>{"use strict";r.r(t);var n=r(556307),o=r.n(n),a=r(244712),i=r.n(a),l=(r(371851),r(727418)),s=r.n(l);o().BingLayer.prototype.loadMetadata=function(){if(!this.metaRequested){this.metaRequested=!0;var e=this,t="_bing_metadata_"+o().Util.stamp(this);window[t]=function(r){e.meta=r,window[t]=void 0;var n=document.getElementById(t);return n.parentNode.removeChild(n),r.errorDetails?(e.fire("load",{layer:e}),e.onError(r)):(e.initMetadata(r),null)};var r="file:"===document.location.protocol?"https":document.location.protocol.slice(0,-1),n=r+"://dev.virtualearth.net/REST/v1/Imagery/Metadata/"+this.options.type+"?include=ImageryProviders&jsonp="+t+"&key="+this._key+"&UriScheme="+r,a=document.createElement("script");a.type="text/javascript",a.src=n,a.id=t,document.getElementsByTagName("head")[0].appendChild(a)}},o().BingLayer.prototype.onError=function(e){return this.options.onError?this.options.onError(e):null},i().registerType("bing",{create:function(e){var t=e.apiKey,r={subdomains:[0,1,2,3],type:e.name,attribution:"Bing",culture:"",onError:e.onError,maxNativeZoom:e.maxNativeZoom||19,maxZoom:e.maxZoom||23};return e.zoomOffset&&(r=s()({},r,{zoomOffset:e.zoomOffset})),new(o().BingLayer)(t,r)},isValid:function(e){return!e.meta||!e.meta.statusCode||200===e.meta.statusCode}})},951735:(e,t,r)=>{var n=r(556307);e.exports=n.TileLayer.extend({initialize:function(e){n.TileLayer.prototype.initialize.call(this,this.url,e)}})},826696:(e,t,r)=>{"use strict";r.r(t);var n=r(244712),o=r.n(n),a=r(556307),i=r.n(a);r(514767),o().registerType("google",(function(e){return(null===(t=window)||void 0===t||null===(r=t.google)||void 0===r?void 0:r.maps)?i().gridLayer.googleMutant({type:e.name.toLowerCase(),maxNativeZoom:e.maxNativeZoom||18,maxZoom:e.maxZoom||20}):null;var t,r}))},790671:(e,t,r)=>{"use strict";r.r(t);var n=r(244712),o=r.n(n),a=r(471305),i=r.n(a),l=r(727418),s=r.n(l);r(522729),o().registerType("graticule",{create:function(e){var t=s()({interval:20,showOriginLabel:!0,redraw:"move"},e);return i()?new(i())(t):null},isValid:function(){return!!i()}})},352031:(e,t,r)=>{"use strict";r.r(t);var n=r(244712),o=r.n(n),a=r(357167),i=r.n(a);function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}o().registerType("mapquest",{create:function(e){return i()?i().mapLayer(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({maxZoom:23},e)):(e&&e.onError&&e.onError(),!1)},isValid:function(){return!!i()}})},151254:(e,t,r)=>{"use strict";r.r(t);var n=r(244712),o=r.n(n),a=r(556307),i=r.n(a);o().registerType("osm",(function(e){return i().tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',zoomOffset:e.zoomOffset||0,maxNativeZoom:e.maxNativeZoom||19,maxZoom:e.maxZoom||23})}))},135659:(e,t,r)=>{"use strict";r.r(t);var n=r(244712),o=r.n(n),a=r(556307),i=r.n(a);o().registerType("tms",(function(e){return i().tileLayer("".concat(e.tileMapUrl,"/{z}/{x}/{y}.").concat(e.extension),{hideErrors:e.hideErrors||!0,tms:!0})}))},70826:(e,t,r)=>{"use strict";r.r(t);var n=r(244712),o=r.n(n),a=r(556307),i=r.n(a),l=r(45992);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}o().registerType("tileprovider",(function(e){var t,r,n=l.Z.getLayerConfig(e.provider,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({maxZoom:23},e)),o=(r=2,function(e){if(Array.isArray(e))return e}(t=n)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw o}}return a}}(t,r)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=o[0],p=o[1];return i().tileLayer(a,p)}))},510733:(e,t,r)=>{"use strict";r.r(t);var n=r(244712),o=r.n(n),a=r(414293),i=r.n(a),l=r(556307),s=r.n(l),u=function e(t,r){t.eachLayer&&t.eachLayer((function(t){t.setOpacity&&t.setOpacity(r),e(t,r)}))};o().registerType("vector",{create:function(e){var t=function(e){var t=e.hideLoading,r=s().geoJson([],{pointToLayer:"marker"!==e.styleName?function(t,r){return s().circleMarker(r,t.style||e.style)}:null,hideLoading:t});return r.setOpacity=function(e){u(r,e)},r.on("layeradd",(function(t){var n=t.layer;r.setOpacity(i()(r.opacity)?e.opacity:r.opacity,n)})),r}(e);return t.opacity=i()(e.opacity)?1:e.opacity,t},update:function(e,t,r){t.opacity!==r.opacity&&(e.opacity=t.opacity)},render:function(){return null}})},622946:(e,t,r)=>{"use strict";var n=r(414293),o=r.n(n),a=r(618446),i=r.n(a),l=r(556307),s=r.n(l),u=r(443143),c=r(986267),p=r(244712),f=r.n(p),y=r(143378),m=r(432420),d=r(838848),h=["color","fillColor"];function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){v(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function v(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var E=function(e,t){e.fireEvent("loading");var r=(0,y.v)(t),n=function(){e.fireEvent("loadError")};return(0,m.Bm)(t.url,t.name,g({outputFormat:"application/json",maxFeatures:1e3,srsname:(0,c.normalizeSRS)("EPSG:4326")},r)).then((function(t){return 200===t.status?(e.clearLayers(),e.addData(t.data),e.fireEvent("load")):(console.error(t),n(new Error("status code of response:"+t.status))),e})).catch((function(e){n()}))},O=function(e){var t=e||{},r=t.color,n=t.fillColor;return g(g({},function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(t,h)),{},{color:(0,u.qq)(r,1),fillColor:(0,u.qq)(n,1)})},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.style&&e.style[0]||e.style;return O(t)},S=function(e,t){var r=w(t);e.setStyle(r),e.options.style=r,e.styleName=t.styleName},x=function e(t,r){t.eachLayer&&t.eachLayer((function(t){t.setOpacity&&t.setOpacity(r),e(t,r)}))},P=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=w(e),n=function(t,n){return"marker"===e.styleName?s().marker(n,r):s().circleMarker(n,r)},a=new(s().GeoJSON)(t,{pointToLayer:n,style:r});return a.setOpacity=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=g({},a.options.style||{}),r=t.fillOpacity,n=void 0===r?1:r,o=t.opacity,i=void 0===o?1:o,l=g(g({},t),{},{opacity:i*e,fillOpacity:n*e});a.setStyle(O(l)),x(a,e)},a.on("layeradd",(function(){S(a,e),a.setOpacity(o()(a.opacity)?e.opacity:a.opacity)})),a};f().registerType("wfs",{create:function(e){var t=P(e);return E(t,e),t.opacity=o()(e.opacity)?1:e.opacity,t},update:function(e,t,r){if(t.opacity!==r.opacity&&(e.opacity=t.opacity),(0,d.Es)(r,t)&&E(e,t),i()(t.style,r.style)||S(e,t),t.styleName!==r.styleName){var n=e.toGeoJSON().features;return P(t,n)}return null},render:function(){return null}})},136366:(e,t,r)=>{"use strict";r.r(t);var n=r(124852),o=r.n(n),a=r(805346),i=r(244712),l=r.n(i),s=r(143378),u=r(73785),c=r.n(u),p=r(556307),f=r.n(p),y=r(727418),m=r.n(y),d=r(701469),h=r.n(d),b=r(414293),g=r.n(b),v=r(233044),E=r(503901),O=r(624262),w=r(333358);function S(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r(312787),f().NonTiledLayer.WMSCustom=f().NonTiledLayer.WMS.extend({initialize:function(e,t){this._wmsUrl=e;var r=f().extend({},this.defaultWmsParams);for(var n in t)this.options.hasOwnProperty(n)||"CRS"===n.toUpperCase()||"maxNativeZoom"===n||(r[n]=t[n]);this.wmsParams=r,f().setOptions(this,t)},removeParams:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1?arguments[1]:void 0;return t.forEach((function(t){return delete e.wmsParams[t]})),r||this.redraw(),this}}),f().nonTiledLayer.wmsCustom=function(e,t){return new(f().NonTiledLayer.WMSCustom)(e,t)},f().TileLayer.MultipleUrlWMS=f().TileLayer.WMS.extend({initialize:function(e,t){this._url=e[0],this._urls=e,this._urlsIndex=0;var r=f().extend({},this.defaultWmsParams),n=t.tileSize||this.options.tileSize;for(var o in t.detectRetina&&f().Browser.retina?r.width=r.height=2*n:r.width=r.height=n,t)this.options.hasOwnProperty(o)||"CRS"===o.toUpperCase()||"maxNativeZoom"===o||(r[o]=t[o]);this.wmsParams=r,f().setOptions(this,t)},getTileUrl:function(e){var t=this._map,r=this.options.tileSize,n=e.multiplyBy(r),o=n.add([r,r]),a=this._crs.project(t.unproject(n,e.z)),i=this._crs.project(t.unproject(o,e.z)),l=this._wmsVersion>=1.3&&this._crs===f().CRS.EPSG4326?[i.y,a.x,a.y,i.x].join(","):[a.x,i.y,i.x,a.y].join(",");this._urlsIndex++,this._urlsIndex===this._urls.length&&(this._urlsIndex=0);var s=f().Util.template(this._urls[this._urlsIndex],{s:this._getSubdomain(e)});return s+f().Util.getParamString(this.wmsParams,s,!0)+"&BBOX="+l},removeParams:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1?arguments[1]:void 0;return t.forEach((function(t){return delete e.wmsParams[t]})),r||this.redraw(),this}}),f().tileLayer.multipleUrlWMS=function(e,t){return new(f().TileLayer.MultipleUrlWMS)(e,t)},f().TileLayer.ElevationWMS=f().TileLayer.MultipleUrlWMS.extend({initialize:function(e,t,r,n){this._tiles={},this._nodata=r,this._littleendian=n,f().TileLayer.MultipleUrlWMS.prototype.initialize.apply(this,arguments)},_addTile:function(e){var t=this.getTileUrl(e);(0,E.qR)(t,e,this._tileCoordsToKey(e))},getElevation:function(e,t){try{var r=this._getTileFromCoords(e),n=(0,E.yQ)(this._tileCoordsToKey(r),this._getTileRelativePixel(r,t),this.getTileSize().x,this._nodata,this._littleendian);return n.available?n.value:o().createElement(a.Z,{msgId:n.message})}catch(e){return o().createElement(a.Z,{msgId:"elevationLoadingError"})}},_getTileFromCoords:function(e){var t=this._map.project(e).divideBy(256).floor();return m()(t,{z:this._tileZoom})},_getTileRelativePixel:function(e,t){var r=Math.floor(t.x-this._getTilePos(e).x-this._map._getMapPanePos().x),n=Math.min(this.getTileSize().x-1,Math.floor(t.y-this._getTilePos(e).y-this._map._getMapPanePos().y));return new(f().Point)(r,n)},_removeTile:function(){},_abortLoading:function(){}}),f().tileLayer.elevationWMS=function(e,t,r,n){return new(f().TileLayer.ElevationWMS)(e,t,r,n)};var x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).reduce((function(t,r){return g()(e[r])?t:m()(t,S({},r,e[r]))}),{})};function P(e){var t=void 0!==e.opacity?e.opacity:1,r=(0,s.v)(e),n=m()({},e.baseParams,{attribution:e.credits&&(0,O.go)(e.credits),layers:e.name,styles:e.style||"",format:((0,w.z)(e.format)?"image/png":e.format)||"image/png",transparent:void 0===e.transparent||e.transparent,tiled:void 0===e.tiled||e.tiled,opacity:t,zIndex:e.zIndex,version:e.version||"1.3.0",tileSize:e.tileSize||256,maxZoom:e.maxZoom||23,maxNativeZoom:e.maxNativeZoom||18},m()(e._v_?{_v_:e._v_}:{},r||{}));return(0,v.addAuthenticationToSLD)(n,e)}function T(e){return e.map((function(e){return e.split("?")[0]}))}l().registerType("wms",{create:function(e){var t=T(h()(e.url)?e.url:[e.url]),r=x(P(e)||{});return t.forEach((function(t){return(0,v.addAuthenticationParameter)(t,r,e.securityToken)})),e.useForElevation?f().tileLayer.elevationWMS(t,r,e.nodata||-9999,e.littleendian||!1):e.singleTile?f().nonTiledLayer.wmsCustom(t[0],r):f().tileLayer.multipleUrlWMS(t,r)},update:function(e,t,r){if(r.singleTile!==t.singleTile||r.tileSize!==t.tileSize||r.securityToken!==t.securityToken&&t.visibility){var n=T(h()(t.url)?t.url:[t.url]),o=P(t)||{};return n.forEach((function(e){return(0,v.addAuthenticationParameter)(e,o,t.securityToken)})),t.singleTile?f().nonTiledLayer.wmsCustom(n[0],o):f().tileLayer.multipleUrlWMS(n,o)}var a=m()({},c().filterWMSParamOptions(P(r)),(0,v.addAuthenticationToSLD)(r.params||{},r)),i=m()({},c().filterWMSParamOptions(P(t)),(0,v.addAuthenticationToSLD)(t.params||{},t)),l=Object.keys(i).filter((function(e){return i[e]!==a[e]})),s=Object.keys(a).filter((function(e){return a[e]!==i[e]})),u={};return s.length>0&&e.removeParams(s,l.length>0),l.length>0&&(u=l.reduce((function(e,t){return m()({},e,S({},t,i[t]))}),u),e.setParams(x(m()(u,u.params,(0,v.addAuthenticationToSLD)(t.params||{},t))))),null}})},485365:(e,t,r)=>{"use strict";r.r(t);var n=r(244712),o=r.n(n),a=r(986267),i=r(556307),l=r.n(i),s=r(727418),u=r.n(s),c=r(233044),p=r(624262),f=r(707294),y=r(552259),m=r(91175),d=r.n(m),h=r(281763),b=r.n(h);function g(e){return function(e){if(Array.isArray(e))return v(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return v(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?v(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const E=l().TileLayer.extend({defaultWmtsParams:{service:"WMTS",request:"GetTile",version:"1.3.0",layer:"",style:"",tileMatrixSet:"",format:"image/jpeg"},initialize:function(e,t,r){this._url=e[0],this._urls=e,this._urlsIndex=0;var n=l().extend({},this.defaultWmtsParams),o=t.tileSize||this.options.tileSize;for(var a in t.detectRetina&&l().Browser.retina?n.width=n.height=2*o:n.width=n.height=o,t)this.options.hasOwnProperty(a)||"crs"===a||(n[a]=t[a]);this.wmtsParams=n,this.matrixIds=r.matrixIds&&this.getMatrix(r.matrixIds,r)||this.getDefaultMatrix(r),this.matrixSet=r.matrixSet&&r.matrixSet.TileMatrix||[],this.ignoreErrors=r.ignoreErrors||!1,l().setOptions(this,t)},getWMTSParams:function(e,t,r,n,o){var i=(0,y.getScales)()[r],l=d()(e.map((function(t,r){if(r===e.length-1)return null;var n=parseFloat(t.ScaleDenominator),o=parseFloat(e[r+1].ScaleDenominator);return n>=i&&o<i?i-o>(n-o)/2?{id:r,data:t}:{id:r+1,data:e[r+1]}:null})).filter((function(e){return e}))),s=l&&b()(l.id)&&l.id+""||0===e.length&&r||null;if(!t[s])return null;var u=t[s].identifier,c=l.data&&l.data.TopLeftCorner&&(0,a.parseString)(l.data.TopLeftCorner)||t[s].topLeftCorner,p=c.lng||c.x,f=c.lat||c.y,m=Math.round((n.x-p)/o),h=-Math.round((n.y-f)/o),g=l.data&&l.data.MatrixWidth&&l.data.MatrixHeight&&{cols:{min:0,max:l.data.MatrixWidth-1},rows:{min:0,max:l.data.MatrixHeight-1}},v=t[s].ranges||g;return v&&!function(e,t,r){return!(e<r.cols.min||e>r.cols.max||t<r.rows.min||t>r.rows.max)}(m,h,v)?null:{ident:u,tilecol:m,tilerow:h}},getTileUrl:function(e){var t=this._map,r=t.options.crs,n=this.options.tileSize,o=e.multiplyBy(n);o.x+=1,o.y-=1;var a=o.add([n,n]),i=r.project(t.unproject(o,e.z)),s=r.project(t.unproject(a,e.z)).x-i.x,u=this.getWMTSParams(g(this.matrixSet),g(this.matrixIds),e.z,i,s);if(!u)return"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7";this._urlsIndex++,this._urlsIndex===this._urls.length&&(this._urlsIndex=0);var c=l().Util.template(this._urls[this._urlsIndex],{s:this._getSubdomain(e),TileRow:u.tilerow,TileCol:u.tilecol,TileMatrixSet:this.options.tileMatrixSet,TileMatrix:u.ident,Style:this.options.style});return"RESTful"===this.options.requestEncoding?c:c+l().Util.getParamString(this.wmtsParams,c,!0)+"&tilematrix="+u.ident+"&tilerow="+u.tilerow+"&tilecol="+u.tilecol},getMatrix:function(e,t){return e.map((function(e){return{identifier:e.identifier,topLeftCorner:new(l().LatLng)(t.originY,t.originX),ranges:e.ranges||null}}))},getDefaultMatrix:function(e){for(var t=new Array(22),r=0;r<22;r++)t[r]={identifier:e.tileMatrixPrefix+r,topLeftCorner:new(l().LatLng)(e.originY,e.originX)};return t},onError:function(){return!this.ignoreErrors}});var O=r(701469),w=r.n(O),S=r(333358);l().tileLayer.wmts=function(e,t,r){return new E(e,t,r)};var x=function(e){var t=function(e){return e.map((function(e){return e.split("?")[0]}))}(w()(e.url)?e.url:[e.url]),r=function(e){var t=(0,a.normalizeSRS)(e.srs||"EPSG:3857",e.allowedSRS),r=e.credits&&(0,p.go)(e.credits)||"",n=f.C2(e.tileMatrixSet,t,e.allowedSRS,e.matrixIds);return u()({requestEncoding:e.requestEncoding,layer:e.name,style:e.style||"",attribution:r,format:((0,S.z)(e.format)?"image/png":e.format)||"image/png",tileMatrixSet:n,version:e.version||"1.0.0",tileSize:e.tileSize||256,CRS:(0,a.normalizeSRS)(e.srs||"EPSG:3857",e.allowedSRS),maxZoom:e.maxZoom||23,maxNativeZoom:e.maxNativeZoom||18},e.params||{})}(e)||{};t.forEach((function(t){return(0,c.addAuthenticationParameter)(t,r,e.securityToken)}));var n=(0,a.normalizeSRS)(e.srs||"EPSG:3857",e.allowedSRS),o=f.h7(e,n),i=o.tileMatrixSet,s=o.matrixIds;return l().tileLayer.wmts(t,r,{tileMatrixPrefix:e.tileMatrixPrefix||r.tileMatrixSet+":"||n+":",originY:e.originY||20037508.3428,originX:e.originX||-20037508.3428,ignoreErrors:e.ignoreErrors||!1,matrixIds:s,matrixSet:i})};o().registerType("wmts",{create:x,update:function(e,t,r){return r.securityToken!==t.securityToken||r.format!==t.format||r.credits!==t.credits?x(t):null}})},935701:(e,t,r)=>{e.exports={BingLayer:r(761444),Commons:r(951735),GraticuleLayer:r(790671),GoogleLayer:r(826696),MapQuest:r(352031),OSMLayer:r(151254),TMSLayer:r(135659),TileProviderLayer:r(70826),WFSLayer:r(622946).default,WMSLayer:r(136366),WMTSLayer:r(485365),VectorLayer:r(510733)}},39190:(e,t,r)=>{"use strict";r.r(t),r.d(t,{Feature:()=>u,LLayer:()=>c,LMap:()=>p,MeasurementSupport:()=>f,Overview:()=>y,ScaleBar:()=>m,default:()=>d});var n=r(130072),o=r(145697),a=r(790596),i=r(505904),l=r(722404),s=r(809056),u=n.Z,c=o.Z,p=a.Z,f=i.Z,y=l.Z,m=s.Z;const d={LLayer:c,LMap:p,MeasurementSupport:f,Overview:y,ScaleBar:m,Feature:u}},821751:(e,t,r)=>{"use strict";r.r(t),r.d(t,{IDENTIFY_POPUP:()=>w,default:()=>S});var n=r(124852),o=r.n(n),a=r(173014),i=r(11196),l=r(867076),s=r(171703),u=r(22222),c=r(307877),p=r(921914),f=r(542872),y=r(701469),m=r.n(y),d=r(352353),h=r.n(d),b=r(979870),g=r(800827),v=(0,l.compose)((0,s.connect)((0,u.P1)(c.Qf,(function(e){return{index:e}})),{setIndex:p.oO}),(0,l.defaultProps)({index:0,responses:[]})),E=(0,u.P1)([c.q7,c.o9,c.OK,c.us,c.x0,g.hp,c.vR],(function(e,t,r,n,o,a,i){return{responses:e,validResponses:t,requests:r,format:n,showEmptyMessageGFI:o,missingResponses:(r||[]).length-(e||[]).length,renderValidOnly:a,loaded:i}}));const O=(0,l.compose)((0,s.connect)(E),(0,l.defaultProps)({responses:[],container:function(e){var t=e.index,r=e.children;return o().createElement(o().Fragment,null,m()(r)&&r[t]||r)},header:b.Z}),v,i.Yy,i.mI,(0,a.Z)((function(e){var t=e.loaded;return h()(t)})))(f.Z);var w="identify";const S={identify:O}},807472:(e,t,r)=>{"use strict";r.d(t,{Z:()=>P});var n=r(727418),o=r.n(n),a=r(675263),i=r.n(a),l=r(124852),s=r.n(l),u=r(485294),c=r.n(u),p=r(472986),f=r.n(p),y=r(805346);function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){S(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function v(e,t){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},v(e,t)}function E(e,t){if(t&&("object"===m(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return O(e)}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}function S(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}(l,e);var t,r,n,a,i=(n=l,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=w(n);if(a){var r=w(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return E(this,e)});function l(){var e;b(this,l);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return S(O(e=i.call.apply(i,[this].concat(r))),"renderLoading",(function(){return e.props.maskLoading?s().createElement("div",{style:{width:"100%",height:"100%",position:"absolute",overflow:"visible",margin:"auto",verticalAlign:"center",left:"0",background:"rgba(255, 255, 255, 0.5)",zIndex:2}},s().createElement("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -40%)"}},s().createElement(y.Z,{msgId:"loading"}),s().createElement(f(),{spinnerName:"circle",noFadeIn:!0,overrideSpinnerClassName:"spinner"}))):null})),S(O(e),"renderRole",(function(t){return s().Children.toArray(e.props.children).filter((function(e){return e.props.role===t}))})),S(O(e),"hasRole",(function(t){return s().Children.toArray(e.props.children).filter((function(e){return e.props.role===t})).length>0})),S(O(e),"onClickOut",(function(t){e.props.onClickOut&&e.mask===t.target&&e.props.onClickOut(t)})),e}return t=l,(r=[{key:"render",value:function(){var e=this,t=s().createElement("div",{id:this.props.id,style:h({},this.props.style),className:"".concat(this.props.draggable?"modal-dialog-draggable":""," ").concat(this.props.className," modal-dialog-container")},s().createElement("div",{className:this.props.headerClassName+" draggable-header"},this.renderRole("header")),s().createElement("div",{className:this.props.bodyClassName},this.renderLoading(),this.renderRole("body")),this.hasRole("footer")?s().createElement("div",{className:this.props.footerClassName},this.renderRole("footer")):s().createElement("span",null)),r=this.props.draggable?s().createElement(c(),{defaultPosition:this.props.start,bounds:this.props.bounds,handle:".draggable-header, .draggable-header *"},t):t,n=o()({},this.props.style.display?{display:this.props.style.display}:{},this.props.backgroundStyle);return this.props.modal?s().createElement("div",{ref:function(t){e.mask=t},onClick:this.onClickOut,style:n,className:"fade in modal "+this.props.containerClassName,role:"dialog"},r):r}}])&&g(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),l}(s().Component);S(x,"propTypes",{id:i().string.isRequired,style:i().object,backgroundStyle:i().object,className:i().string,maskLoading:i().bool,containerClassName:i().string,headerClassName:i().string,bodyClassName:i().string,footerClassName:i().string,onClickOut:i().func,modal:i().bool,start:i().object,draggable:i().bool,bounds:i().oneOfType([i().string,i().object])}),S(x,"defaultProps",{style:{},backgroundStyle:{background:"rgba(0,0,0,.5)"},start:{x:0,y:150},className:"modal-dialog modal-content",maskLoading:!1,containerClassName:"",headerClassName:"modal-header",bodyClassName:"modal-body",footerClassName:"modal-footer",modal:!1,draggable:!0,bounds:"parent"});const P=x},532425:(e,t,r)=>{"use strict";r.d(t,{Z:()=>f});var n=r(675263),o=r.n(n),a=r(124852),i=r.n(a);function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var c=function(e){return e>100?"full":e>40?"medium":"small"},p=function(e){var t=e.size,r=e.style,n=void 0===r?{}:r,o=e.className,a=e.hidden;return i().createElement("div",{className:o,style:s({width:t,height:t,overflow:"hidden"},n)},!a&&i().createElement("div",{className:"mapstore-".concat(c(t),"-size-loader")}))};p.propTypes={size:o().number,className:o().string,style:o().object};const f=p},82110:(e,t,r)=>{"use strict";r.d(t,{Z:()=>c});var n=r(124852),o=r.n(n),a=r(496259),i=r(532425);function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const c=function(e){var t=e.width,r=e.height,n=e.className,l=void 0===n?"loader-container":n,u=e.contentStyle,c=void 0===u?{}:u;return o().createElement("div",{className:l},o().createElement(a.Z,null,(function(e){var n=e.width,a=void 0===n?200:n,l=e.height,u=void 0===l?200:l,p=t||(u>0?Math.min(a,u):a),f=r||(u>0?Math.min(a,u):a),y=Math.min(p,f);return o().createElement(i.Z,{size:y,style:s({padding:y/10,margin:"auto",display:"flex"},c)})})))}},173014:(e,t,r)=>{"use strict";r.d(t,{Z:()=>u});var n=r(124852),o=r.n(n),a=r(867076),i=r(82110);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l.apply(this,arguments)}var s=function(e){var t=e.loading,r=e.isLoading;return t||r&&("function"==typeof r?r():!0===r)};const u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.Z;return(0,a.branch)(e,(function(){return function(e){var n=e.loaderProps;return o().createElement(r,l({},t,n))}}))}},993451:(e,t,r)=>{"use strict";r.d(t,{Z:()=>w});var n=r(86638),o=r(675263),a=r.n(o),i=r(984596),l=r.n(i),s=r(701469),u=r.n(s),c=r(414293),p=r.n(c),f=r(747037),y=r.n(f),m=r(867076),d=["messages"];function h(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){v(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function v(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var E=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"label";if(u()(t))return t.map((function(o){var a=(0,n.S$)(e,o[r]||y()(o)&&o||"");return g(g({},o),{},v({},r,p()(a)?t:a))}));var o=(0,n.S$)(e,t);return p()(o)?t:o},O=function(e,t,r){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;return g(g({},n),{},v({},o,e[o]&&E(t,e[o],r)))}};const w=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"label";return(0,m.compose)((0,m.getContext)({messages:a().object}),(0,m.mapProps)((function(r){var n=r.messages,o=h(r,d);return g(g({},o),l()(e).reduce(O(o,n,t),{}))})))}},357167:e=>{e.exports=window.MQ},836882:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n={OpenStreetMap:{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",options:{maxZoom:19,maxNativeZoom:19,credits:{text:"© OpenStreetMap, Open Street Map and contributors, CC-BY-SA",link:"http://www.openstreetmap.org/copyright"},attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'},variants:{Mapnik:{},BlackAndWhite:{url:"http://tiles.wmflabs.org/bw-mapnik/{z}/{x}/{y}.png",options:{maxZoom:18,maxNativeZoom:18}},DE:{url:"http://{s}.tile.openstreetmap.de/tiles/osmde/{z}/{x}/{y}.png",options:{maxZoom:18,maxNativeZoom:18}},France:{url:"http://{s}.tile.openstreetmap.fr/osmfr/{z}/{x}/{y}.png",options:{attribution:"&copy; Openstreetmap France | {attribution.OpenStreetMap}"}},HOT:{url:"http://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png",options:{attribution:'{attribution.OpenStreetMap}, Tiles courtesy of <a href="http://hot.openstreetmap.org/" target="_blank">Humanitarian OpenStreetMap Team</a>'}}}},OpenSeaMap:{url:"http://tiles.openseamap.org/seamark/{z}/{x}/{y}.png",options:{maxNativeZoom:18,attribution:'Map data: &copy; <a href="http://www.openseamap.org">OpenSeaMap</a> contributors',credits:{text:"Map data: © OpenSeaMap contributors",link:"http://www.openseamap.org"}}},OpenPtMap:{url:"http://openptmap.org/tiles/{z}/{x}/{y}.png",options:{maxZoom:17,attribution:'Map data: &copy; <a href="http://www.openptmap.org">OpenPtMap</a> contributors'}},OpenTopoMap:{url:"https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png",options:{maxZoom:17,attribution:'Map data: {attribution.OpenStreetMap}, <a href="http://viewfinderpanoramas.org">SRTM</a> | Map style: &copy; <a href="https://opentopomap.org">OpenTopoMap</a> (<a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA</a>)'}},OpenRailwayMap:{url:"https://{s}.tiles.openrailwaymap.org/standard/{z}/{x}/{y}.png",options:{maxZoom:19,attribution:'Map data: {attribution.OpenStreetMap} | Map style: &copy; <a href="https://www.OpenRailwayMap.org">OpenRailwayMap</a> (<a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA</a>)'}},OpenFireMap:{url:"http://openfiremap.org/hytiles/{z}/{x}/{y}.png",options:{maxZoom:19,attribution:'Map data: {attribution.OpenStreetMap} | Map style: &copy; <a href="http://www.openfiremap.org">OpenFireMap</a> (<a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA</a>)'}},SafeCast:{url:"https://s3.amazonaws.com/te512.safecast.org/{z}/{x}/{y}.png",options:{maxZoom:16,attribution:'Map data: {attribution.OpenStreetMap} | Map style: &copy; <a href="https://blog.safecast.org/about/">SafeCast</a> (<a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA</a>)'}},CyclOSM:{url:"https://dev.{s}.tile.openstreetmap.fr/cyclosm/{z}/{x}/{y}.png",options:{maxZoom:20,attribution:'<a href="https://github.com/cyclosm/cyclosm-cartocss-style/releases" title="CyclOSM - Open Bicycle render">CyclOSM</a> | Map data: {attribution.OpenStreetMap}'}},OpenMapSurfer:{url:"https://maps.heigit.org/openmapsurfer/tiles/{variant}/webmercator/{z}/{x}/{y}.png",options:{maxZoom:19,variant:"roads",attribution:'Imagery from <a href="http://giscience.uni-hd.de/">GIScience Research Group @ University of Heidelberg</a> | Map data '},variants:{Roads:{options:{variant:"roads",attribution:"{attribution.OpenMapSurfer}{attribution.OpenStreetMap}"}},Hybrid:{options:{variant:"hybrid",attribution:"{attribution.OpenMapSurfer}{attribution.OpenStreetMap}"}},AdminBounds:{options:{variant:"adminb",maxZoom:18,attribution:"{attribution.OpenMapSurfer}{attribution.OpenStreetMap}"}},ContourLines:{options:{variant:"asterc",maxZoom:18,minZoom:13,attribution:'{attribution.OpenMapSurfer} <a href="https://lpdaac.usgs.gov/products/aster_policies">ASTER GDEM</a>'}},Hillshade:{options:{variant:"asterh",maxZoom:18,attribution:'{attribution.OpenMapSurfer} <a href="https://lpdaac.usgs.gov/products/aster_policies">ASTER GDEM</a>, <a href="http://srtm.csi.cgiar.org/">SRTM</a>'}},ElementsAtRisk:{options:{variant:"elements_at_risk",attribution:"{attribution.OpenMapSurfer}{attribution.OpenStreetMap}"}}}},Hydda:{url:"https://{s}.tile.openstreetmap.se/hydda/{variant}/{z}/{x}/{y}.png",options:{maxZoom:18,variant:"full",attribution:'Tiles courtesy of <a href="http://openstreetmap.se/" target="_blank">OpenStreetMap Sweden</a> &mdash; Map data {attribution.OpenStreetMap}'},variants:{Full:"full",Base:"base",RoadsAndLabels:"roads_and_labels"}},Thunderforest:{url:"https://{s}.tile.thunderforest.com/{variant}/{z}/{x}/{y}.png",options:{maxNativeZoom:18,attribution:'&copy; <a href="http://www.opencyclemap.org">OpenCycleMap</a>, {attribution.OpenStreetMap}',credits:{text:"Map data: OpenCycleMap contributors",link:"http://www.opencyclemap.org"},variant:"cycle"},variants:{OpenCycleMap:"cycle",Transport:{options:{variant:"transport",maxZoom:19,maxNativeZoom:19}},TransportDark:{options:{variant:"transport-dark",maxZoom:19,maxNativeZoom:19}},Landscape:"landscape",Outdoors:"outdoors"}},MapQuestOpen:{url:"http://otile{s}.mqcdn.com/tiles/1.0.0/{type}/{z}/{x}/{y}.{ext}",options:{maxNativeZoom:18,type:"map",ext:"jpg",attribution:'Tiles Courtesy of <a href="http://www.mapquest.com/">MapQuest</a> &mdash; Map data {attribution.OpenStreetMap}',subdomains:["1","2","3","4"]},variants:{OSM:{},Aerial:{options:{type:"sat",attribution:'Tiles Courtesy of <a href="http://www.mapquest.com/">MapQuest</a> &mdash; Portions Courtesy NASA/JPL-Caltech and U.S. Depart. of Agriculture, Farm Service Agency'}},HybridOverlay:{options:{type:"hyb",ext:"png",opacity:.9}}}},MapBox:{url:"https://api.tiles.mapbox.com/v4/{source}/{z}/{x}/{y}.png?access_token={accessToken}",options:{maxNativeZoom:18,attribution:'Imagery from <a href="http://mapbox.com/about/maps/">MapBox</a> &mdash; Map data {attribution.OpenStreetMap}',subdomains:["a","b","c","d"]}},MapBoxStyle:{url:"https://api.mapbox.com/styles/v1/mapbox/{source}/tiles/{z}/{x}/{y}?access_token={accessToken}",options:{attribution:'Imagery from <a href="http://mapbox.com/about/maps/">MapBox</a>',subdomains:["a","b","c","d"]}},Stamen:{url:"https://stamen-tiles-{s}.a.ssl.fastly.net/{variant}/{z}/{x}/{y}.{ext}",options:{attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data {attribution.OpenStreetMap}',subdomains:"abcd",minZoom:0,maxZoom:20,variant:"toner",ext:"png"},variants:{Toner:"toner",TonerBackground:"toner-background",TonerHybrid:"toner-hybrid",TonerLines:"toner-lines",TonerLabels:"toner-labels",TonerLite:"toner-lite",Watercolor:{url:"https://stamen-tiles-{s}.a.ssl.fastly.net/{variant}/{z}/{x}/{y}.{ext}",options:{variant:"watercolor",ext:"jpg",minZoom:1,maxZoom:16}},Terrain:{options:{variant:"terrain",minZoom:0,maxZoom:18}},TerrainBackground:{options:{variant:"terrain-background",minZoom:0,maxZoom:18}},TerrainLabels:{options:{variant:"terrain-labels",minZoom:0,maxZoom:18}}}},Esri:{url:"https://server.arcgisonline.com/ArcGIS/rest/services/{variant}/MapServer/tile/{z}/{y}/{x}",options:{maxNativeZoom:18,variant:"World_Street_Map",attribution:"Tiles &copy; Esri"},variants:{WorldStreetMap:{options:{attribution:"{attribution.Esri} &mdash; Source: Esri, DeLorme, NAVTEQ, USGS, Intermap, iPC, NRCAN, Esri Japan, METI, Esri China (Hong Kong), Esri (Thailand), TomTom, 2012"}},DeLorme:{options:{variant:"Specialty/DeLorme_World_Base_Map",minZoom:1,maxZoom:11,maxNativeZoom:11,attribution:"{attribution.Esri} &mdash; Copyright: &copy;2012 DeLorme"}},WorldTopoMap:{options:{variant:"World_Topo_Map",attribution:"{attribution.Esri} &mdash; Esri, DeLorme, NAVTEQ, TomTom, Intermap, iPC, USGS, FAO, NPS, NRCAN, GeoBase, Kadaster NL, Ordnance Survey, Esri Japan, METI, Esri China (Hong Kong), and the GIS User Community"}},WorldImagery:{options:{variant:"World_Imagery",attribution:"{attribution.Esri} &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community"}},WorldTerrain:{options:{variant:"World_Terrain_Base",maxZoom:13,maxNativeZoom:13,attribution:"{attribution.Esri} &mdash; Source: USGS, Esri, TANA, DeLorme, and NPS"}},WorldShadedRelief:{options:{variant:"World_Shaded_Relief",maxZoom:13,maxNativeZoom:13,attribution:"{attribution.Esri} &mdash; Source: Esri"}},WorldPhysical:{options:{variant:"World_Physical_Map",maxZoom:8,maxNativeZoom:8,attribution:"{attribution.Esri} &mdash; Source: US National Park Service"}},OceanBasemap:{options:{variant:"Ocean_Basemap",maxZoom:13,maxNativeZoom:13,attribution:"{attribution.Esri} &mdash; Sources: GEBCO, NOAA, CHS, OSU, UNH, CSUMB, National Geographic, DeLorme, NAVTEQ, and Esri"}},NatGeoWorldMap:{options:{variant:"NatGeo_World_Map",maxZoom:16,maxNativeZoom:16,attribution:"{attribution.Esri} &mdash; National Geographic, Esri, DeLorme, NAVTEQ, UNEP-WCMC, USGS, NASA, ESA, METI, NRCAN, GEBCO, NOAA, iPC"}},WorldGrayCanvas:{options:{variant:"Canvas/World_Light_Gray_Base",maxZoom:16,maxNativeZoom:16,attribution:"{attribution.Esri} &mdash; Esri, DeLorme, NAVTEQ"}}}},OpenWeatherMap:{url:"http://{s}.tile.openweathermap.org/map/{variant}/{z}/{x}/{y}.png",options:{maxZoom:19,maxNativeZoom:19,attribution:'Map data &copy; <a href="http://openweathermap.org">OpenWeatherMap</a>',opacity:.5},variants:{Clouds:"clouds",CloudsClassic:"clouds_cls",Precipitation:"precipitation",PrecipitationClassic:"precipitation_cls",Rain:"rain",RainClassic:"rain_cls",Pressure:"pressure",PressureContour:"pressure_cntr",Wind:"wind",Temperature:"temp",Snow:"snow"}},HERE:{url:"https://{s}.{base}.maps.cit.api.here.com/maptile/2.1/maptile/{mapID}/{variant}/{z}/{x}/{y}/256/png8?app_id={app_id}&app_code={app_code}",options:{attribution:'Map &copy; 1987-2014 <a href="http://developer.here.com">HERE</a>',subdomains:["1","2","3","4"],mapID:"newest",app_id:"<insert your app_id here>",app_code:"<insert your app_code here>",base:"base",variant:"normal.day",maxZoom:20,maxNativeZoom:20},variants:{normalDay:"normal.day",normalDayCustom:"normal.day.custom",normalDayGrey:"normal.day.grey",normalDayMobile:"normal.day.mobile",normalDayGreyMobile:"normal.day.grey.mobile",normalDayTransit:"normal.day.transit",normalDayTransitMobile:"normal.day.transit.mobile",normalNight:"normal.night",normalNightMobile:"normal.night.mobile",normalNightGrey:"normal.night.grey",normalNightGreyMobile:"normal.night.grey.mobile",carnavDayGrey:"carnav.day.grey",hybridDay:{options:{base:"aerial",variant:"hybrid.day"}},hybridDayMobile:{options:{base:"aerial",variant:"hybrid.day.mobile"}},pedestrianDay:"pedestrian.day",pedestrianNight:"pedestrian.night",satelliteDay:{options:{base:"aerial",variant:"satellite.day"}},terrainDay:{options:{base:"aerial",variant:"terrain.day"}},terrainDayMobile:{options:{base:"aerial",variant:"terrain.day.mobile"}}}},Acetate:{url:"http://a{s}.acetate.geoiq.com/tiles/{variant}/{z}/{x}/{y}.png",options:{attribution:"&copy;2012 Esri & Stamen, Data from OSM and Natural Earth",subdomains:["0","1","2","3"],minZoom:2,maxZoom:18,maxNativeZoom:18,variant:"acetate-base"},variants:{basemap:"acetate-base",terrain:"terrain",all:"acetate-hillshading",foreground:"acetate-fg",roads:"acetate-roads",labels:"acetate-labels",hillshading:"hillshading"}},FreeMapSK:{url:"http://t{s}.freemap.sk/T/{z}/{x}/{y}.jpeg",options:{minZoom:8,maxZoom:16,maxNativeZoom:16,subdomains:["1","2","3","4"],bounds:[[47.204642,15.996093],[49.830896,22.576904]],attribution:'{attribution.OpenStreetMap}, vizualization CC-By-SA 2.0 <a href="http://freemap.sk">Freemap.sk</a>'}},MtbMap:{url:"http://tile.mtbmap.cz/mtbmap_tiles/{z}/{x}/{y}.png",options:{maxNativeZoom:18,attribution:"{attribution.OpenStreetMap} &amp; USGS"}},CartoDB:{url:"https://{s}.basemaps.cartocdn.com/{variant}/{z}/{x}/{y}.png",options:{attribution:'{attribution.OpenStreetMap} &copy; <a href="http://cartodb.com/attributions">CartoDB</a>',subdomains:["a","b","c","d"],maxZoom:19,maxNativeZoom:19,variant:"light_all"},variants:{Positron:"light_all",PositronNoLabels:"light_nolabels",PositronOnlyLabels:"light_only_labels",DarkMatter:"dark_all",DarkMatterNoLabels:"dark_nolabels",DarkMatterOnlyLabels:"dark_only_labels"}},HikeBike:{url:"http://{s}.tiles.wmflabs.org/{variant}/{z}/{x}/{y}.png",options:{maxZoom:19,maxNativeZoom:19,attribution:"{attribution.OpenStreetMap}",variant:"hikebike"},variants:{HikeBike:{},HillShading:{options:{maxZoom:15,maxNativeZoom:15,variant:"hillshading"}}}},BasemapAT:{url:"https://maps{s}.wien.gv.at/basemap/{variant}/normal/google3857/{z}/{y}/{x}.{format}",options:{maxZoom:19,maxNativeZoom:19,attribution:'Datenquelle: <a href="https://www.basemap.at">basemap.at</a>',subdomains:["","1","2","3","4"],format:"png",bounds:[[46.35877,8.782379],[49.037872,17.189532]],variant:"geolandbasemap"},variants:{basemap:"geolandbasemap",grau:"bmapgrau",overlay:"bmapoverlay",highdpi:{options:{variant:"bmaphidpi",format:"jpeg"}},orthofoto:{options:{variant:"bmaporthofoto30cm",format:"jpeg"}}}},NASAGIBS:{url:"https://map1.vis.earthdata.nasa.gov/wmts-webmerc/{variant}/default/{time}/{tilematrixset}9/{z}/{y}/{x}.{format}",options:{attribution:'<span>Imagery provided by services from the Global Imagery Browse Services (GIBS), operated by the NASA/GSFC/Earth Science Data and Information System (<a href="https://earthdata.nasa.gov">ESDIS</a>) with funding provided by NASA/HQ.</span>',credits:{text:"Black Marble imagery courtesy NASA Earth Observatory"},bounds:[[-85.0511287776,-179.999999975],[85.0511287776,179.999999975]],minZoom:1,maxZoom:9,maxNativeZoom:9,format:"jpg",time:"",tilematrixset:"GoogleMapsCompatible_Level"},variants:{ModisTerraTrueColorCR:"MODIS_Terra_CorrectedReflectance_TrueColor",ModisTerraBands367CR:"MODIS_Terra_CorrectedReflectance_Bands367",ViirsEarthAtNight2012:{url:"https://map1.vis.earthdata.nasa.gov/wmts-webmerc/{variant}/default/{time}/{tilematrixset}8/{z}/{y}/{x}.{format}",options:{variant:"VIIRS_CityLights_2012",maxZoom:8,maxNativeZoom:8}},ModisTerraLSTDay:{url:"https://map1.vis.earthdata.nasa.gov/wmts-webmerc/{variant}/default/{time}/{tilematrixset}7/{z}/{y}/{x}.{format}",options:{variant:"MODIS_Terra_Land_Surface_Temp_Day",format:"png",maxZoom:7,maxNativeZoom:7,opacity:.75}},ModisTerraSnowCover:{url:"https://map1.vis.earthdata.nasa.gov/wmts-webmerc/{variant}/default/{time}/{tilematrixset}8/{z}/{y}/{x}.{format}",options:{variant:"MODIS_Terra_Snow_Cover",format:"png",maxZoom:8,maxNativeZoom:8,opacity:.75}},ModisTerraAOD:{url:"https://map1.vis.earthdata.nasa.gov/wmts-webmerc/{variant}/default/{time}/{tilematrixset}6/{z}/{y}/{x}.{format}",options:{variant:"MODIS_Terra_Aerosol",format:"png",maxZoom:6,maxNativeZoom:6,opacity:.75}},ModisTerraChlorophyll:{url:"https://map1.vis.earthdata.nasa.gov/wmts-webmerc/{variant}/default/{time}/{tilematrixset}7/{z}/{y}/{x}.{format}",options:{variant:"MODIS_Terra_Chlorophyll_A",format:"png",maxZoom:7,maxNativeZoom:7,opacity:.75}}}},NLS:{url:"https://nls-{s}.tileserver.com/{variant}/{z}/{x}/{y}.jpg",options:{attribution:'<a href="http://geo.nls.uk/maps/">National Library of Scotland Historic Maps</a>',bounds:[[49.6,-12],[61.7,3]],minZoom:1,maxZoom:18,maxNativeZoom:18,subdomains:["0","1","2","3"]},variants:{OS_1900:"NLS_API",OS_1920:"nls",OS_opendata:{url:"http://geo.nls.uk/maps/opendata/{z}/{x}/{y}.png",options:{maxZoom:16,maxNativeZoom:16}},OS_6inch_1st:{url:"http://geo.nls.uk/maps/os/six_inch/{z}/{x}/{y}.png",options:{tms:!0,minZoom:6,maxZoom:16,maxNativeZoom:16,bounds:[[49.86261,-8.66444],[60.89421,1.7785]]}},OS_6inch:"os_6_inch_gb",OS_25k:"25k",OS_npe:{url:"http://geo.nls.uk/maps/os/newpopular/{z}/{x}/{y}.png",options:{tms:!0,minZoom:3,maxZoom:15,maxNativeZoom:15}},OS_7th:"os7gb",OS_London:{options:{variant:"London_1056",minZoom:9,maxNativeZoom:9,bounds:[[51.177621,-.708618],[51.618016,.355682]]}},GSGS_Ireland:{url:"http://geo.nls.uk/maps/ireland/gsgs4136/{z}/{x}/{y}.png",options:{tms:!0,minZoom:5,maxZoom:15,maxNativeZoom:15,bounds:[[51.37178,-10.810546],[55.422779,-5.262451]]}}}},LINZ:{url:"http://tiles-{s}.data-cdn.linz.govt.nz/services;key={linzAPIkey}/tiles/v4/{variant}/{tilematrixset}/{z}/{x}/{y}.png",options:{attribution:'<a href="https://www.linz.govt.nz/data/licensing-and-using-data/attributing-elevation-or-aerial-imagery-data">Sourced from LINZ. CC-BY 4.0</a>',subdomains:["a","b","c","d"],linzAPIkey:"<insert your LINZ API Key here>",variant:"set=4702",tilematrixset:"EPSG:3857",maxZoom:22,maxNativeZoom:22},variants:{nz_aerial_imagery:{options:{attribution:'<a href="https://www.linz.govt.nz/data/licensing-and-using-data/attributing-elevation-or-aerial-imagery-data">Sourced from LINZ. CC-BY 4.0</a>',variant:"set=4702",tilematrixset:"EPSG:3857",maxZoom:22,maxNativeZoom:22}},nz_topo50_maps:{options:{attribution:'Sourced from the <a href="https://data.linz.govt.nz/">LINZ Data Service</a> and licensed for reuse under the <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> license',variant:"layer=50767",tilematrixset:"EPSG:3857",maxZoom:22,maxNativeZoom:22}},nz_topo50_gridless_maps:{options:{attribution:'Sourced from the <a href="https://data.linz.govt.nz/">LINZ Data Service</a> and licensed for reuse under the <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> license',variant:"layer=52343",tilematrixset:"EPSG:3857",maxZoom:22,maxNativeZoom:22}},nz_topo250_gridless_maps:{options:{attribution:'Sourced from the <a href="https://data.linz.govt.nz/">LINZ Data Service</a> and licensed for reuse under the <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> license',variant:"layer=52324",tilematrixset:"EPSG:3857",maxZoom:22,maxNativeZoom:22}},nz_topo250_maps:{options:{attribution:'Sourced from the <a href="https://data.linz.govt.nz/">LINZ Data Service</a> and licensed for reuse under the <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> license',variant:"layer=50798",tilematrixset:"EPSG:3857",maxZoom:22,maxNativeZoom:22}},nz_parcel_boundaries_wireframe:{options:{attribution:'Sourced from the <a href="https://data.linz.govt.nz/">LINZ Data Service</a> and licensed for reuse under the <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> license',variant:"set=4769",tilematrixset:"EPSG:3857",maxZoom:22,maxNativeZoom:22}}}},PDOK:{url:"https://geodata.nationaalgeoregister.nl/tiles/service/wmts?layer={variant}&tilematrixset=EPSG:3857&Service=WMTS&Request=GetTile&Version=1.0.0&Format=image%2Fpng&TileMatrix={z}&TileCol={x}&TileRow={y}",options:{attribution:'<a href="https://www.pdok.nl/introductie?articleid=1949876">BRT Achtergrondkaart</a> by <a href="https://www.kadaster.nl/">Kadaster</a>, <a href="http://creativecommons.org/licenses/by/4.0">CC BY 4.0</a>',format:"png",bounds:[[48.0405018704,-1.65729160235],[56.1105896442,12.4317272654]],minZoom:6,maxZoom:19,maxNativeZoom:19},variants:{brtachtergrondkaart:"brtachtergrondkaart",brtachtergrondkaartgrijs:"brtachtergrondkaartgrijs",brtachtergrondkaartpastel:"brtachtergrondkaartpastel",brtachtergrondkaartwater:"brtachtergrondkaartwater",luchtfotoRGB:{url:"https://geodata.nationaalgeoregister.nl/luchtfoto/rgb/wmts?layer={variant}&tilematrixset=EPSG:3857&Service=WMTS&Request=GetTile&Version=1.0.0&Format=image%2Fpng&TileMatrix={z}&TileCol={x}&TileRow={y}",options:{variant:"Actueel_ortho25",attribution:'<a href="https://www.pdok.nl/introductie?articleid=1954278">Luchtfoto Actueel Ortho 25cm RGB</a> by <a href="http://www.beeldmateriaal.nl">Beeldmateriaal.nl</a>, <a href="http://creativecommons.org/licenses/by/4.0">CC BY 4.0</a>'}},luchtfotoIR:{url:"https://geodata.nationaalgeoregister.nl/luchtfoto/rgb/wmts?layer={variant}&tilematrixset=EPSG:3857&Service=WMTS&Request=GetTile&Version=1.0.0&Format=image%2Fpng&TileMatrix={z}&TileCol={x}&TileRow={y}",options:{variant:"Actueel_ortho25IR",attribution:'<a href="https://www.pdok.nl/introductie?articleid=1954278">Luchtfoto Actueel Ortho 25cm Infrarood</a> by <a href="http://www.beeldmateriaal.nl">Beeldmateriaal.nl</a>, <a href="http://creativecommons.org/licenses/by/4.0">CC BY 4.0</a>'}}}}}},902870:(e,t,r)=>{"use strict";r.d(t,{Qo:()=>f,jg:()=>y,oH:()=>m});var n=r(227361),o=r.n(n),a=r(453005),i=r(986267),l=r(552259);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var f=function(e,t){var r=e.format,n=e.queryParams,o=void 0===n?{}:n;return o.info_format||o.outputFormat||r&&a.O7[r]||t.format},y=function(e){return!!o()(e,"layer.search.url")},m=function(e,t){var r,n,a,s=o()(e,"latlng.lng"),c=o()(e,"latlng.lat"),f=(0,i.reproject)([s,c],"EPSG:4326",t),y=(0,l.getHook)(l.GET_PIXEL_FROM_COORDINATES_HOOK);if(y){var m=(n=y([f.x,f.y]),a=2,function(e){if(Array.isArray(e))return e}(n)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw o}}return a}}(n,a)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p(e,t):void 0}}(n,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());r={x:m[0],y:m[1]}}else r=e.pixel;var d=(0,l.getHook)(l.GET_COORDINATES_FROM_PIXEL_HOOK),h=(0,i.calculateCircleRadiusFromPixel)(d,r,f,5),b={type:"geometry",enabled:!0,value:{geometry:{center:[f.x,f.y],coordinates:(0,i.calculateCircleCoordinates)(f,h,12),extent:[f.x-h,f.y-h,f.x+h,f.y+h],projection:t,radius:h,type:"Polygon"},method:"Circle",operation:"INTERSECTS"}};return u(u({},e),{},{pixel:r,geometricFilter:b})}},808797:(e,t,r)=>{"use strict";r.d(t,{rp:()=>s,Ov:()=>c,wd:()=>p,L0:()=>f}),r(701469);var n=r(91175),o=r.n(n),a=r(807654),i=r.n(a);function l(e){var t=Math.floor(e),r=60*(e-t),n=Math.floor(r),o=60*(r-n);return t+"° "+n+"' "+Math.floor(o)+"'' "}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.measureTrueBearing,n=void 0!==r&&r,o=t.fractionDigits,a=void 0===o?0:o,i="";if(n){var s="";e>=0&&e<10?s="00":e>10&&e<100&&(s="0");var u=a>0?e.toFixed(a):Math.floor(e);i=s+u+"°"}else e>=0&&e<90?i="N "+l(e)+"E":e>90&&e<=180?i="S "+l(180-e)+"E":e>180&&e<270?i="S "+l(e-180)+"W":e>=270&&e<=360&&(i="N "+l(360-e)+"W");return i}var u={yd:{ft:3,m:.9144,km:9144e-7,yd:1,mi:.00056818181818,nm:.00049373650107},ft:{ft:1,m:.3048,km:3048e-7,yd:.33333333333334,mi:.0001893932,nm:164579e-9},m:{ft:3.28084,m:1,km:.001,yd:1.0936132983377,mi:621371e-9,nm:.000539956803},km:{ft:3280.84,m:1e3,km:1,yd:1093.6132983377,mi:.62137121212121,nm:.5399568207343395},mi:{ft:5280.000168959982,m:1609.3440514990027,km:1.6093440514990027,yd:1760,mi:1,nm:.8689762697078849},nm:{ft:6076.115679999979,m:1852.0000592639938,km:1.8520000592639938,yd:2025.3718285214,mi:1.150779484848481,nm:1},sqft:{sqft:1,sqm:.09290304,sqkm:9.2903043596611e-8,sqmi:3.587e-8,sqnm:2.7051601137505e-8},sqyd:{sqft:8.9999247491639,sqm:.83612040133779,sqkm:8.3612040133779e-7,sqyd:1,sqmi:3.228278917579e-7,sqnm:2.4346237458194e-7},sqm:{sqft:10.76391,sqm:1,sqkm:1e-6,sqyd:1.196,sqmi:3.8610215854245e-7,sqnm:2.91181e-7},sqkm:{sqft:10763910,sqm:1e6,sqkm:1,sqyd:1196e3,sqmi:.38610215854245,sqnm:.291181},sqmi:{sqft:27878398.920726,sqm:2589988.110336,sqkm:2.589988110336,sqyd:27878398.920726,sqmi:1,sqnm:.75415532795574},sqnm:{sqft:36966388.603652,sqm:3434290.0120544,sqkm:3.4342900120544,sqyd:36966388.603652,sqmi:1.325986786715,sqnm:1}};function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"m",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"m";return u[t]&&u[t][r]?e*u[t][r]:e}var p=function(e){return!i()(parseFloat(e[0]))&&!i()(parseFloat(e[1]))},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.coordinates,r=e.type,n=t;if("LineString"===r){if((n=t.filter(p)).length<2)return[]}else if("Polygon"===r){if((n=o()(t).filter(p)).length<3)return[[]];n=[n.concat([o()(n)])]}return n}},45992:(e,t,r)=>{"use strict";r.d(t,{h:()=>c,Z:()=>p});var n=r(535937),o=r.n(n),a=r(836882),i=r(737275);function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var c=function(e,t){var r,n,l,u,c=a.Z;if("custom"===e)r=t;else if(l=(u=e.split("."))[0],n=u[1],!(r=c[l]))throw new Error("No such provider ("+l+")");var p={url:r.url,options:r.options||{}};if(n&&"variants"in r){if(!(n in r.variants))throw new Error("No such variant of "+(l||r.url)+" ("+n+")");var f,y=r.variants[n];f="string"==typeof y?{variant:y}:y.options,p={url:y.url||p.url,options:s(s({},p.options||{}),f)}}else"function"==typeof p.url&&(p.url=p.url(u.splice(1,u.length-1).join(".")));var m="file:"===window.location.protocol||p.options.forceHTTP;0===p.url.indexOf("//")&&m&&(p.url="http:"+p.url),p.options.retina&&(t.detectRetina&&i.ZP.getBrowserProperties().retina?t.detectRetina=!1:p.options.retina=""),p.options.attribution&&(p.options.attribution=function e(t){return-1===t.indexOf("{attribution.")?t:t.replace(/\{attribution.(\w*)\}/,(function(t,r){return e(c[r].options.attribution)}))}(p.options.attribution));var d=s(s({},p.options),o()(t,(function(e){return void 0!==e})));return[p.url,d]};const p={getLayerConfig:c}},218056:(e,t,r)=>{"use strict";r.d(t,{XK:()=>a,Um:()=>i,ut:()=>l});var n=r(701469),o=r.n(n);function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.replace(/(\{(.*?)\})/g,(function(){var e=arguments[0],r=arguments[2]?arguments[2]:arguments[1];if(["x","y","z"].includes(r))return arguments[0];var n=t[r];if(void 0===n)throw new Error("No value provided for variable "+e);return"function"==typeof n&&(n=n(t)),n}))}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.url||"",r=e.subdomains||"";return r&&("string"==typeof r&&(r=r.split("")),o()(r))?r.map((function(r){return a(t.replace("{s}",r),e)})):["a","b","c"].map((function(r){return a(t.replace("{s}",r),e)}))}var l=function(e){return(e.url.match(/(\{s\})/)?i(e):[a(e.url,e)])[0]}},423923:(e,t,r)=>{"use strict";r.d(t,{A4:()=>s,u3:()=>u});var n=r(623560),o=r.n(n);function a(e,t,r){var n=void 0!==r?e.toFixed(r):""+e,o=n.indexOf(".");return(o=-1===o?n.length:o)>t?n:new Array(1+t-o).join("0")+n}var i={standard:function(e){return function(t){return"EPSG:4326"===t?(r="x"===e?"EW":"NS",function(e){var t,n=(360*(t=(e+180)%360)<0?t+360:t)-180,o=Math.abs(3600*n),i=Math.floor(o/3600),l=Math.floor((o-3600*i)/60),s=o-3600*i-60*l;return(s=Math.ceil(s))>=60&&(s=0,l+=1),l>=60&&(l=0,i+=1),i+"° "+a(l,2)+"′ "+a(s,2,0)+"″"+(0===n?"":" "+r.charAt(n<0?1:0))}):function(e){return String(Math.round(e))};var r}}};function l(e,t,r){return o()(r)?r(e,t):i[r||"standard"](t)(e)}function s(e,t){return l(e,"x",t)}function u(e,t){return l(e,"y",t)}},984023:(e,t,r)=>{"use strict";r.d(t,{bL:()=>x,ZS:()=>P,uI:()=>L,XA:()=>D});var n=r(490173),o=r(986267),a=r(849232),i=r(423923),l=r(8400),s=r.n(l),u=r(875472),c=r.n(u),p=r(552259);function f(e){return function(e){if(Array.isArray(e))return g(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||b(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw o}}return a}}(e,t)||b(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){if(e){if("string"==typeof e)return g(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?g(e,t):void 0}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function v(e,t,r){var n=h(e,2),o=n[0],a=n[1],i=h(t,2),l=i[0],s=i[1],u=h(r,2),c=u[0],p=u[1],f=c-l,y=p-s,m=l,d=s;if(0!==f||0!==y){var b=((o-l)*f+(a-s)*y)/(f*f+y*y);b>1?(m=c,d=p):b>0&&(m+=f*b,d+=y*b)}return function(e,t,r,n){return Math.pow(r-e,2)+Math.pow(n-t,2)}(o,a,m,d)}function E(e,t,r){var n=t(e);return{fraction:e,point:n,reprojected:r(n)}}function O(e,t,r,o){var a=(0,n.default)(t,r).forward,i=function(e,t,r){var n=e.map(t);return{fractions:e,line:n,reprojectedLine:n.map(r)}}([0,1],e,a),l=i.fractions,s=i.line,u=i.reprojectedLine,c=[];c=function(e,t){return e.push(t[0]),e.push(t[1]),e}(c,u[0]);for(var p=0;p<1e4&&l.length>0;){var f=l.shift(),y=l.shift(),m=s.shift(),d=s.shift(),h=u.shift(),b=u.shift(),g=E((f+y)/2,e,a),O=g.fraction,w=g.point,S=g.reprojected;v(S,h,b)<o?(c.push(b[0]),c.push(b[1])):(l.unshift(f,O,O,y),s.unshift(m,w,w,d),u.unshift(h,S,S,b)),p++}return c}function w(e,t,r){return Math.min(Math.max(e,t),r)}var S={degrees:[90,45,30,20,10,5,2,1,.5,.2,.1,.05,.01,.005,.002,.001],m:[1e7,5e6,2e6,1e6,5e5,2e5,1e5,5e4,2e4,1e4,5e3,2e3,1e3,500,200,100]};function x(e){var t,r=n.default.defs(e);return S[null!==(t=null==r?void 0:r.units)&&void 0!==t?t:"m"]}function P(e,t,r,n,o){var a=h(t,2),i=a[0],l=a[1],s=Math.pow(r*n,2);return e.reduce((function(e,t){var r=t/2,n=o([i-r,l-r]),a=o([i+r,l+r]);return Math.pow(a[0]-n[0],2)+Math.pow(a[1]-n[1],2)>s?t:e}),-1)}function T(e,t,r,n,o,a){return function(e,t,r,n,o,a){return O((function(n){return[t+(r-t)*n,e]}),n,o,a)}(e,t,r,o,a,n)}function j(e,t,r,n,o,a){return function(e,t,r,n,o,a){return O((function(n){return[e,t+(r-t)*n]}),n,o,a)}(e,t,r,o,a,n)}function A(e,t,r,n,o){return e.map((function(e,a){var i=function(e,t,r){var n=Math.max(t[1],e[1]),o=Math.min(t[3],e[e.length-1]),a=w(t[1]+Math.abs(t[1]-t[3])*r,n,o);return[e[0],a]}(e,t,n);return{geom:i,text:r(e[0],m(m({},o),{},{index:a,extent:t}))}}))}function R(e,t,r,n,o){return e.map((function(e,a){var i=function(e,t,r){var n=Math.max(t[0],e[0]),o=Math.min(t[2],e[e.length-2]);return[w(t[0]+Math.abs(t[0]-t[2])*r,n,o),e[1]]}(e,t,n);return{geom:i,text:r(e[1],m(m({},o),{},{index:a,extent:t}))}}))}function C(e,t,r,n){return f(Array(function(e,t,r){return Math.round((t-e)/r)+1}(r,n,Math.abs(t))-1).keys()).map((function(o){return w(e+(o+1)*t,r,n)}))}function N(e,t){return(0,a.Z)({type:"Feature",geometry:{type:"LineString",coordinates:[[e[0],e[1]],[e[2],e[3]]]}},(0,o.bboxToFeatureGeometry)(t))}function I(e,t){return e.slice(0,t)}function M(e){var t=h(e,4),r=t[0],n=t[1],o=t[2],a=t[3];return[[r,n],[o,n],[o,a],[r,a],[r,n]]}function _(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1,r=h(e,4),n=r[0],o=r[1],a=r[2],i=r[3],l=Math.max(a-n,i-o)*t/2,s=[n-l,o-l,a+l,i+l],u=[n+l,o+l,a-l,i-l];return{exterior:M(s),interior:M(u)}}function L(e,t,r,a,i,l,s,u,p,y,m,d,b,g){var v=arguments.length>14&&void 0!==arguments[14]?arguments[14]:{};if(-1===e)return{xLines:[],yLines:[],xLabels:[],yLabels:[],frame:null};var E=(0,n.default)(t,r).forward,O=E(l),S=h(O,2),x=S[0],P=S[1],M=(0,o.reprojectBbox)([Math.max(a[0],i[0]),Math.max(a[1],i[1]),Math.min(a[2],i[2]),Math.min(a[3],i[3])],t,r||"EPSG:4326"),L=h(M,4),k=L[0],D=L[1],Z=L[2],G=L[3],B=(0,o.reprojectBbox)(i,t,r||"EPSG:4326"),F=h(B,4),U=F[0],z=F[1],q=F[2],W=F[3],Y=w(Math.floor(x/e)*e,U,q),V=c()(C(Y,-e,U,Y)),H=c()(C(Y,e,Y,q)),Q=w(Math.floor(P/e)*e,z,W),K=c()(C(Q,-e,z,Q)),X=c()(C(Q,e,Q,W)),J=I([].concat(f(V),[Y],f(H)).map((function(e){return j(e,D,G,s,r||"EPSG:4326",t)})).filter((function(e){return N(e,a)})),u),$=I([].concat(f(K),[Q],f(X)).map((function(e){return T(e,k,Z,s,r||"EPSG:4326",t)})).filter((function(e){return N(e,a)})),u),ee=g?_(a,g):null;return{xLines:J,yLines:$,xLabels:p?A(J,a,y,d,v):[],yLabels:p?R($,a,m,b,v):[],frame:ee}}function k(e){return[(e[2]+e[0])/2,(e[3]+e[1])/2]}function D(e){var t=e.mapProjection,r=e.gridProjection,a=e.extent,l=e.center,u=void 0===l?null:l,c=e.zoom,y=e.withLabels,d=void 0!==y&&y,h=e.xLabelFormatter,b=e.yLabelFormatter,g=e.xLabelPosition,v=void 0===g?0:g,E=e.yLabelPosition,O=void 0===E?1:E,w=e.maxLines,S=void 0===w?100:w,T=e.intervals,j=e.targetSize,A=void 0===j?100:j,R=e.resolutions,C=e.xLabelStyle,N=e.yLabelStyle,I=e.pixelRatio,M=void 0===I?devicePixelRatio:I,_=e.frameSize,D=void 0===_?0:_,Z=(null!=R?R:(0,p.getResolutions)(t))[c],G=(0,n.default)(t,r).forward,B=(0,n.default)(r,t).forward,F=G(k((0,o.getExtentForProjection)(r).extent)),U=P(null!=T?T:x(r),F,A,Z,B),z=Z*Z/(4*M*M),q=L(U,t,r,a,(0,o.getExtentForProjection)(t).extent,null!=u?u:k(a),z,S,d,(0,i.A4)(r,h),(0,i.u3)(r,b),v,O,D,{center:u,resolution:Z,interval:U}),W=[].concat(f(q.xLines),f(q.yLines)).map((function(e){return{type:"Feature",properties:{ms_style:"lines"},geometry:{type:"LineString",coordinates:s()(e,2)}}})),Y=f(q.xLabels).map((function(e){return{type:"Feature",properties:{ms_style:C?m(m({},C),{},{label:e.text}):"xlabels",valueText:e.text},geometry:{type:"Point",coordinates:e.geom}}})),V=f(q.yLabels).map((function(e){return{type:"Feature",properties:{ms_style:N?m(m({},N),{},{label:e.text}):"ylabels",valueText:e.text},geometry:{type:"Point",coordinates:e.geom}}})),H=q.frame?[q.frame].map((function(e){return{type:"Feature",properties:{ms_style:"frame"},geometry:{type:"Polygon",coordinates:[e.exterior,e.interior]}}})):[];return{type:"FeatureCollection",features:[].concat(f(W),f(H),f(Y),f(V))}}},73785:(e,t,r)=>{var n=r(727418),o={PARAM_OPTIONS:["layers","styles","format","transparent","version","tiled","zindex","_v_","cql_filter","sld"],wmsToLeafletOptions:function(e){var t=void 0!==e.opacity?e.opacity:1;return n({layers:e.name,styles:e.style||"",format:e.format||"image/png",transparent:void 0===e.transparent||e.transparent,tiled:void 0===e.tiled||e.tiled,opacity:t},e.params||{})},getWMSURL:function(e){return e.split("?")[0]},filterWMSParamOptions:function(e){var t={};return Object.keys(e).forEach((function(r){r&&r.toLowerCase&&o.PARAM_OPTIONS.indexOf(r.toLowerCase())>=0&&(t[r]=e[r])})),t}};e.exports=o},915776:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>de});var n=r(675263),o=r.n(n),a=r(124852),i=r.n(a),l=r(171703),s=r(607147),u=r(22222),c=r(727418),p=r.n(c),f=r(227361),y=r.n(f),m=r(782904),d="BUFFER:SET_LAYER",h="BUFFER:SET_RADIUS",b="BUFFER:SET_UNIT",g="BUFFER:DO_BUFFER",v="BUFFER:ADD_AS_LAYER",E="BUFFER:SET_LOADING",O="BUFFER:FETCH_FAILURE",w="TOGGLE_CONTROL",S=function(e){return{type:d,index:e}},x=function(e){return{type:h,radius:e}},P=function(e){return{type:v,bufferedFtCollection:e}},T=function(e){return{type:E,isLoading:e}},j=function(e){return{type:O,error:e}},A=r(49977),R=r.n(A),C=r(423570),N=r.n(C),I=r(580416),M=r(805346),_=r(47805),L=r(333567),k=r(375875),D=r.n(k),Z=r(929346);function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var B="",F=function(e){return e?function(t,r){var n=function(e){var n=function(e,r){var n=e,o=r;if(resizeBy<=0)return t(j(i().createElement(M.Z,{msgId:"bufferPlugin.errorLessThan1"}))),void t(T(!1));switch(o){case"meters":n/=1e3,o="kilometers";break;case"วา":n/=500,o="kilometers";break;default:removeEventListener}return[n,o]}(r().buffer.radius,r().buffer.unitValue);if(void 0!==n){var o=[];e.features.forEach((function(e){e.id?o.push(e.id):e.properties.id&&o.push(e.properties.id)}));var a=(0,L.Z)(e,n[0],{units:n[1]});return a.features.forEach((function(e,t){e.id="buffered_"+o[t],e.properties.id&&(e.properties.id="buffered_"+o[t])})),a}};if(t(T(!0)),B=e.title||e.name,e.features){var o;o="Annotations"===B?function(e){for(var t=[],r=0;r<e.features.length;r++)for(var n=0;n<e.features[r].features.length;n++)t.push(e.features[r].features[n]);return t}(e):e.features;var a=(0,Z.uf)(o),l=n(a);if(void 0===l)return;t(P(l)),t(j("succeed")),t(S(-1)),t(T(!1)),t(x(1))}else new Promise((function(t){var r={service:"WFS",version:e.version,request:"GetFeature",typeName:e.name,outputFormat:"application/json"};if(e.layerFilter){var n=(0,_.toCQLFilter)(null==e?void 0:e.layerFilter);r.cql_filter=n}t(D().get("".concat(e.url||"/geoserver/wfs"),{params:r}))})).then((function(e){var r=e.data,o=n(r);void 0!==o&&(t(P(o)),t(j("succeed")),t(S(-1)),t(T(!1)),t(x(1)))})).catch((function(e){console.error(e),t(T(!1)),t(j(i().createElement(M.Z,{msgId:"bufferPlugin.errorFetch"})))}))}:function(e){e(j(i().createElement(M.Z,{msgId:"bufferPlugin.noLayer"})))}},U={radius:1,layerIndex:-1,unitValue:"kilometers",loading:!1,error:""},z=r(807472),q=r(200020),W=r(757588),Y=r(675110),V=r(743129),H=r(441609),Q=r.n(H);function K(){return K=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},K.apply(this,arguments)}function X(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return J(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?J(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function J(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var $=(0,r(993451).Z)(["placeholder","clearValueText","noResultsText"])(V.ZP),ee=function(e){var t=e.responses,r=e.index,n=e.setIndex,o=X((0,a.useState)([]),2),l=o[0],s=o[1],u=X((0,a.useState)(""),2),c=u[0],p=u[1];return(0,a.useEffect)((function(){Q()(t)||s(t.map((function(e,t){var r=(null==e?void 0:e.title)||(null==e?void 0:e.name);return{label:r,value:r,idx:t,style:{display:"block"}}})))}),[t]),(0,a.useEffect)((function(){var e,n;p((null===(e=t[r])||void 0===e?void 0:e.title)||(null===(n=t[r])||void 0===n?void 0:n.name)||"")}),[t,r]),i().createElement("div",{id:"identify-layer-select",style:{flex:"1 1 0%"}},i().createElement($,K({},{clearable:!1,isSearchable:!0},{onChange:function(e){var t=(null==e?void 0:e.idx)||0;n(t)},value:c||"",options:l,noResultsText:"identifyLayerSelectNoResult"})))};ee.defaultProps={responses:[],index:-1},ee.propTypes={responses:o().array,setIndex:o().func,index:o().number};const te=ee;function re(e){return re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},re(e)}function ne(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function oe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(r),!0).forEach((function(t){pe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ne(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ie(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function le(e,t){return le=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},le(e,t)}function se(e,t){if(t&&("object"===re(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ue(e)}function ue(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ce(e){return ce=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ce(e)}function pe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fe(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}(0,s.Yq)("buffer");var ye=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&le(e,t)}(l,e);var t,r,n,o,a=(n=l,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ce(n);if(o){var r=ce(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return se(this,e)});function l(){var e;ae(this,l);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return pe(ue(e=a.call.apply(a,[this].concat(r))),"dialogStyle",{position:"fixed",top:"0px",left:"0px",width:"500px"}),pe(ue(e),"start",{x:.5*(window.innerWidth-600),y:.5*(window.innerHeight-100)}),pe(ue(e),"onClose",(function(){e.props.onClose(!1)})),pe(ue(e),"onLayerChange",(function(t){e.props.onChangeLayer(t)})),pe(ue(e),"onDoBuffer",(function(){e.props.onDoBuffer(e.props.layersNode[e.props.layerIndex])})),pe(ue(e),"onChangeUnit",(function(t){e.props.onChangeUnit(t)})),pe(ue(e),"onChangeRadius",(function(t){var r=t<0?0:t;e.props.onChangeRadius(Number(r))})),pe(ue(e),"onReset",(function(){e.props.onChangeLayer(-1)})),e}return t=l,(r=[{key:"render",value:function(){var e=this;return this.props.show?i().createElement(z.Z,{Dialog:!0,id:"buffer-dialog",style:null==this?void 0:this.dialogStyle,start:null==this?void 0:this.start},i().createElement("div",{key:"header",role:"header"},i().createElement(W.Glyphicon,{glyph:"folder-open"})," ",i().createElement(M.Z,{msgId:"bufferPlugin.title"}),i().createElement("button",{key:"close",onClick:this.onClose,className:"close"},i().createElement(W.Glyphicon,{glyph:"1-close"}))),i().createElement("div",{key:"body",role:"body"},i().createElement("p",null,i().createElement(M.Z,{msgId:"bufferPlugin.layerLabel"})),i().createElement(te,{responses:this.props.layersNode,index:this.props.layerIndex,setIndex:this.onLayerChange}),i().createElement("br",null),i().createElement("p",null,i().createElement(M.Z,{msgId:"bufferPlugin.bufferLabel"})),i().createElement(W.Row,null,i().createElement(W.Col,{md:6,sm:6},i().createElement("input",{style:{height:"34px"},required:!0,type:"text",onKeyPress:"return (event.charCode !=8 && event.charCode ==0 || ( event.charCode == 46 || (event.charCode >= 48 && event.charCode <= 57)))",className:"form-control",id:"buffer-size",onChange:function(t){return e.onChangeRadius(t.nativeEvent.target.value)},value:this.props.radius>=0?this.props.radius:""})),i().createElement(W.Col,{md:6,sm:6},i().createElement(q.DropdownList,{id:"bufferUnitValues",data:this.props.bufferUnitValues,dataKey:"value",textField:"label",valueField:"value",defaultValue:this.props.bufferUnitValues[0],onChange:function(t){return e.onChangeUnit(t.value)}}))),i().createElement("br",null),i().createElement("div",{style:{display:"flex"}},i().createElement("br",null),this.props.loading?i().createElement("button",{key:"buffer-loading",className:"btn btn-longdo-outline-info",style:{minWidth:"100px"},disabled:!0},i().createElement(M.Z,{msgId:"bufferPlugin.loading"})):i().createElement("button",{key:"buffer-save",className:"btn btn-longdo-outline-info",style:{minWidth:"100px"},onClick:this.onDoBuffer},i().createElement(M.Z,{msgId:"bufferPlugin.button"})),i().createElement("button",{key:"buffer-clear",onClick:this.onReset,className:"btn btn-longdo-outline",style:{minWidth:"90px",marginRight:"5px"}},i().createElement(M.Z,{msgId:"bufferPlugin.resetButton"}))),i().createElement("br",null),"succeed"===this.props.error?i().createElement("span",{style:{color:"green"}},i().createElement(M.Z,{msgId:"bufferPlugin.successText"})):i().createElement("span",{style:{color:"red"}},this.props.error))):null}}])&&ie(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),l}(i().Component);pe(ye,"propTypes",{show:o().bool,radius:o().number,bufferLengthValue:o().array,layersNode:o().array,layersGroups:o().array,layerIndex:o().number,unitValue:o().string,loading:o().bool,error:o().string,onClose:o().func,onChangeLayer:o().func,onChangeUnit:o().func,onDoBuffer:o().func}),pe(ye,"defaultProps",{show:!1,bufferUnitValues:[{value:"kilometers",label:"km"},{value:"meters",label:"m"},{value:"วา",label:"วา"},{value:"miles",label:"miles"},{value:"degrees",label:"degrees"}],radius:1,layersNode:[],layersGroups:[],layerIndex:-1,unitValue:"",error:"",onClose:function(){},onChangeLayer:function(){},onChangeUnit:function(){},onDoBuffer:function(){}});var me=(0,l.connect)((0,u.P1)([function(e){return{layerIndex:e.buffer.layerIndex,unitValue:e.buffer.unitValue,radius:e.buffer.radius,featuresSelected:e.buffer.featuresSelected,bufferedFeatures:e.buffer.bufferedFeatures,loading:e.buffer.loading,error:e.buffer.error}},function(e){return function(e){return y()(e,"controls.buffer.enabled")}(e)},Y.Bt],(function(e,t,r){return oe(oe({},e),{},{show:t,layersGroups:r,layersNode:(n=r,o=[],n.map((function(e){var t;o.push.apply(o,function(e){if(Array.isArray(e))return fe(e)}(t=e.nodes)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return fe(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?fe(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())})),o)});var n,o})),{onClose:function(){return{type:w,control:"buffer",property:null,layerSelected:{},layerIndex:-1,loading:!1,error:""}},onChangeLayer:S,onChangeUnit:function(e){return{type:b,unitValue:e}},onChangeRadius:x,onDoBuffer:function(e){return{type:g,layerSelected:e}}},null,{pure:!1})(ye);const de={BufferPlugin:p()(me,{BurgerMenu:{name:"buffer",position:10,panel:!1,help:"help",tooltip:"tooltip",text:"Buffer",icon:i().createElement(W.Glyphicon,{glyph:"resize-full"}),action:function(){return(0,m.Xg)("buffer","enabled",!0)}}}),reducers:{buffer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return p()({},e,{layerIndex:t.index});case b:return p()({},e,{unitValue:t.unitValue});case h:return p()({},e,{radius:t.radius});case E:return p()({},e,{loading:t.isLoading});case O:return p()({},e,{error:t.error});case w:return p()({},e,{layerSelected:t.layerSelected,layerIndex:t.layerIndex,loading:t.loading,error:t.error});default:return e}}},epics:{doBufferEpic:function(e,t){var r=t.getState,n=void 0===r?function(){}:r;return e.ofType(g).filter((function(){return(n().controls.buffer||{}).enabled||!1})).switchMap((function(e){var t=e.layerSelected;return R().Observable.from([F(t)])}))},addAsBufferedLayerEpic:function(e){return e.ofType(v).switchMap((function(e){var t,r=e.bufferedFtCollection;return R().Observable.of((0,I.A4)({type:"vector",id:N()(),name:"BufferedLayer",hideLoading:!0,features:(t=r.features,function(e){if(Array.isArray(e))return G(e)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return G(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?G(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),visibility:!0,title:"Buffered_"+B}))}))}}}},889372:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>de});var n=r(675263),o=r.n(n),a=r(124852),i=r.n(a),l=r(171703),s=r(727418),u=r.n(s),c=r(227361),p=r.n(c),f=r(607147),y=r(782904),m=r(22222),d=r(757588),h=r(807472),b=r(743129),g=r(441609),v=r.n(g);function E(){return E=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},E.apply(this,arguments)}function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return w(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?w(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var S=(0,r(993451).Z)(["placeholder","clearValueText","noResultsText"])(b.ZP),x=function(e){var t=e.responses,r=e.index,n=e.setIndex,o=O((0,a.useState)([]),2),l=o[0],s=o[1],u=O((0,a.useState)(""),2),c=u[0],p=u[1];return(0,a.useEffect)((function(){v()(t)||s(t.map((function(e,t){var r=(null==e?void 0:e.title)||(null==e?void 0:e.name);return{label:r,value:r,idx:t,style:{display:"block"}}})))}),[t]),(0,a.useEffect)((function(){var e,n;p((null===(e=t[r])||void 0===e?void 0:e.title)||(null===(n=t[r])||void 0===n?void 0:n.name)||"")}),[t,r]),i().createElement("div",{id:"identify-layer-select",style:{flex:"1 1 0%"}},i().createElement(S,E({},{clearable:!1,isSearchable:!0},{onChange:function(e){var t=(null==e?void 0:e.idx)||0;n(t)},value:c||"",options:l,noResultsText:"identifyLayerSelectNoResult"})))};x.defaultProps={responses:[],index:-1},x.propTypes={responses:o().array,setIndex:o().func,index:o().number};const P=x;var T=r(675110),j=r(805346),A="MERGELYR:SET_LAYER_1",R="MERGELYR:SET_LAYER_2",C="MERGELYR:DO_MERGE",N="MERGELYR:SET_LOADING",I="MERGELYR:ADD_AS_LAYER",M="MERGELYR:FETCH_FAILURE",_="TOGGLE_CONTROL",L=function(e){return{type:A,index1:e}},k=function(e){return{type:R,index2:e}},D=function(e){return{type:N,isLoading:e}},Z=function(e){return{type:M,error:e}},G={layerIndex1:-1,layerIndex2:-1,loading:!1,error:""},B=r(375875),F=r.n(B),U=r(49977),z=r.n(U),q=r(423570),W=r.n(q),Y=r(47805),V=r(580416);function H(e){return function(e){if(Array.isArray(e))return Q(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Q(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Q(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var K=function(e){return new Promise((function(t,r){var n={service:"WFS",version:e.version,request:"GetFeature",typeName:e.name,outputFormat:"application/json"};if(e.layerFilter){var o=(0,Y.toCQLFilter)(null==e?void 0:e.layerFilter);n.cql_filter=o}t(F().get("".concat(e.url||"/geoserver/wfs"),{params:n})),r((function(e){e(Z(i().createElement(j.Z,{msgId:"mergeLayerPlugin.errorFetch"})))}))}))},X=function(e,t){for(var r=[["point","point"],["linestring","linestring"],["polygon","polygon"],["multipoint","multipoint"],["multilinestring","multilinestring"],["multipolygon","multipolygon"],["point","multipoint"],["multipoint","point"],["multilinestring","linestring"],["linestring","multilinestring"],["multipolygon","polygon"],["polygon","multipolygon"]],n=0;n<r.length;n++)if(r[n][0]===(null==e?void 0:e.toLowerCase())&&r[n][1]===(null==t?void 0:t.toLowerCase()))return!0;return!1},J=function(e){for(var t=JSON.parse(JSON.stringify(e)),r=[],n=0;n<t.features.length;n++)for(var o=0;o<t.features[n].features.length;o++)r.push(t.features[n].features[o]);return r.forEach((function(e){return delete e.style})),r},$="",ee="",te=function(e,t){return $=(null==e?void 0:e.title)||(null==e?void 0:e.name)||void 0,ee=(null==t?void 0:t.title)||(null==t?void 0:t.name)||void 0,e&&t?$===ee?function(e){e(Z(i().createElement(j.Z,{msgId:"mergeLayerPlugin.sameLayers"})))}:function(r){var n=function(e,t,n){if(e){for(var o=0;o<t.length;o++)for(var a=0;a<n.length;a++)if(t[o].id===n[a].id)return r(Z(i().createElement(j.Z,{msgId:"mergeLayerPlugin.haveLayerAlready"}))),void r(D(!1));var l={type:"FeatureCollection",features:[].concat(H(t),H(n))};r({type:I,featureCollection:l}),r(Z("succeed")),r(L(-1)),r(k(-1)),r(D(!1))}else r(Z("'".concat(t[0].geometry.type,"' - '").concat(n[0].geometry.type,"' type can't be merged"))),r(D(!1))};if(r(D(!0)),r(Z("")),e.features&&t.features){var o=e.features,a=t.features;"Annotations"===$&&(o=J(e)),"Annotations"===ee&&(a=J(t)),n(X(o[0].geometry.type,a[0].geometry.type),o,a)}else if(!e.features&&t.features)K(e).then((function(e){var r=e.data.features,o=t.features;"Annotations"===ee&&(o=J(t)),n(X(r[0].geometry.type,o[0].geometry.type),r,o)})).catch((function(e){console.error(e),r(Z(i().createElement(j.Z,{msgId:"mergeLayerPlugin.errorGetFeature1"}))),r(D(!1))}));else if(e.features&&!t.features)K(t).then((function(t){var r=e.features,o=t.data.features;"Annotations"===$&&(r=J(e)),n(X(r[0].geometry.type,o[0].geometry.type),r,o)})).catch((function(e){console.error(e),r(Z(i().createElement(j.Z,{msgId:"mergeLayerPlugin.errorGetFeature2"}))),r(D(!1))}));else{var l=K(e),s=K(t);Promise.all([l,s]).then((function(e){var t=e[0].data.features,r=e[1].data.features;n(X(t[0].geometry.type,r[0].geometry.type),t,r)})).catch((function(e){console.error(e),r(Z(i().createElement(j.Z,{msgId:"mergeLayerPlugin.errorAllGetFeature"}))),r(D(!1))}))}}:function(e){e(Z(i().createElement(j.Z,{msgId:"mergeLayerPlugin.noBothLayers"})))}};function re(e){return re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},re(e)}function ne(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function oe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(r),!0).forEach((function(t){pe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ne(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ie(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function le(e,t){return le=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},le(e,t)}function se(e,t){if(t&&("object"===re(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ue(e)}function ue(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ce(e){return ce=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ce(e)}function pe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fe(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}(0,f.Yq)("mergelyr");var ye=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&le(e,t)}(l,e);var t,r,n,o,a=(n=l,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ce(n);if(o){var r=ce(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return se(this,e)});function l(){var e;ae(this,l);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return pe(ue(e=a.call.apply(a,[this].concat(r))),"dialogStyle",{position:"fixed",top:"0px",left:"0px",width:"500px"}),pe(ue(e),"start",{x:.5*(window.innerWidth-600),y:.5*(window.innerHeight-100)}),pe(ue(e),"onClose",(function(){e.props.onClose(!1)})),pe(ue(e),"onChangeLayer1",(function(t){e.props.onChangeLayer1(t)})),pe(ue(e),"onChangeLayer2",(function(t){e.props.onChangeLayer2(t)})),pe(ue(e),"onDoMerge",(function(){e.props.onDoMerge(e.props.layersNode[e.props.layerIndex1],e.props.layersNode[e.props.layerIndex2])})),pe(ue(e),"onReset",(function(){e.props.onChangeLayer1(-1),e.props.onChangeLayer2(-1)})),e}return t=l,(r=[{key:"render",value:function(){return this.props.show?i().createElement(h.Z,{Dialog:!0,id:"measure-dialog",style:null==this?void 0:this.dialogStyle,start:null==this?void 0:this.start},i().createElement("div",{key:"header",role:"header"},i().createElement(d.Glyphicon,{glyph:"folder-open"})," ",i().createElement(j.Z,{msgId:"mergeLayerPlugin.title"}),i().createElement("button",{key:"close",onClick:this.onClose,className:"close"},i().createElement(d.Glyphicon,{glyph:"1-close"}))),i().createElement("div",{key:"body",role:"body"},i().createElement("p",null,i().createElement(j.Z,{msgId:"mergeLayerPlugin.layerLabel1"})),i().createElement(P,{responses:this.props.layersNode,index:this.props.layerIndex1,setIndex:this.onChangeLayer1}),i().createElement("br",null),i().createElement("p",null,i().createElement(j.Z,{msgId:"mergeLayerPlugin.layerLabel2"})),i().createElement(P,{responses:this.props.layersNode,index:this.props.layerIndex2,setIndex:this.onChangeLayer2}),i().createElement("br",null),i().createElement("div",{style:{display:"flex"}},this.props.loading?i().createElement("button",{key:"mergelayer-merge",className:"btn btn-longdo-outline-info",style:{minWidth:"100px"},disabled:!0},i().createElement(j.Z,{msgId:"mergeLayerPlugin.loading"})):i().createElement("button",{key:"mergelayer-merge",className:"btn btn-longdo-outline-info",style:{minWidth:"100px"},onClick:this.onDoMerge},i().createElement(j.Z,{msgId:"mergeLayerPlugin.button"})),i().createElement("button",{key:"clear-mergelayer",className:"btn btn-longdo-outline",style:{minWidth:"90px",marginRight:"5px"},onClick:this.onReset},i().createElement(j.Z,{msgId:"mergeLayerPlugin.resetButton"}))),i().createElement("br",null),"succeed"===this.props.error?i().createElement("span",{style:{color:"green"}},i().createElement(j.Z,{msgId:"mergeLayerPlugin.successText"})):i().createElement("span",{style:{color:"red"}},this.props.error))):null}}])&&ie(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),l}(i().Component);pe(ye,"propTypes",{show:o().bool,layersNode:o().array,layersGroups:o().array,layerIndex1:o().number,layerIndex2:o().number,loading:o().bool,error:o().string,onDoMerge:o().func,onChangeLayer1:o().func,onChangeLayer2:o().func,onReset:o().func}),pe(ye,"defaultProps",{show:!1,layersNode:[],layersGroups:[],layerIndex1:-1,layerIndex2:-1,loading:!1,error:"",onDoMerge:function(){},onChangeLayer1:function(){},onChangeLayer2:function(){},onReset:function(){}});var me=(0,l.connect)((0,m.P1)([function(e){return{layerIndex1:e.mergelyr.layerIndex1,layerIndex2:e.mergelyr.layerIndex2,loading:e.mergelyr.loading,error:e.mergelyr.error,mergedLayer:e.mergelyr.mergedLayer}},function(e){return function(e){return p()(e,"controls.mergelyr.enabled")}(e)},T.Bt,T.l2],(function(e,t,r,n){return oe(oe({},e),{},{show:t,layersGroups:r,layersNode:(o=r,a=[],o.map((function(e){var t;a.push.apply(a,function(e){if(Array.isArray(e))return fe(e)}(t=e.nodes)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return fe(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?fe(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())})),a),allLayers:n});var o,a})),{onClose:function(){return{type:_,control:"mergelyr",property:null,layerSelected1:{},layerSelected2:{},layerIndex1:-1,layerIndex2:-1,loading:!1,error:""}},onChangeLayer1:L,onChangeLayer2:k,onDoMerge:function(e,t){return{type:C,layerSelected1:e,layerSelected2:t}}},null,{pure:!1})(ye);const de={MergeLayerPlugin:u()(me,{BurgerMenu:{name:"mergelyr",position:12,panel:!1,help:"help",tooltip:"tooltip",text:"Merge",icon:i().createElement(d.Glyphicon,{glyph:"plus"}),action:function(){return(0,y.Xg)("mergelyr","enabled",!0)}}}),reducers:{mergelyr:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A:return u()({},e,{layerIndex1:t.index1});case R:return u()({},e,{layerIndex2:t.index2});case N:return u()({},e,{loading:t.isLoading});case M:return u()({},e,{error:t.error});case _:return u()({},e,{layerSelected1:t.layerSelected1,layerSelected2:t.layerSelected2,layerIndex1:t.layerIndex1,layerIndex2:t.layerIndex1,loading:t.loading,error:t.error});default:return e}}},epics:{doMergeEpic:function(e,t){var r=t.getState,n=void 0===r?function(){}:r;return e.ofType(C).filter((function(){return(n().controls.mergelyr||{}).enabled||!1})).switchMap((function(e){var t=e.layerSelected1,r=e.layerSelected2;return z().Observable.from([te(t,r)])}))},mergeAsLayerEpic:function(e){return e.ofType(I).switchMap((function(e){var t=e.featureCollection;return z().Observable.of((0,V.A4)({type:"vector",id:W()(),name:"MergeLayer",hideLoading:!0,features:H(t.features),visibility:!0,title:"Merged_("+$+"&"+ee+")"}))}))}}}},16528:(e,t,r)=>{"use strict";r.r(t),r.d(t,{TOGGLE_CONTROL:()=>ee,default:()=>se});var n=r(423570),o=r.n(n),a=r(727418),i=r.n(a),l=r(124852),s=r.n(l),u=r(375875),c=r.n(u),p=r(49977),f=r.n(p),y=r(675263),m=r.n(y),d=r(185552),h=r.n(d),b=r(168898),g=r(282467),v=r(732833),E=r(965539),O=r(496259),w=r(743129),S=r(441609),x=r.n(S);function P(){return P=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},P.apply(this,arguments)}function T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return j(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?j(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var A=(0,r(993451).Z)(["placeholder","clearValueText","noResultsText"])(w.ZP),R=function(e){var t=e.responses,r=e.index,n=e.setIndex,o=T((0,l.useState)([]),2),a=o[0],i=o[1],u=T((0,l.useState)(""),2),c=u[0],p=u[1];return(0,l.useEffect)((function(){x()(t)||(t.reverse(),i(t.map((function(e,t){var r=null==e?void 0:e.title;return{label:r,value:r,idx:t,style:{display:"block"}}}))))}),[t]),(0,l.useEffect)((function(){var e;p((null===(e=t[r])||void 0===e?void 0:e.title)||"")}),[t,r]),s().createElement("div",{id:"identify-layer-select",style:{flex:"1 1 0%"}},s().createElement(A,P({},{clearable:!1,isSearchable:!0},{onChange:function(e){var t=(null==e?void 0:e.idx)||0;n(t)},value:c||"",options:a,noResultsText:"identifyLayerSelectNoResult"})))};R.defaultProps={responses:[],index:-1},R.propTypes={responses:m().array,setIndex:m().func,index:m().number};const C=R;var N=r(227361),I=r.n(N),M=r(782904),_=r(757588),L=r(607147),k=r(22222),D=r(171703),Z=r(604206),G=r(675110);function B(e){return B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},B(e)}function F(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function U(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?F(Object(r),!0).forEach((function(t){K(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function z(){return z=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},z.apply(this,arguments)}function q(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function W(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Y(e,t){return Y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Y(e,t)}function V(e,t){if(t&&("object"===B(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return H(e)}function H(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Q(e){return Q=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Q(e)}function K(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function X(e){return function(e){if(Array.isArray(e))return $(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||J(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function J(e,t){if(e){if("string"==typeof e)return $(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?$(e,t):void 0}}function $(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ee="TOGGLE_CONTROL";(0,L.Yq)("nearby");var te=function(e){return{type:"SET_NEARBY_CENTER",center:e}},re=function(e){return{type:"NEARBY_FEATURE_LOADED",features:e}},ne=function(e,t,r,n){n||(n={});var a="/geoserver/wfs";return function(i){c().get(n.url||a,{params:{service:"WFS",version:n.version,request:"DescribeFeatureType",typeName:n.name,outputFormat:"application/json"}}).then((function(l){var s=l.data.featureTypes[0];try{var u=s.properties.find((function(e){return"Point"===e.localType}));if(null!==u.name||"undefined"!==u.name){var p=t.y+" "+t.x;c().get("".concat(n.url||a),{params:{service:"WFS",version:n.version,request:"GetFeature",typeNames:n.name,outputFormat:"application/json",SRSName:"EPSG:4326",cql_filter:"DWithin(".concat(u.name,",POINT(").concat(p,"),").concat(e,",meters)")}}).then((function(e){var t=e.data.features;t.map((function(e){"Point"===e.geometry.type&&(e.style={iconGlyph:"map-marker",iconShape:"circle",iconColor:"blue",highlight:!1,id:o()()})})),t.push(r),i(re(t))}))}}catch(e){console.error(e),i(re([]))}})).catch((function(e){console.error(e),i(re([]))}))}},oe=function(e,t){return{type:"Feature",geometry:t,properties:{isCircle:!0,radius:e,id:o()(),crs:"EPSG:3857",isGeodesic:!0},style:[{color:"#48C9B0",opacity:1,weight:5,fillColor:"#ffffff",fillOpacity:.3,highlight:!1,type:"Circle",title:"Near by",id:o()}]}},ae={radius:1,center:null,centerLocked:!1,centerFixed:{},results:[],nearbyLists:[],layer:{},layerIndex:-1,totalPage:0,pageSize:25,currentPage:1},ie=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Y(e,t)}(i,e);var t,r,n,o,a=(n=i,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Q(n);if(o){var r=Q(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return V(this,e)});function i(){var e;q(this,i);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return K(H(e=a.call.apply(a,[this].concat(r))),"onClose",(function(){e.props.onClose(!1)})),K(H(e),"onChangeRadius",(function(t){e.props.onChangeRadius(t)})),K(H(e),"onLayerChange",(function(t){var r=e.props.layersNode[t];e.props.onChangeLayer(r,t)})),K(H(e),"onLockCenter",(function(){e.props.onLockCenter()})),K(H(e),"changePage",(function(t){e.props.onChangePage(t)})),K(H(e),"start",{x:.5*(window.innerWidth-600),y:.5*(window.innerHeight-100)}),K(H(e),"dialogStyle",{position:"fixed",top:"0px",left:"0px"}),e}return t=i,(r=[{key:"renderHeader",value:function(){return s().createElement("div",{style:{width:"100%"}},s().createElement("div",{style:{display:"flex",alignItems:"center"}},s().createElement("div",null,s().createElement(g.Z,{className:"square-button no-events"},s().createElement(_.Glyphicon,{glyph:"record"}))),s().createElement("div",{style:{flex:"1 1 0%",padding:8,textAlign:"center"}},s().createElement("h4",null,"Nearby")),s().createElement("div",null,s().createElement(g.Z,{className:"square-button no-border",onClick:this.onClose},s().createElement(_.Glyphicon,{glyph:"1-close"})))))}},{key:"render",value:function(){var e,t,r,n=this,o=[],a=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=J(e))){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){l=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(l)throw a}}}}(this.props.results.entries());try{for(a.s();!(e=a.n()).done;){var i=(t=e.value,r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw o}}return a}}(t,r)||J(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=i[0],u=i[1];o.push(s().createElement("li",{key:l},u.properties.title_en||"No title"))}}catch(e){a.e(e)}finally{a.f()}return this.props.show?s().createElement(O.Z,null,(function(e){var t=e.width;return s().createElement("span",{className:"react-dock-no-resize"},s().createElement(v.default,z({fluid:!0,dockStyle:n.props.dockStyle},n.props.dockProps,{isVisible:n.props.show,size:330/t>1?1:330/t}),s().createElement(E.Z,{header:n.renderHeader()},s().createElement("div",{style:{padding:"10px"}},s().createElement("label",null,"Layers"),s().createElement("div",null,s().createElement(C,{responses:n.props.layersNode,index:n.props.layerIndex,setIndex:n.onLayerChange})),s().createElement("div",{className:"btn-toolbar",style:{marginTop:"10px"}},s().createElement("div",{className:"row"},s().createElement("div",{className:"col-md-6"},s().createElement("label",null,"Radius (km)")),s().createElement("div",{className:"col-md-6 text-right"},s().createElement("button",{onClick:n.onLockCenter,style:{float:"right"},className:n.props.centerLocked?"btn btn-xs active":"btn btn-xs"},s().createElement(_.Glyphicon,{glyph:"lock"}))))),s().createElement("div",{className:"mapstore-slider with-tooltip"},s().createElement(h(),{tooltips:!0,step:.1,start:[n.props.radius],range:{min:[0],max:[20]},onChange:function(e){n.onChangeRadius(e[0])}})),s().createElement("div",{className:"location-list"},s().createElement("div",{className:"locations"},o),o.length>0?s().createElement("div",{style:{textAlign:"center"}},s().createElement(_.Pagination,{prev:!0,next:!0,first:!0,last:!0,ellipsis:!0,boundaryLinks:!0,bsSize:"small",items:n.props.totalPage,maxButtons:5,activePage:n.props.currentPage,onSelect:n.changePage})):s().createElement("div",null))))))})):null}}])&&W(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(s().Component);K(ie,"propTypes",{show:m().bool,radius:m().number,results:m().array,nearbyLists:m().array,centerLocked:m().bool,centerFixed:m().object,onLockCenter:m().func,onClose:m().func,onChangeRadius:m().func,onChangeLayer:m().func,dockProps:m().object,layersGroups:m().array,layersNode:m().array,layerIndex:m().number,totalPage:m().number,pageSize:m().number,currentPage:m().number,changePage:m().func}),K(ie,"defaultProps",{show:!1,radius:1,centerLocked:!1,centerFixed:{},results:[],nearbyLists:[],dockProps:{dimMode:"none",size:.3,fluid:!0,position:"right",zIndex:1030},dockStyle:{},layersGroups:[],layersNode:[],layerIndex:-1,totalPage:0,pageSize:5,currentPage:1,changePage:function(){}});var le=(0,D.connect)((0,k.P1)([function(e){return{radius:e.nearby.radius,center:e.nearby.center,centerLocked:e.nearby.centerLocked,centerFixed:e.nearby.centerFixed,results:e.nearby.results,layer:e.nearby.layer,layerIndex:e.nearby.layerIndex,totalPage:e.nearby.totalPage,pageSize:e.nearby.pageSize,currentPage:e.nearby.currentPage}},function(e){return function(e){return I()(e,"controls.nearby.enabled")}(e)},G.Bt],(function(e,t,r){return U(U({},e),{},{show:t,layersGroups:r,layersNode:(n=r,o=[],n.map((function(e){o.push.apply(o,X(e.nodes))})),o)});var n,o})),{onClose:function(){return{type:ee,control:"nearby",property:null,layer:{},index:-1}},onChangeRadius:function(e){return{type:"SET_NEARBY_RADIUS",radius:Number(e)||1}},onChangeLayer:function(e,t){return{type:"SET_LAYER_FILTER",layer:e,index:t}},onLockCenter:function(){return{type:"NEARBY:CENTER_MAP_LOCK"}},onChangePage:function(e){return{type:"NEARBY:CHANGE_PAGE_NUMBER",page:e}}},null,{pure:!1})(ie);const se={NearbyPlugin:i()(le,{BurgerMenu:{name:"nearby",position:9,panel:!1,help:"help",tooltip:"tooltip",text:"Nearby",icon:s().createElement(_.Glyphicon,{glyph:"record"}),action:function(){return(0,M.Xg)("nearby","enabled",!0)}}}),reducers:{nearby:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_NEARBY_RADIUS":return i()({},e,{radius:t.radius});case"SET_LAYER_FILTER":return i()({},e,{layer:t.layer,layerIndex:t.index});case"SET_NEARBY_CENTER":return i()({},e,{center:t.center});case"NEARBY_FEATURE_LOADED":return i()({},e,{nearbyLists:t.features,results:t.features.length>e.pageSize?t.features.slice(0,e.pageSize):t.features,totalPage:t.features.length>e.pageSize?Math.floor(t.features.length/e.pageSize):1,currentPage:1});case"NEARBY:CENTER_MAP_LOCK":return i()({},e,{centerFixed:e.center,centerLocked:!e.centerLocked});case"NEARBY:CHANGE_PAGE_NUMBER":return i()({},e,{results:e.nearbyLists.slice((t.page-1)*e.pageSize,t.page*e.pageSize),currentPage:t.page});case ee:return i()({},e,{layer:t.layer,layerIndex:t.index});default:return e}}},epics:{changeCenterEpic:function(e,t){var r=t.getState,n=void 0===r?function(){}:r;return e.ofType("CHANGE_MAP_VIEW").filter((function(){return(n().controls.nearby||{}).enabled||!1})).switchMap((function(e){var t=e.center,r=n().nearby.radius,o=n().nearby.layer,a=n().nearby.centerFixed,i=n().nearby.centerLocked,l=(0,b.Z)([i?a.x:t.x,i?a.y:t.y],r,{steps:100,units:"kilometers"}).geometry,s=oe(r,l);return i?f().Observable.empty():f().Observable.from([te(t),ne(1e3*r,t,s,o)])}))},changeRadiusEpic:function(e,t){var r=t.getState,n=void 0===r?function(){}:r;return e.ofType("SET_NEARBY_RADIUS").filter((function(){return(n().controls.nearby||{}).enabled||!1})).switchMap((function(e){var t=e.radius,r=n().map.present.center,o=n().nearby.centerFixed,a=n().nearby.centerLocked,i=n().nearby.layer,l=(0,b.Z)([a?o.x:r.x,a?o.y:r.y],t,{steps:100,units:"kilometers"}).geometry,s=oe(t,l);return f().Observable.from([ne(1e3*t,r,s,i)])}))},nearbyResultLoadedEpic:function(e,t){var r=t.getState,n=void 0===r?function(){}:r;return e.ofType("NEARBY_FEATURE_LOADED").filter((function(){return(n().controls.nearby||{}).enabled||!1})).switchMap((function(){var e=n().map.present.center,t=n().nearby.radius,r=(0,b.Z)([e.x,e.y],t,{steps:100,units:"kilometers"}).geometry,a=oe(t,r),i=n().nearby.results,l=[{type:"FeatureCollection",newFeature:!0,id:o()(),geometry:null,properties:o()(),features:[].concat(X(i),[a])}];return f().Observable.from([(0,Z.Yf)("drawOrEdit","Point","nearbyResult",l,{featureProjection:"EPSG:4326",stopAfterDrawing:!0,editEnabled:!1,selectEnabled:!0,translateEnabled:!1,drawEnabled:!1})])}))},changeLayerEpic:function(e,t){var r=t.getState,n=void 0===r?function(){}:r;return e.ofType("SET_LAYER_FILTER").filter((function(){return(n().controls.nearby||{}).enabled||!1})).switchMap((function(e){var t=e.layer,r=n().map.present.center,o=n().nearby.radius,a=(0,b.Z)([r.x,r.y],o,{steps:100,units:"kilometers"}).geometry,i=oe(o,a);return f().Observable.from([ne(1e3*o,r,i,t)])}))},closeNearbyDock:function(e,t){var r=t.getState,n=void 0===r?function(){}:r;return e.ofType(ee).filter((function(){return n().controls.nearby||{}||!1})).switchMap((function(e){return function(e){if(null==e)throw new TypeError("Cannot destructure undefined")}(e),f().Observable.from([function(e){e(re([]))},(0,Z.Yf)("clean","","nearbyResult",[],{})])}))},changePageEpic:function(e,t){var r=t.getState,n=void 0===r?function(){}:r;return e.ofType("NEARBY:CHANGE_PAGE_NUMBER").filter((function(){return(n().controls.nearby||{}).enabled||!1})).switchMap((function(){var e=n().map.present.center,t=n().nearby.radius,r=n().nearby.centerFixed,a=n().nearby.centerLocked,i=(0,b.Z)([a?r.x:e.x,a?r.y:e.y],t,{steps:100,units:"kilometers"}).geometry,l=oe(t,i),s=n().nearby.results,u=[{type:"FeatureCollection",newFeature:!0,id:o()(),geometry:null,properties:o()(),features:[].concat(X(s),[l])}];return f().Observable.from([(0,Z.Yf)("drawOrEdit","Point","nearbyResult",u,{featureProjection:"EPSG:4326",stopAfterDrawing:!0,editEnabled:!1,selectEnabled:!0,translateEnabled:!1,drawEnabled:!1})])}))}}}},178363:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>le});var n,o,a,i=r(124852),l=r.n(i),s=r(171703),u=r(227361),c=r.n(u),p=r(675263),f=r.n(p),y=r(727418),m=r.n(y),d=r(757588),h=r(22222),b=r(49977),g=r.n(b),v=r(807472),E=r(490079),O=r(414293),w=r.n(O);function S(e){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S(e)}function x(){return x=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},x.apply(this,arguments)}function P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function T(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P(Object(r),!0).forEach((function(t){M(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function j(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function R(e,t){return R=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},R(e,t)}function C(e,t){if(t&&("object"===S(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return N(e)}function N(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I(e){return I=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},I(e)}function M(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var _=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&R(e,t)}(p,e);var t,i,s,u,c=(s=p,u=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=I(s);if(u){var r=I(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return C(this,e)});function p(){var e;j(this,p);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return M(N(e=c.call.apply(c,[this].concat(r))),"getRatio",(function(){return e.props.width&&e.props.layoutSize&&e.props.resolutions?e.props.layoutSize.width/e.props.width*e.props.printRatio:1})),M(N(e),"getResolutions",(function(){return e.props.width&&e.props.layoutSize&&e.props.resolutions?e.props.resolutions.map((function(t){return t*e.getRatio()})):e.props.resolutions})),M(N(e),"renderLayerContent",(function(e,t){return e.features&&"vector"===e.type?e.features.map((function(r){return l().createElement(a,{crs:t,key:r.id,type:r.type,geometry:r.geometry,features:r.features,msId:r.id,featuresCrs:e.featuresCrs||"EPSG:4326",layerStyle:e.style,style:r.style||e.style||null,properties:r.properties})})):null})),M(N(e),"adjustResolution",(function(t){var r=e.getRatio(),n=Math.round(96/r);return m()({},t,T(T(T({},!w()(null==t?void 0:t.minResolution)&&{minResolution:t.minResolution*r}),!w()(null==t?void 0:t.maxResolution)&&{maxResolution:t.maxResolution*r}),{},{params:m()({},t.params,{format_options:"dpi:"+n,"MAP.RESOLUTION":n})}))})),e}return t=p,(i=[{key:"UNSAFE_componentWillMount",value:function(){var e=r(508026)("./"+this.props.mapType+"/index").default;n=e.LMap,o=e.LLayer,a=e.Feature,r(114807)("./"+this.props.mapType+"/plugins/index").default;var t=document.createElement("script");t.setAttribute("src","https://html2canvas.hertzen.com/dist/html2canvas.js"),document.head.appendChild(t)}},{key:"render",value:function(){var e=this,t=m()({},this.props.style,{width:"100%",height:"100%"}),r=this.getResolutions(),a=this.props.map&&this.props.map.projection||"EPSG:3857",i=r?{view:{resolutions:r}}:{};return l().createElement(n,x({ref:"mappa",id:"print_preview",interactive:!0,zoomControl:!0,registerHooks:!1,style:t,resize:this.props.height,mapOptions:i,center:this.props.map.center,onMapViewChanges:this.props.onMapViewChanges},this.props.map),this.props.layers.map((function(t,r){return l().createElement(o,{key:t.id||t.name,positi:!0,on:r,type:t.type,options:m()({},e.adjustResolution(t),{srs:a})},e.renderLayerContent(t,a))})))}}])&&A(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),p}(l().Component);M(_,"propTypes",{map:f().object,layers:f().array,style:f().object,height:f().string,width:f().string,onMapViewChanges:f().func,printRatio:f().number,resolutions:f().array,layoutSize:f().object,mapType:f().string}),M(_,"defaultProps",{map:null,layers:[],mapType:"openlayers",printRatio:96/72,layoutSize:{width:400,height:600},onMapViewChanges:function(){},style:{display:"block",border:"1px solid black",position:"relative"},width:400,height:600});const L=_;var k=r(801550),D=r(607147),Z=r(782904),G=r(552259),B=r(995157),F=r.n(B),U=r(912285),z=r.n(U);function q(e){return q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},q(e)}function W(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?W(Object(r),!0).forEach((function(t){ee(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function H(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Q(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function K(e,t){return K=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},K(e,t)}function X(e,t){if(t&&("object"===q(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return J(e)}function J(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $(e){return $=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},$(e)}function ee(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var te=(0,r(737275).u8)("proxyUrl");(0,D.Yq)("prtstd");var re=Z.Xi.bind(null,"prtstd",null),ne=function(e){return null==e?void 0:e.present},oe={show:!1,mapType:"openlayers",paperZoom:.8,mapZoom:5,mapScale:0,printName:"แผนที่ไม่มีชื่อ",mapCenter:null,layers:[],map:null},ae=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&K(e,t)}(i,e);var t,r,n,o,a=(n=i,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=$(n);if(o){var r=$(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return X(this,e)});function i(){var e;H(this,i);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return ee(J(e=a.call.apply(a,[this].concat(r))),"dialogStyle",{position:"fixed",top:"0px",width:"60%"}),ee(J(e),"start",{x:.5*(window.innerWidth-800),y:.5*(window.innerHeight-800)}),ee(J(e),"onPrint",(function(){e.onPreparePrint(),window.html2canvas(document.getElementById("printContainer"),{useCORS:!0,allowTaint:!0,proxy:te.url}).then((function(t){var r=document.createElement("a");r.setAttribute("download","sphere_".concat((new Date).getTime(),".png")),r.setAttribute("href",t.toDataURL("image/png",1).replace("image/png","image/octet-stream")),r.click(),e.onAfterPrint()}))})),ee(J(e),"onPreparePrint",(function(){var e=document.querySelector("#prtstd-remark > textarea");document.querySelector("#print_preview > div > div.ol-overlaycontainer-stopevent > div.ol-attribution.ol-unselectable.ol-control.ol-uncollapsible").setAttribute("data-html2canvas-ignore",!0),e.style.border="none"})),ee(J(e),"onAfterPrint",(function(){document.querySelector("#prtstd-remark > textarea").style.border="1px solid #d5d5d5"})),ee(J(e),"onClose",(function(){return e.props.onClose()})),ee(J(e),"isInRange",(function(e,t){return e>=t.min&&e<=t.max})),ee(J(e),"locationToUTMZone",(function(){var t=e.props.mapCenter;return null!=t&&t.y&&e.isInRange(null==t?void 0:t.y,{min:-80,max:84})?"".concat((null==t?void 0:t.x)/6+31|0," ").concat((null==t?void 0:t.y)<0?"S":"N"):null})),ee(J(e),"getMapZoom",(function(){var e,t=document.getElementById("footer-scalebar-container"),r=null===(e=document.getElementsByClassName("ol-scale-line-inner")[0])||void 0===e?void 0:e.style.width;setTimeout((function(){var e=null==t?void 0:t.innerText,n="".concat(e.replace(/\d/g,"")).trim();document.getElementById("ruler").style.width=r,document.getElementById("scale-1-4").innerText=Number(e[0])/4,document.getElementById("scale-1-2").innerHTMLinnerText=Number(e[0])/2,document.getElementById("scale-1").innerText=Number.parseInt(e,10),document.getElementById("ruler-unit").innerText="km"===n?"กม.":"ม"}),1e3)})),ee(J(e),"onMapViewChanges",(function(t,r){return e.props.onMapViewChanges(t,r)})),ee(J(e),"onZoomControl",(function(t){var r=t.target.value;return e.props.onZoomControl(r)})),ee(J(e),"onChangePrintTitle",(function(){})),e}return t=i,(r=[{key:"render",value:function(){var e,t=[{group:"background",id:"testeiei",loading:!1,loadingError:!1,name:"test",previousLoadingError:void 0,source:"graticule",title:"Open Street Map",type:"graticule",visibility:!0,showLabels:!0}].concat(function(e){if(Array.isArray(e))return V(e)}(e=this.props.layers)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return V(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?V(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());return this.props.show?l().createElement(v.Z,{id:"prtstd-dialog",style:this.dialogStyle,start:this.start},l().createElement("div",{key:"header",role:"header"},l().createElement(d.Glyphicon,{glyph:"print"})," Print Standard",l().createElement("button",{key:"close",onClick:this.onClose,className:"close"},l().createElement(d.Glyphicon,{glyph:"1-close"}))),l().createElement("div",{key:"body",role:"body",style:{height:"70vh",overflow:"scroll",backgroundColor:"#E9E9E9"}},l().createElement("div",{className:"control-paper"},l().createElement("input",{type:"button",value:"-",className:"btn btn-info",onClick:this.onZoomControl}),l().createElement("input",{type:"button",value:"+",className:"btn btn-info",onClick:this.onZoomControl})),l().createElement("div",{style:{zoom:this.props.paperZoom,marginTop:"10px",width:"210mm",height:"297mm",backgroundColor:"white",padding:"5mm",overflow:"hidden",marginLeft:"auto",marginRight:"auto",marginBottom:"52px"},id:"printContainer"},l().createElement("div",{id:"prtstd-header"},l().createElement("div",{className:"logo left"},l().createElement("img",{src:z(),width:"100%"})),l().createElement("div",{className:"title"},l().createElement("div",null,l().createElement("input",{style:{textAlign:"center",border:"none"},type:"text",onKeyUp:this.onChangePrintTitle,placeholder:"แผนที่ไม่มีชื่อ"})),l().createElement("div",{id:"address"})),l().createElement("div",{className:"logo right"},l().createElement("img",{src:"https://via.placeholder.com/250x250",width:"100%"}))),l().createElement("div",{id:"main-map-section"},l().createElement(L,{onMapViewChanges:this.onMapViewChanges,resolutions:(0,G.getResolutions)(),map:this.props.map,layers:t,mapType:this.props.mapType})),l().createElement("div",{id:"prtstd-remark"},l().createElement("label",null,"รายละเอียด"),l().createElement("textarea",null)),l().createElement("div",{id:"prtstd-symbol"},l().createElement("div",{id:"legend"},l().createElement("label",null,"สัญลักษณ์"),l().createElement("div",null,this.props.layers.map((function(e){if("wms"===e.type)return l().createElement(E.Z,{layer:e})})))),l().createElement("div",{id:"compass"},l().createElement("div",{id:"compass-img"},l().createElement("img",{src:F(),width:"100%"})),l().createElement("div",null,"มาตราส่วน ",l().createElement("span",{id:"ratio"},"1: ",Math.ceil((0,G.getScales)()[this.props.mapZoom]))),l().createElement("div",null,"UTM : WGS1984 Zone",l().createElement("span",{id:"zone"}," ",this.locationToUTMZone()))),l().createElement("div",{id:"minimap"})),l().createElement("div",{id:"prtstd-footer"},l().createElement("div",{id:"owner-name",className:"footer-div"},"สำนักงานพัฒนาเทคโนโลยีอวกาศ"),l().createElement("div",{id:"ruler-container"},this.getMapZoom(),l().createElement("div",{id:"ruler",style:{width:"100px"}},l().createElement("div",{className:"small black"},l().createElement("span",null,"0")),l().createElement("div",{className:"small"}),l().createElement("div",{className:"small black"},l().createElement("span",{id:"scale-1-4"},"2.5")),l().createElement("div",{className:"small"}),l().createElement("div",{className:"large black"},l().createElement("span",{id:"scale-1-2"},"5"),l().createElement("span",{id:"scale-1"},"10")),l().createElement("span",{id:"ruler-unit"},"   กม."))),l().createElement("div",{id:"base-map-name",className:"footer-div"}))),l().createElement("div",{className:"print-btn"},l().createElement("button",{className:"btn btn-success",onClick:this.onPrint},"Print")))):null}}])&&Q(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(l().Component);ee(ae,"propTypes",{show:f().bool,map:f().object,printName:f().string,paperZoom:f().number,mapZoom:f().number,mapScale:f().number,layers:f().object,mapType:f().string,mapCenter:f().object,onMapViewChanges:f().func,onZoomControl:f().func,onClose:f().func}),ee(ae,"defaultProps",{show:!1,mapType:"openlayers",layers:[],map:null,mapZoom:5,printName:"แผนที่ไม่มีชื่อ",paperZoom:.8,mapScale:0,mapCenter:{},onZoomControl:function(){},onMapViewChanges:function(){},onClose:function(){}});var ie=(0,s.connect)((0,h.P1)([function(e){return{show:e.prtstd.show,paperZoom:e.prtstd.paperZoom,mapType:e.maptype.mapType,printName:e.prtstd.printName,mapCenter:e.prtstd.mapCenter,mapZoom:e.prtstd.mapZoom,map:e.prtstd.map,mapScale:e.prtstd.mapScale,layers:e.prtstd.layers,printSpec:e.prtstd.printSpec}},function(e){return e.layers},function(e){return c()(e,"controls.prtstd.enabled")},function(e){return e.map}],(function(e,t,r,n){return Y(Y({},e),{},{layers:(o=t,null==o?void 0:o.flat.filter((function(e){return!0===e.visibility}))),show:r,map:ne(n)});var o})),{onClose:re,onZoomControl:function(e){return{type:"PRTSTD:ZOOM_PAPER_CONTROL",zoomType:e}},onMapViewChanges:function(e,t){return{type:"PRTSTD:CHANGEMAP_VIEW",center:e,zoom:t}}},null,{pure:!1})(ae);const le={PrintStandardPlugin:m()(ie,{BurgerMenu:{name:"prtstd",position:1,panel:!1,help:"help",tooltip:"tooltip",text:"Print Standard",icon:l().createElement(d.Glyphicon,{glyph:"print"}),action:function(){return(0,Z.Xg)("prtstd","enabled",!0)}}}),reducers:{prtstd:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PRTSTD:CHANGEMAP_VIEW":return m()({},e,{mapCenter:t.center,mapZoom:t.zoom});case"PRTSTD:ZOOM_PAPER_CONTROL":var r="+"===t.zoomType?e.paperZoom+=.1:e.paperZoom-=.1;return m()({},e,{paperZoom:r});default:return e}}},epics:{changeMapViewPic:function(e,t){var r=t.getState,n=void 0===r?function(){}:r;return e.ofType("PRTSTD:CHANGEMAP_VIEW").filter((function(){return n()})).switchMap((function(){var e=n().prtstd.mapCenter,t=n().prtstd.mapZoom;return g().Observable.from([(0,k.o6)(e,t)])}))}}}},893995:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>ae});var n=r(727418),o=r.n(n),a=r(124852),i=r.n(a),l=r(171703),s=r(22222),u=r(675263),c=r.n(u),p=r(227361),f=r.n(p),y=r(732833),m=r(496259),d=r(282467),h=r(532425),b=r(965539),g=r(782904),v=r(757588),E=r(607147),O=r(423570),w=r.n(O),S=function(e){switch(e){case"START":default:return{iconGlyph:"map-marker",iconShape:"square",iconColor:"blue",highlight:!1,id:w()()};case"END":return{iconGlyph:"stop-circle",iconShape:"square",iconColor:"blue",highlight:!1,id:w()()}}};function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var P="https://api.longdo.com/RouteService/geojson/route",T="8691719DEAE84A8D8BEEF76393A8D03F",j=r(409669).create(),A=function(e){return{type:"ROUTING_FEATURE_LOADED",features:e}},R=function(e,t,r){return function(n){return j.get("https://search.longdo.com/mapsearch/json/search",{params:{lat:r.y,lon:r.x,keyword:t,locale:"th",key:T}}).then((function(t){n(function(e,t){return{type:"ROUTING_SEARCH_LOADED",index:e,result:t}}(e,t.data))}))}};const C={start:{x:.5*(window.innerWidth-600),y:.5*(window.innerHeight-500)},dialogStyle:{position:"fixed",top:"0px",left:"0px"},routingGuideList:{marginTop:"10px",paddingRight:"10px",overflow:"auto"},guideStyle:{display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center",cursor:"pointer"},turnStyle:{width:"36px",height:"36px",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"stretch",padding:"12px 0px"},turnImageStyle:{width:"16px",height:"16px"},distanceStyle:{marginLeft:"auto"},resultListStyle:{borderLeft:"1px solid #dddddd",borderRight:"1px solid #dddddd",position:"absolute",background:"white",maxHeight:"600px",overflowY:"auto",width:"90.5%",zIndex:20,marginTop:"11.5%"},resultListStyleWithRemove:{borderLeft:"1px solid #dddddd",borderRight:"1px solid #dddddd",position:"absolute",background:"white",maxHeight:"600px",overflowY:"auto",width:"80.5%",marginTop:"12.1%",zIndex:20},resultStyle:{padding:"6px 12px",cursor:"pointer"}};var N={displaySetting:!1,pointList:[{lat:null,lon:null,keyword:"",searchResult:{}},{lat:null,lon:null,keyword:"",searchResult:{}}],features:[],routeType:[],routeMode:null},I=r(49977),M=r.n(I),_=r(604206),L=r(801550),k=r(340708);function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function G(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(r),!0).forEach((function(t){B(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function B(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function F(e){return F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},F(e)}function U(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?U(Object(r),!0).forEach((function(t){te(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw o}}return a}}(e,t)||V(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function W(){return W=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},W.apply(this,arguments)}function Y(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=V(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){l=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(l)throw a}}}}function V(e,t){if(e){if("string"==typeof e)return H(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?H(e,t):void 0}}function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Q(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function K(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function X(e,t){return X=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},X(e,t)}function J(e,t){if(t&&("object"===F(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return $(e)}function $(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ee(e){return ee=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ee(e)}function te(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}(0,E.Yq)("routing");var re=g.Xi.bind(null,"routing",null),ne=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&X(e,t)}(l,e);var t,r,n,o,a=(n=l,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ee(n);if(o){var r=ee(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return J(this,e)});function l(){var e;Q(this,l);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return te($(e=a.call.apply(a,[this].concat(r))),"onClose",(function(){e.props.onClose(!1)})),te($(e),"onAddPoint",(function(){e.props.onAddPoint()})),te($(e),"onSwapPoint",(function(){e.props.onSwapPoint()})),te($(e),"onRemovePoint",(function(t){return function(){e.props.onRemovePoint(t)}})),te($(e),"onDisplaySetting",(function(){e.props.onDisplaySetting()})),te($(e),"onSearch",(function(){var t=e.props.pointList.find((function(e){if(!e.lat||!e.lon)return e})),r=e.props.routeMode,n=e.props.routeType;!t||t.lat?(document.getElementById("find-route").innerHTML="กำลังค้นหา...",e.props.onSearch(e.props.pointList,r,n)):document.getElementById("find-route").innerHTML="ค้นหาเส้นทาง"})),te($(e),"onClearSearch",(function(){e.props.onClearSearch(e.props)})),te($(e),"onChangePointInput",(function(t){return function(r){e.props.onChangePointInput(t,r.nativeEvent.target.value)}})),te($(e),"onClickGuide",(function(t){return function(){e.props.onClickGuide(t)}})),te($(e),"onClickSearchResult",(function(t,r,n){return function(){e.props.onClickSearchResult(t,r,n)}})),te($(e),"onChangeRouteMode",(function(t){return e.props.onChangeRouteMode(t.target.value)})),te($(e),"onChangeRouteType",(function(t){return e.props.onChangeRouteType(t.target.value)})),te($(e),"renderEastimateTime",(function(e){var t=~~(e/3600),r=~~(e%3600/60),n="";return t>0&&(n+=t+" ชั่วโมง "+(r<10?"0":"")),n+(r+" นาที ")})),te($(e),"renderGuideList",(function(t,r,n){return i().createElement("div",null,i().createElement("div",{className:"panel panel-primary",style:{marginTop:"10px"}},i().createElement("div",{className:"panel-heading"},i().createElement(v.Row,null,i().createElement(v.Col,{md:6},e.renderEastimateTime(r)),i().createElement(v.Col,{md:6,style:{textAlign:"right"}},"ระยะทาง:"," ",n>1e3?(n/1e3).toFixed(2)+" กม.":n+" เมตร"))),i().createElement("div",{className:"panel-body"},i().createElement("div",{style:C.routingGuideList,key:"routing-guide"},t))))})),te($(e),"renderLoading",(function(){return i().createElement("div",{className:"loading"},i().createElement(h.Z,{size:176}))})),e}return t=l,(r=[{key:"componentDidMount",value:function(){new Promise((function(e){var t="longdo-map-js-api";if(window.document.getElementById(t))e();else{var r=window.document.createElement("script");r.setAttribute("id",t),r.setAttribute("src","https://api.longdo.com/map/?key=8691719DEAE84A8D8BEEF76393A8D03F"),r.onload=function(){e()},window.document.head.appendChild(r)}}))}},{key:"renderHeader",value:function(){return i().createElement("div",{style:{width:"100%"}},i().createElement("div",{style:{display:"flex",alignItems:"center"}},i().createElement("div",null,i().createElement(d.Z,{className:"square-button no-events"},i().createElement(v.Glyphicon,{glyph:"record"}))),i().createElement("div",{style:{flex:"1 1 0%",padding:8,textAlign:"center"}},i().createElement("h4",null,"Routes")),i().createElement("div",null,i().createElement(d.Z,{className:"square-button no-border",onClick:this.onClose},i().createElement(v.Glyphicon,{glyph:"1-close"})))))}},{key:"render",value:function(){var e,t=this,r=[],n=Y(this.props.pointList.entries());try{for(n.s();!(e=n.n()).done;){var o,a=q(e.value,2),l=a[0],s=a[1],u="".concat(0===l?"กำหนดจุดเริ่มต้น":"เลือกจุดหมาย"),c=s.keyword,p=s.searchResult.data||[],f=[],d=Y(p.entries());try{for(d.s();!(o=d.n()).done;){var h=q(o.value,2),g=h[0],E=h[1];f.push(i().createElement("div",{style:C.resultStyle,key:"result-".concat(g,"-input-").concat(l),onClick:this.onClickSearchResult(l,g,E)},E.name))}}catch(e){d.e(e)}finally{d.f()}r.push(i().createElement("div",{style:{position:"relative"}},i().createElement("div",{key:"point-".concat(l+1),className:"input-group"},i().createElement("span",{className:"input-group-addon",style:{border:"none",background:"none"}},0===l?i().createElement(v.Glyphicon,{glyph:"pushpin"}):i().createElement(v.Glyphicon,{glyph:"record"})),i().createElement("input",{type:"text",key:"point-input-".concat(l+1),value:c,className:"form-control",style:{marginTop:"7px"},onChange:this.onChangePointInput(l),placeholder:u}),i().createElement("div",{style:l>=2?C.resultListStyleWithRemove:C.resultListStyle},f),l>=2?i().createElement("span",{onClick:this.onRemovePoint(l),className:"input-group-addon",id:"btn-rm-".concat(l),style:{border:"none",background:"none"}},i().createElement(v.Glyphicon,{glyph:"remove"})):i().createElement("span",{className:"input-group-addon",onClick:this.onRemovePoint(l),id:"btn-rm-".concat(l),style:{display:"none",border:"none",background:"none"}},i().createElement(v.Glyphicon,{glyph:"remove"})))))}}catch(e){n.e(e)}finally{n.f()}var O,w=[],S=0,x=0,P=Y(this.props.features.entries());try{for(P.s();!(O=P.n()).done;){var T=q(O.value,2),j=(T[0],T[1]);if("LineString"===j.geometry.type){S+=j.properties.interval,x+=j.properties.distance;var A="https://api.longdo.com/RouteService/images/turn".concat(j.properties.turn,".png"),R=j.properties.distance<1e3?"".concat(j.properties.distance," m"):"".concat((j.properties.distance/1e3).toFixed(1)," km");w.push(i().createElement("div",{className:"routing-guide",style:C.guideStyle,onClick:this.onClickGuide(j)},i().createElement("div",{className:"turn",style:C.turnStyle},i().createElement("img",{style:C.turnImageStyle,src:A})),i().createElement("div",{className:"detail"},j.properties.name),i().createElement("div",{className:"distance",style:C.distanceStyle},R)))}}}catch(e){P.e(e)}finally{P.f()}return this.props.show?i().createElement(m.Z,{id:"routingContainer"},(function(e){var n=e.width;return i().createElement("span",{className:"react-dock-no-resize"},i().createElement(y.default,W({fluid:!0,dockStyle:t.props.dockStyle},t.props.dockProps,{isVisible:t.props.show,size:330/n>1?1:330/n}),i().createElement(b.Z,{header:t.renderHeader()},i().createElement("div",{key:"routing-body",role:"body",style:{padding:"10px"}},r,i().createElement("br",null),t.props.displaySetting?i().createElement("div",{className:"route-option",style:{textAlign:"center",paddingLeft:"10%",marginBottom:"5%"}},i().createElement(v.Row,null,i().createElement(v.Col,{md:6,style:{textAlign:"left"}},i().createElement("label",null,"โหมดการเดินทาง"),i().createElement("div",{onChange:t.onChangeRouteMode},i().createElement("div",{className:"radio"},i().createElement("label",null,i().createElement("input",{type:"radio",name:"routeMode",value:"t"}),"ระยะเวลาน้อยสุด")),i().createElement("div",{className:"radio"},i().createElement("label",null,i().createElement("input",{type:"radio",name:"routeMode",value:"d"}),"ระยะทางน้อยสุด")),i().createElement("div",{className:"radio"},i().createElement("label",null,i().createElement("input",{type:"radio",name:"routeMode",value:"c"}),"ประหยัดค่าใช้จ่าย")))),i().createElement(v.Col,{md:6,style:{textAlign:"left"}},i().createElement("label",null,"วิธีการเดินทาง"),i().createElement("div",{onChange:t.onChangeRouteType},i().createElement("div",{className:"checkbox"},i().createElement("label",null,i().createElement("input",{type:"checkbox",name:"routeType",value:"1"}),"ถนนหลัก")),i().createElement("div",{className:"checkbox"},i().createElement("label",null,i().createElement("input",{type:"checkbox",value:"16",name:"routeType"}),"ทางด่วน")),i().createElement("div",{className:"checkbox"},i().createElement("label",null,i().createElement("input",{type:"checkbox",value:"32",name:"routeType"}),"รถประจำทาง")),i().createElement("div",{className:"checkbox"},i().createElement("label",null,i().createElement("input",{type:"checkbox",value:"64",name:"routeType"}),"รถไฟฟ้า")),i().createElement("div",{className:"checkbox"},i().createElement("label",null,i().createElement("input",{type:"checkbox",value:"4",name:"routeType"}),"รถไฟ")),i().createElement("div",{className:"checkbox"},i().createElement("label",null,i().createElement("input",{type:"checkbox",value:"8",name:"routeType"}),"เรือ")),i().createElement("div",{className:"checkbox"},i().createElement("label",null,i().createElement("input",{type:"checkbox",value:"2",name:"routeType"}),"อากาศ")))))):i().createElement("div",null),i().createElement("div",{style:{display:"flex",justifyContent:"space-between"}},i().createElement("div",null,i().createElement("button",{key:"add-point",className:"btn btn-londo-circle-sm",onClick:t.onAddPoint},i().createElement(v.Glyphicon,{glyph:"plus"})),i().createElement("button",{key:"swap-point",className:"btn btn-londo-circle-sm",style:{marginLeft:"5px"},onClick:t.onSwapPoint},i().createElement(v.Glyphicon,{glyph:"sort"})),i().createElement("button",{key:"setting",className:"btn btn-londo-circle-sm",style:{marginLeft:"5px"},onClick:t.onDisplaySetting},i().createElement(v.Glyphicon,{glyph:"cog"}))),i().createElement("div",null,i().createElement("button",{key:"clear-routing",onClick:t.onClearSearch,className:"btn btn-longdo-outline-default btn-rounded",style:{minWidth:"90px",marginRight:"5px"}},"ล้าง"),i().createElement("button",{key:"search-routing",onClick:t.onSearch,className:"btn btn-longdo-outline-info btn-rounded",style:{minWidth:"100px"},id:"find-route"},"ค้นหาเส้นทาง"))),0!==w.length?t.renderGuideList(w,S,x):i().createElement("div",null)))))})):null}}])&&K(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),l}(i().Component);te(ne,"propTypes",{show:c().bool,displaySetting:c().bool,dockProps:c().object,loading:c().bool,pointList:c().array,features:c().array,routeMode:c().string,routeType:c().array,onClose:c().func,onSwapPoint:c().func,onAddPoint:c().func,onRemovePoint:c().func,onSearch:c().func,onChangePointInput:c().func,onClickGuide:c().func,onClickSearchResult:c().func,onChangeRouteMode:c().func}),te(ne,"defaultProps",{show:!1,displaySetting:!1,dockProps:{dimMode:"none",size:.3,fluid:!0,position:"right",zIndex:1030},loading:!1,routeMode:null,routeType:[],pointList:[{lat:null,lon:null},{lat:null,lon:null}],features:[]});var oe=(0,l.connect)((0,s.P1)([function(e){return{pointList:e.routing.pointList,displaySetting:e.routing.displaySetting,features:e.routing.features,routeMode:e.routing.routeMode,routeType:e.routing.routeType}},function(e){return function(e){return f()(e,"controls.routing.enabled")}(e)}],(function(e,t){return z(z({},e),{},{show:t})})),{onClose:re,onDisplaySetting:function(){return{type:"ROUTING_DISPLAY_SETTING"}},onAddPoint:function(){return{type:"ROUTING_ADD_POINT"}},onSwapPoint:function(){return{type:"ROUTING_SWAP_POINT"}},onRemovePoint:function(e){return{type:"ROUTING_REMOVE_POINT",index:e}},onSearch:function(e,t,r){return function(n){var o=0===r.length?null:r.reduce((function(e,t){return Number.parseInt(e,10)+Number.parseInt(t,10)}),0);new Promise((function(r){setTimeout((function(){var n=j.get(P,{params:{flon:e[0].lon,flat:e[0].lat,tlon:e[1].lon,tlat:e[1].lat,locale:"th",mode:t,type:o,key:T}});r(n)}),2e3)})).then((function(r){var a=r.data.features,i=a.length,l=a[i-1].geometry.coordinates.length,s=a[i-1].geometry.coordinates[l-1][0],u=a[i-1].geometry.coordinates[l-1][1];if(2===e.length)a.push({type:"Feature",style:[S("START")],geometry:{type:"Point",coordinates:[a[0].geometry.coordinates[0][0],a[0].geometry.coordinates[0][1]]}}),a.push({type:"Feature",style:[S("END")],geometry:{type:"Point",coordinates:[s,u]}}),n(A(a)),document.getElementById("find-route").innerHTML="ค้นหาเส้นทาง";else{a.push({type:"Feature",style:[S("START")],geometry:{type:"Point",coordinates:[a[0].geometry.coordinates[0][0],a[0].geometry.coordinates[0][1]]}}),a.push({type:"Feature",style:[S("START")],geometry:{type:"Point",coordinates:[s,u]}});for(var c=function(r){var i=s,l=u;new Promise((function(n){setTimeout((function(){var a=j.get(P,{params:{flon:i,flat:l,tlon:e[r].lon,tlat:e[r].lat,locale:"th",mode:t,type:o,key:T}});n(a)}),2e3)})).then((function(t){var o,i=t.data.features[t.data.features.length-1].geometry.coordinates.length,l=t.data.features[t.data.features.length-1].geometry.coordinates[i-1][0],s=t.data.features[t.data.features.length-1].geometry.coordinates[i-1][1];a.push({type:"Feature",style:[S("START")],geometry:{type:"Point",coordinates:[l,s]}}),a.push.apply(a,function(e){if(Array.isArray(e))return x(e)}(o=t.data.features)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(o)||function(e,t){if(e){if("string"==typeof e)return x(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?x(e,t):void 0}}(o)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r+1===e.length&&(n(A(a)),document.getElementById("find-route").innerHTML="ค้นหาเส้นทาง")}))},p=2;p<e.length;p++)c(p)}}))}},onClearSearch:function(e){return{type:"ROUTING_FEATURE_CLEAR",features:e.features}},onChangePointInput:function(e,t){return{type:"ROUTING_CHANGE_POINT_LIST",index:e,value:t}},onClickGuide:function(e){return{type:"ROUTING_CLICK_GUIDE",value:e}},onClickSearchResult:function(e,t,r){return{type:"ROUTING_CLICK_SEARCH_RESULT",i:e,j:t,result:r}},onChangeRouteMode:function(e){return{type:"ROUTING_CHANGE_MODE",value:e}},onChangeRouteType:function(e){return{type:"ROUTING_CHANGE_TYPE",value:e}}},null,{pure:!1})(ne);const ae={RoutingPlugin:o()(oe,{BurgerMenu:{name:"routing",position:9,panel:!1,help:"help",tooltip:"tooltip",text:"Routing",icon:i().createElement(v.Glyphicon,{glyph:"search"}),action:function(){return(0,g.Xg)("routing","enabled",!0)}}}),reducers:{routing:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ROUTING_ADD_POINT":return e.pointList.length>=2&&e.pointList.map((function(e,t){document.getElementById("btn-rm-".concat(t)).style.display=null})),o()({},e,{pointList:e.pointList.concat([{lat:null,lon:null,keyword:"",searchResult:{}}])});case"ROUTING_REMOVE_POINT":return 2===e.pointList.length?e:(e.pointList.splice(t.index,1),e.pointList.length<=2&&e.pointList.map((function(e,t){document.getElementById("btn-rm-".concat(t)).style.display="none"})),o()({},e,{}));case"ROUTING_SWAP_POINT":return o()({},e,{pointList:e.pointList.reverse()});case"ROUTING_CHANGE_POINT_LIST":var r=t.value.trim().split(","),n=r[0],a=r.length>1?r[1]:null;return o()({},e,{pointList:e.pointList.map((function(e,r){return t.index===r?o()({},e,{lat:n,lon:a,keyword:t.value}):e}))});case"ROUTING_DISPLAY_SETTING":return o()({},e,{displaySetting:!e.displaySetting});case"ROUTING_CHANGE_MODE":return o()({},e,{routeMode:t.value});case"ROUTING_CHANGE_TYPE":var i=e.routeType.indexOf(t.value);return-1===i?o()({},e,{routeType:e.routeType.concat(t.value)}):o()({},e,{routeType:0===i?[]:e.routeType.splice(t.value,1)});case"ROUTING_FEATURE_LOADED":return o()({},e,{features:t.features});case"ROUTING_SEARCH_LOADED":return o()({},e,{pointList:e.pointList.map((function(e,r){return t.index===r?o()({},e,{searchResult:t.result}):e}))});case"ROUTING_CLICK_SEARCH_RESULT":return o()({},e,{pointList:e.pointList.map((function(e,r){return t.i===r?o()({},e,{lat:Number(t.result.lat),lon:Number(t.result.lon),keyword:t.result.name,searchResult:[]}):e}))});case"ROUTING_FEATURE_CLEAR":return o()({},e,{features:[],pointList:[{lat:null,lon:null,keyword:"",searchResult:{}},{lat:null,lon:null,keyword:"",searchResult:{}}]});default:return e}}},epics:{routingResultLoadedEpic:function(e,t){var r=t.getState,n=void 0===r?function(){}:r;return e.ofType("ROUTING_FEATURE_LOADED").filter((function(){return(n().controls.routing||{}).enabled||!1})).switchMap((function(e){var t=e.features,r=[];t.forEach((function(e){r=r.concat(e.geometry.coordinates.map((function(e){return{lat:e[1],lon:e[0]}})))}));var n,o=t.map((function(e){return e.properties=G(G({},e.properties),{},{id:w()(),isValidFeature:!0,canEdit:!1}),"LineString"===e.geometry.type&&(e.style=[{color:"#006994",opacity:1,weight:4,editing:{fill:1},highlight:!1,id:w()()}]),e})),a=(0,k.locationBound)(r),i=[{type:"FeatureCollection",newFeature:!0,id:w()(),geometry:null,properties:w()(),features:(n=o,function(e){if(Array.isArray(e))return D(e)}(n)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||function(e,t){if(e){if("string"==typeof e)return D(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?D(e,t):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())}];return M().Observable.from([(0,_.Yf)("clean","","routingResult",[],{}),(0,_.Yf)("drawOrEdit","LineString","routingResult",i,{featureProjection:"EPSG:4326",stopAfterDrawing:!0,editEnabled:!1,selectEnabled:!0,translateEnabled:!1,drawEnabled:!1},{highlight:!1}),(0,L.Px)([a.minLon,a.minLat,a.maxLon,a.maxLat],"EPSG:4326",10,{nearest:!0})])}))},routingClickGuideEpic:function(e,t){var r=t.getState,n=void 0===r?function(){}:r;return e.ofType("ROUTING_CLICK_GUIDE").filter((function(){return(n().controls.routing||{}).enabled||!1})).switchMap((function(e){var t=e.value.geometry.coordinates.map((function(e){return{lat:e[1],lon:e[0]}})),r=(0,k.locationBound)(t);return M().Observable.from([(0,L.Px)([r.minLon,r.minLat,r.maxLon,r.maxLat],"EPSG:4326",16,{nearest:!0})])}))},routingChangePointInputEpic:function(e,t){var r=t.getState,n=void 0===r?function(){}:r;return e.ofType("ROUTING_CHANGE_POINT_LIST").debounceTime(300).filter((function(){return(n().controls.routing||{}).enabled||!1})).switchMap((function(e){var t=e.index,r=e.value,o=n().map.present.center;return M().Observable.from([R(t,r,o)])}))},onSwapRoutingEpic:function(e,t){var r=t.getState,n=void 0===r?function(){}:r;return e.ofType("ROUTING_SWAP_POINT").filter((function(){return(n().controls.routing||{}).enabled||!1})).switchMap((function(e){!function(e){if(null==e)throw new TypeError("Cannot destructure undefined")}(e)}))},clearRoutingResult:function(e,t){var r=t.getState,n=void 0===r?function(){}:r;return e.ofType("ROUTING_FEATURE_CLEAR").filter((function(){return(n().controls.routing||{}).enabled||!1})).switchMap((function(){return M().Observable.from([(0,_.Yf)("clean","","routingResult",[],{})])}))}}}},995157:(e,t,r)=>{e.exports=r.p+"js/plugins/print/assets/img/compass.jpg"},912285:e=>{e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASoAAACpCAMAAACrt4DfAAABSlBMVEX///8QOWE5q0kAMVwALFkANF4AL1sAKFcAKlgAJlYLN2AAI1QAIFMAHFEAIVMAF08AGlAAFU7s7vCosLzKz9bS1ty9w8yNmKj3+PkQO2EPQGEgcV4rlFIyqUM5rEmyucOep7Vre5ESSGIYU2IXT2IgYmAcXmEfbV8hZmAkgVokeVwidV0jjVUhiVcihVk1pkszn04vmFFNYn58iZxbbYZjdIsipTc0T3CVn64ACUql06rb3uMnRmoLLWLu8PI2q+JyvntjuG3I5MtVtGHA3POlzu6JwelstuUfZJAribsXS3SYzp6LyJLR6NPi8OO+38Hc7PdNreEkdaN+vOgxndIdYItCfahUnMsaoduIoqF9kJ0AgrkAoSZ6wYOwybzk9+SEpJ/e6eR6pZS/2ciRvaJTnHZerHEAYldhj4Vdl36fvbEAiz52r40ACFRTb9CqAAAO70lEQVR4nO1caWPbthm2zBskdVJXW5tU0mvrtnSkTkuV7DiHb8eOs7ZZki67srXb//86kABIAKRkHW6tang+JZQMgQ/e43lfgNzaEhAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBBYCcNaxYvgOuP7nss6w2lplqbLIXTNsKWON7zvKa0nKs28mqMBJL3YLt/3tNYOTmDrgOVJlYBsD+r3PbN1QrlW922DNSglD1pBa9TfEkZFMHZbqq2pCm1OqmaW/Op9z2zdEAw0ifM6s1mvVRv3PbF1Q6OnMzzpNujUa/c9q3WEo9N+J1mjighMmRi3bIootdAR0Skb5aCQBClFy9eFNM+G0y4k2kCxffe+J7SucHoWFaS0nihepqDRtimiQKm/xBgvnjx9+uTFnU9tzVCzaCGlj5YwqRdPn728mnz33fFm+21Apz2ptESB13gBberZ86ub5snRaIOTga9RvlfsLKGjGk8a44iqybUKFG1jlZgvJ0zJy/je1haMUciqJsdHIKfk7nqKa4IWVcdYraWGeArjOWTq5fPJzatrAIPdZvZo2hRTpcpSQzSeP4NkQaag/x0dhf2twgZW1g7FlGI5yw3y5Or5y2cvQ6YmEznqBOqblwYbg0RNGb1lM9fL46tv//Tt1dXN5OYIiQ51OUdeYzSCWE6Bgrf0MFfHNzdAnlyfTI7164h7xb+7Sa4FvFJc8wFthUIG5r0ToByfSK+u5aNmRFXv7ma5DqiWqJpvFSn0fDKBBCk55bh5fJKTYLRS2nc2y3VA1UiYKqzUlno2OYmCOXh1fXx8Ai0sJ2+UWhgOKJsKVhrqxXc4jSqvXp3IR8fNnLVRHcEg6U3Jqwbhm+sjtFsIpNzx0SugjO5kimsCx4i3QrWVA4tz3cTZ4RpKq2OptElG5ZZipqZooPH3IfqeV3FrTrU8W34HeTwWZGpys0xrYm1RKVDVzDSZUB4OnVrldfuj0gCiNOrUa1PzZGAj6ifXN5M/rxb51gsOJRNK89QgZcdrF/K6ZuktN9u+arIWik9JPznepD3DcpGSCe4P55eXe6dnb/cPDg72z2f8WUWBmUDSCq1sM3TbRrGotTer+uslhZ9V2XvT7XbfvHmzvX96eXHLH7ajrCkVOhvYOMhEJdGe+eDxm+72273Ht5GEMUIRSZU2ts9J4fz0ImGqUP/h9HwRC3GJ1two4ZSBi8t96GvvzNj7Fu5P1UgXXl9m9+vXgou9w253Z6e73ycyvbB4MyGOcpvWOkhwcboNeep2D/Z+qJCNrMLiSd2Pi6ENax0QNEJ7gkydPYb/6ROmtIVdyFGSfdWFWgdlx/XqQVD33PUueB7vhzwd7qEcVyMyfeE+ZdW3qAO0Gc47rGURMfTahm3qsgohG+oSKqNRrjo114Xl1fBn3Yvd24U8PdqLtUCT3G5xsUBV823mhBrlf2UvgGibeWPgcX81rEuWzJwotQdpiVoO6ydodq1O24dod1pBPaw94bWWrxTsvGlomq5rhmkrwdRMNHRWOZBycRYa1BmlmRyS/RYyqnJdMugbhtVQoqu8ga5KqqoAlkAIt2erzEnuiGT0ww3IjxtSMTKLVt7QQrOTJCWCBIeTZR1ClRR2AKDmR5lO7KqWkbeDJc3u4m3oeJf0peRInu7NO0y50rNk7o7zVDOinuxNm7TFuICjF8W4UmgWfsm2oKlEVKTIvAVK1mZlvwAiIovL1J+NtzDjHbAlXZCIz9J8/A+9T5sffdRkJwtMjwo5Sd+ZFhDDnsnZA7QWVTPr4V+6+QXpYVFK8RHvEoAlNn1PIVGHXO07jPsJoDSH+BzXXj/89NMHD1JUGUxVU48FhJXQXy8xkU3P2yPf7wTY6rTcarD55DBKlmWeO6Nxvtvd7e7xVztxri/elrTH7/7y5eeff/7wYQZVGhOYG3FetOPFblBHa2B0UQOXibiukZsBJQxUUajCawBkw7KLVrFokdP0KtcQowcEzYWYOutu73ZT7ZRx3M6TZ0qq9+/++tXHHz58+dkUqmTm2y1iVElMbzTjNVFMpZ5KTFRXP8eFKtXS/Sj9hc1XZK+g2XdQD7ZcaxXR17nwIdGDLLID0jjsbm93L1PXvfh0QnGaunn/t7//4/d/+M1vv/r4iy+mUVVgxGc5duoCcctGkzgfsPwsd+jrYehSdZiy7FyTOi4o5Rle+1HC0OjIVEbUskmJSiy32gGDi52dbUhV+oPYoTPrt4vL03/+9NMnv4NMzaRKZ28+tpBEvsc9HimXHTcaRrHYbAcVZxguWSW+UaPNLiEqOG3mmqul7mBItXTDX+3MpIeex87udkjVY/4DJ047nKtfPN57+6i78+jrr//4ya1UGR47qk341+NLFdKomV5R05TEysngIhDq1XJ3PkR3UaAuEVWNzRPM3R86DG0q5GqP87J2NBQAQCqixW5Ajs4OQjUf2iFkag6qZO72CS05LUnSpPugzZWLqmQFU9aAzE3nsj/qdVtJEg6wVdot8o95fhbisruNAVUV09z8JgJ48PCzLy73zvZRBb2zQ74+haoHD16PKOPm+wnEqam8kzTuDalT71cq4VPPfa8y5cEvojWAyn+CKM9zWQGNnlwlksp2ttpojVJSYgr243uHZO2EdGwfHuyHgFQ8gpdChBTtbrPIourhw9fVYY8++M/92pCofzOJvTVKKEgqTPpy9NizbpilLI8k7mPwtSGmvMBd5qnCixWGStyiteZsZh/ubPPYRfzsQqQ+m07Vhw+ffQ/Tbr1AJeJU65MEdTosOdOluNRM+WQZkw0A/wnKf3zAa9gsHRW0MMCC/66aHI2zcZamaj5wVP3rx3AyDqDzsJJSdyTXMZ1nY3pVB4wiV1CRYKelChJkbvzqYDpiuYOfrI4yFf7MmFev7yzJFaEKcvXvH9+jsVo2c9cpy64ZaaOC/A4yyuTYsLhoh90bSPx9oHAPFO4ysjVATntjo0ItJUyVNm/JHAnQZaiCXEFd9Z9378lIwxz7jHf6DBaplGz2k6FfMnQ57MxA8G0UtidIgh2f5+AySZm3jaw8PmaBIx1aKxyrFjiye7ndTQXtmdiN4v/XZ3vMPlelxN6jlZpBA+e6dO+r4VTqAUKr3SualCJn3aOFP9FTI6Cxi9xlLMwNzGANt9+QLsHJNE37DJyHnao56NpBOfJR1r5y28wxyBDBZFPQvq3qqnaSwUz6y6QsSnfPUAzj5WQVl7EkE5PsLLWCvlvz0f/k1GCzcXF5RpRTmPyI/UDsYIKgjDh4e3p5nrmvPFSYR+JDx0k3uPDU5mmoerGCYOpPD2cNI/UHSANI7HmmsYaVAY71jhUvpCRrGuZtgSIwwcV5eG5j/+DwMGIJBaS3Z6d7l5ChWUKtX+KzWIZRkU7FXBuvcU+fUZojMOXmqhbjaPgHFUyGiS/4mflDXe101/i/SKx/M89DNGM/3VDKSCvYJObbPCV3xewf4qAO0voaxTBWwZclwhQORlU7Nc2IqtWOd5WJLgTare0c185YrIy+DTaJ/Fwyhugzpi/Yl6eYQQMZLBN1qqQDLRGHJ5FKASHiqUqrUZV0027jvOxT8Tz+/XSFRnxkvkKeKDB2HOyV6TCIW2t56pJLGpNAxqtGIpXShlVqcySRwLWiVblUCppZTdYLlElJTVIqW+liAT9zYswl+MiiW/S3h+jmpHRMQBzS1hbvNYFYmBGrJnY6xlxljLcQkqJ3VuurotLvOIHfxHmwmOFkOM7M9ZRkT+J8JwLWQXZqGfBuZdxX3XKacYEVbzNgoZ7kX1werkxVOQmB5rQMUQFs+TaoYkfIMmlcvM2j98oj0nVje+LI1DLSQo99pGnYTgqseGOrgW0o4XOLUDV3G3QKaglX+SxnHgamxhAlGVWiEM2M7+M4w7dlMlCx4/DL2A9u6pkpD8YaHBcoTrtAPV4WmzcuquhVJMXDyod0kq2tnOazgXTotlTuLXG5vN+I6ciwHHw7t8s9Z0RMFQA2SpINmdSfkGjfCI8AKGYSPCU15trB/k9nZu2uqKJcMKfYffITw0pLtzSOp5wUBkvcecrMcTj2kQdvqyBbMrjUK0H4xgTakjJTpWUShKrtAnUEANjUNkUz6ejx1+7g6FeT8i8gF/2gXm/5dl7nSxj4Y4VWOCmc47IeAaghFon5jw0lvTu+VYU+nZgEv+2L/C8jUuFdPSXw6TevAIPuC+JNUla89uYvtG5BbcDEIkUKOyQpmuDv5/H7YFDgznwEAAd1cvIotFibOc5edlsa3VDIFXgvRlIvvQ6kBZVT6MnpEjMNkGFUi9Skt6Gq8n6WBS2H7cOJVi4ddUOgoiaZVBhRJUtpeTVnWHa8FrDZV9BJ6WMXaD8mnWGafPkJoXLhkuy8W0z0w9H4bh4GbpszGpRonYx4UtEipXveEZBJmMQlsKQBsL438nlDl9jblQrp94hG+j3jTHfV4qcE8x5PKHY1rpvcukuqtryenQ5N8ZQUmdplR+HIyNZNkVKWki5vaeqg0avVMqLdKLzbjM2VOm/5QM/xZSupqbguM67e7uwRc1rPMROy7FG7T009avROOco/Dh1O6SXm709bAKAXg6zNpii75jOcm2msKLppK17qOzjfWNyf4+r7Dp/Gr45SPRbJbPIvH0TNuClH26O9PrqYbDQzuYKiyMsuOcO4ktm+SSqwMEtXqllH5lD6lXhKcK4Bd3mk3jMMEk0UGF4srZNeXkinque97AGgqSsDNvn7qfNl0J3bU2vp0LQz9wtID0Qy1fqUvU9UIoJU3U/2NObdiZ8PbqdpF4vFgtRr9TOfh4TT0YPKtGrKV5TUC+bqpeTttHABjELPm3GIMgxupSyDG2uaLENRPP0oMXI0fqlCjJZrrq+Iij7r2e8RyNClw3rPti3LsosGXABn9skBGNxSByAw3HrfnblBHBR1reBnfKU6kGGEBeov++oQbzCrPPAHU2q/RrlcnutAblkrKcs+KDeuuVOeDC7X282i2ftlHwgezlzX6h283vH/5elLAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBgZ8V/wNOiYX3iwP1YwAAAABJRU5ErkJggg=="}}]);