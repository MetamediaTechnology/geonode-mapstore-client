(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[7332,54224],{393546:(t,e,n)=>{"use strict";n.d(e,{jF:()=>Wt,Fc:()=>Mt,EC:()=>Nt,C2:()=>Dt,Cw:()=>zt,rm:()=>Zt});var r=n(414293),o=n.n(r),i=n(92742),l=n.n(i),a=n(747037),s=n.n(a),u=n(701469),c=n.n(u),f=n(984596),g=n.n(f),y=n(91175),d=n.n(y),h=n(610928),p=n.n(h),w=n(313311),v=n.n(w),m=n(513218),A=n.n(m),x=n(421915),O=n(443143),P=n(986267),k=n(433506),C=n(281763),S=n.n(C),b=n(831219),F=n(162875),T=n(315565),G=n(898185),M=n(438097),_=n.n(M),E=k.Z.markers.extra,Y=E.icons[0],j=E.icons[1],B=E.size[1],q=k.Z.getGlyphs("fontawesome"),U=function(t,e){var n=t.highlight,r=t.rotation,o=void 0===r?0:r;return n?[new b.default({image:new F.default({anchor:[.5,e],rotation:o,anchorXUnits:"fraction",anchorYUnits:"pixels",src:_(),scale:.5})})]:[]},I=function(t,e){var n,r,o=null==q?void 0:q[null==t||null===(n=t.style)||void 0===n?void 0:n.iconGlyph],i="FontAwesome",l=2;return null!=t&&null!==(r=t.style)&&void 0!==r&&r.iconText&&(o=t.style.iconText,i="sans-serif",l=1.6),new T.default({rotation:e,text:o,font:"14px ".concat(i),offsetY:-B*l/3,fill:new G.default({color:"#FFFFFF"})})};const L={extra:{getIcon:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=o()(t.style&&t.style.rotation)?0:t.style.rotation;return[new b.default({image:new F.default({rotation:e,anchor:[12,12],anchorXUnits:"pixels",anchorYUnits:"pixels",src:j})}),new b.default({image:new F.default({rotation:e,src:Y,anchor:[E.size[0]/2,E.size[1]],anchorXUnits:"pixels",anchorYUnits:"pixels",size:E.size,offset:[E.colors.indexOf(t.style.iconColor||"blue")*E.size[0],E.shapes.indexOf(t.style.iconShape||"circle")*E.size[1]]}),text:I(t,e)})].concat(U(t.style,2*(B+15)))}},standard:{getIcon:function(t){var e=t.style,n=t.iconAnchor,r=o()(e&&e.rotation)?0:e.rotation,i=e.iconAnchor||n,l=[new b.default({image:new F.default({anchor:i||[.5,1],anchorXUnits:e.anchorXUnits||(i||0===i?"pixels":"fraction"),anchorYUnits:e.anchorYUnits||(i||0===i?"pixels":"fraction"),size:c()(e.size)?e.size:S()(e.size)?[e.size,e.size]:void 0,rotation:r,anchorOrigin:e.anchorOrigin||"top-left",src:e.iconUrl||e.symbolUrlCustomized||e.symbolUrl})})];e.shadowUrl&&(l=[new b.default({image:new F.default({anchor:[12,41],anchorXUnits:"pixels",anchorYUnits:"pixels",src:e.shadowUrl})}),l[0]]);var a=c()(e.size)?e.size[1]:S()(e.size)?e.size:0;return a=a>32?a+.75*a:B+10,l.concat(U(e,a))}},html:{getIcon:function(){return null}}};var z=n(166287),D=n(409371),N=n(120767),Z=n(752043),W=n(944538),Q=n(882702),R=n(375875),V=n.n(R),X=n(903918),H=n.n(X),J=n(51205),K=n.n(J),$=n(727418),tt=n.n($),et=n(761868);function nt(t){return function(t){if(Array.isArray(t))return rt(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return rt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?rt(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ot(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function it(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ot(Object(n),!0).forEach((function(e){lt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ot(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function lt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var at=[0,153,255,1],st=new D.default({radius:5,fill:null,stroke:new N.default({color:"red",width:1})}),ut=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.radius,n=void 0===e?5:e,r=t.fillColor,o=void 0===r?"green":r,i=t.applyToPolygon,l=void 0!==i&&i;return new b.default({image:new D.default({radius:n,fill:new G.default({color:o})}),geometry:function(t){var e=t.getGeometry(),n=e.getType();if(!l&&"Polygon"===n)return null;var r="Polygon"===n?e.getCoordinates()[0]:e.getCoordinates();return r.length>1?new Z.Z(d()(r)):null}})},ct=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.radius,n=void 0===e?5:e,r=t.fillColor,o=void 0===r?"red":r,i=t.applyToPolygon,l=void 0!==i&&i;return new b.default({image:new D.default({radius:n,fill:new G.default({color:o})}),geometry:function(t){var e=t.getGeometry(),n=e.getType();if(!l&&"Polygon"===n)return null;var r="Polygon"===n?e.getCoordinates()[0]:e.getCoordinates();return new Z.Z(r.length>3?r[r.length-("Polygon"===n?2:1)]:p()(r))}})},ft=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return[ut(t),ct(e)]},gt=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new b.default({text:new T.default({offsetY:void 0!==t.offsetY?t.offsetY:-4*Math.sqrt(t.fontSize),textAlign:t.textAlign||"center",textBaseline:t.verticalAlign||"middle",text:e||"",font:t.font,fill:new G.default({color:(0,O.qq)(t.stroke||t.color||"#000000",t.opacity||1)}),stroke:t.labelOutlineColor?new N.default({color:(0,O.qq)(t.labelOutlineColor,t.labelOutlineOpacity||1),width:t.labelOutlineWidth||1}):n?new N.default({color:[255,255,255,1],width:2}):null,rotation:t.rotation?t.rotation*Math.PI/180:0}),image:n?new D.default({radius:5,fill:null,stroke:new N.default({color:(0,O.qq)(t.color||"#0000FF",t.opacity||1),width:t.weight||1})}):null})},yt={color:"#ffcc33",opacity:1,weight:3,fillColor:"#ffffff",fillOpacity:.2,radius:10},dt={color:"#ffcc33",opacity:1,weight:3,fillColor:"#ffffff",fillOpacity:.2,editing:{fill:1}},ht={color:"#ffcc33",opacity:1,weight:3,fillColor:"#ffffff",fillOpacity:.2,editing:{fill:1}},pt={Marker:{iconColor:"orange",iconShape:"circle",iconGlyph:"comment"},Text:{fontStyle:"normal",fontSize:"14",fontSizeUom:"px",fontFamily:"Arial",fontWeight:"normal",font:"14px Arial",textAlign:"center",color:"#000000",opacity:1},Circle:{color:"#ffcc33",opacity:1,weight:3,fillColor:"#ffffff",fillOpacity:.2},Point:yt,MultiPoint:yt,LineString:dt,MultiLineString:dt,Polygon:ht,MultiPolygon:ht},wt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{color:"blue",width:3,lineDash:[6]};return{stroke:new N.default(t.style?t.style.stroke||{color:t.style.color||e.color,lineDash:s()(t.style.dashArray)&&l()(t.style.dashArray).split(" ")||e.lineDash,width:t.style.weight||e.width,lineCap:t.style.lineCap||"round",lineJoin:t.style.lineJoin||"round",lineDashOffset:t.style.dashOffset||0}:it({},e))}},vt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{color:"rgba(0, 0, 255, 0.1)"};return{fill:new G.default(t.style?t.style.fill||{color:(0,O.qq)(t.style.fillColor,t.style.fillOpacity)||e.color}:it({},e))}},mt={Point:function(){return[new b.default({image:st})]},LineString:function(t){return[new b.default(tt()({},wt(t,{color:"blue",width:3})))]},MultiLineString:function(t){return[new b.default(tt()({},wt(t,{color:"blue",width:3})))]},MultiPoint:function(){return[new b.default({image:st})]},MultiPolygon:function(t){return[new b.default(tt()({},wt(t),vt(t)))]},Polygon:function(t){return[new b.default(tt()({},wt(t),vt(t)))]},GeometryCollection:function(t){return[new b.default(tt()({},wt(t),vt(t),{image:new D.default({radius:10,fill:null,stroke:new N.default({color:"magenta"})})}))]},Circle:function(){return[new b.default({stroke:new N.default({color:"red",width:2}),fill:new G.default({color:"rgba(255,0,0,0.2)"})})]},marker:function(t){return[new b.default({image:new F.default({anchor:[14,41],anchorXUnits:"pixels",anchorYUnits:"pixels",src:K()})}),new b.default({image:new F.default({anchor:[.5,1],anchorXUnits:"fraction",anchorYUnits:"fraction",src:H()}),text:new T.default({text:t.label,scale:1.25,offsetY:8,fill:new G.default({color:"#000000"}),stroke:new N.default({color:"#FFFFFF",width:2})})})]}},At=function(t,e){var n=t.getGeometry().getType();return mt[n](e&&e.style&&e.style[n]&&{style:it({},e.style[n])}||e||{})};function xt(t){if(t.style.iconUrl)return L.standard.getIcon(t);var e=t.style.iconLibrary||"extra";return L[e]?L[e].getIcon(t):null}var Ot=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{style:pt},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=e.style[t]||e.style;if("MultiLineString"===t||"LineString"===t){var s=[new b.default({stroke:e.style.useSelectedStyle?new N.default({color:[255,255,255,1],width:a.weight+2}):null}),new b.default(a?{stroke:new N.default(a&&a.stroke?a.stroke:{color:(0,O.qq)(e.style&&a.color||"#0000FF",a.opacity||1),lineDash:e.style.highlight?[10]:[0],width:a.weight||1}),image:n?st:null}:{stroke:new N.default(pt[t]&&pt[t].stroke?pt[t].stroke:{color:(0,O.qq)(e.style&&pt[t].color||"#0000FF",pt[t].opacity||1),lineDash:e.style.highlight?[10]:[0],width:pt[t].weight||1})})],u=e.style.useSelectedStyle?ft({radius:a.weight,applyToPolygon:!0},{radius:a.weight,applyToPolygon:!0}):[];return[].concat(nt(u),s)}if(("MultiPoint"===t||"Point"===t)&&(a.iconUrl||a.iconGlyph))return n?new b.default({image:st}):xt({style:it(it({},a),{},{highlight:e.style.highlight||e.style.useSelectedStyle})});if("Circle"===t&&l){var c=[new b.default({stroke:e.style.useSelectedStyle?new N.default({color:[255,255,255,1],width:a.weight+4}):null}),new b.default({stroke:new N.default(a&&a.stroke?a.stroke:{color:e.style.useSelectedStyle?at:(0,O.qq)(e.style&&a.color||"#0000FF",a.opacity||1),lineDash:e.style.highlight?[10]:[0],width:a.weight||1}),fill:new G.default(a.fill?a.fill:{color:(0,O.qq)(e.style&&a.fillColor||"#0000FF",a.fillOpacity||.2)})}),new b.default({image:e.style.useSelectedStyle?new D.default({radius:3,fill:new G.default(a.fill?a.fill:{color:at})}):null,geometry:function(t){var e=t.getGeometry();if("Circle"===e.getType()){var n=e.getCenter();return new Z.Z(n)}return null}})];return c}if("Text"===t&&a.font)return[gt(a,r[0],e.style.useSelectedStyle||e.style.highlight)];if("MultiPolygon"===t||"Polygon"===t){var f=[new b.default({stroke:e.style.useSelectedStyle?new N.default({color:[255,255,255,1],width:a.weight+2}):null}),new b.default({stroke:new N.default(a.stroke?a.stroke:{color:e.style.useSelectedStyle?at:(0,O.qq)(e.style&&a.color||"#0000FF",o()(a.opacity)?1:a.opacity),lineDash:e.style.highlight?[10]:[0],width:a.weight||1}),image:n?st:null,fill:new G.default(a.fill?a.fill:{color:(0,O.qq)(e.style&&a.fillColor||"#0000FF",o()(a.fillOpacity)?1:a.fillOpacity)})})],g=e.style.useSelectedStyle?ft({radius:a.weight,applyToPolygon:!0},{radius:a.weight,applyToPolygon:!0}):[];return[].concat(f,nt(g))}return i};function Pt(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(t.styleName&&!t.overrideOLStyle)return function(e){if("marker"===t.styleName)switch(e.getGeometry().getType()){case"Point":case"MultiPoint":return mt.marker(t)}return mt[t.styleName](t)};var r,i=t.nativeStyle,l=n,a=0,s=t.style&&t.style.type||(t.features&&t.features[0]&&t.features[0].geometry?t.features[0].geometry.type:void 0);if("FeatureCollection"===s||t.features&&t.features[0]&&"FeatureCollection"===t.features[0].type)return function(n){var o=this||n;r=o.getGeometry()&&o.getGeometry().getType();var i=o&&o.getProperties();i&&i.isCircle&&(r="Circle",a=i.radius),i&&i.isText&&(r="Text",l=[i.valueText]);var s=(0,et.t8)("style.useSelectedStyle",i.canEdit,t);return Ot(r,s,e,l,null,a)};if(t&&t.properties&&t.properties.isText)return r="Text",l=[t.properties.valueText],Ot(r,t,e,l,null,a);if(t&&t.properties&&t.properties.isCircle)return r="Circle",a=t.properties.radius,Ot(r,t,e,l,null,a);if(!i&&t.style){if(i={stroke:new N.default(t.style.stroke?t.style.stroke:{color:(0,O.qq)(t.style&&t.style.color||"#0000FF",o()(t.style.opacity)?1:t.style.opacity),lineDash:t.style.lineDash||(t.style.highlight?[10]:[0]),width:t.style.weight||1}),fill:new G.default(t.style.fill?t.style.fill:{color:(0,O.qq)(t.style&&t.style.fillColor||"#0000FF",o()(t.style.fillOpacity)?1:t.style.fillOpacity)})},"Point"!==s&&"MultiPoint"!==s||(i={image:new D.default(tt()({},i,{radius:t.style.radius||5}))}),t.style.iconUrl||t.style.iconGlyph){var u=xt(t);return function(e){var n=this||e;switch(r=n.getGeometry().getType()){case"Point":case"MultiPoint":return u;default:return At(n,t)}}}return i=new b.default(i),"GeometryCollection"===s?i=function(o){var i,l=this||o;r=l.getGeometry().getType();var a=l.get("textGeometriesIndexes")||[],s=l.get("circles")||[],u=l.get("textValues");return"GeometryCollection"===l.getGeometry().getType()?l.getGeometry().getGeometries().reduce((function(o,l,f){if(("Point"===(r=l.getType())||"MultiPoint"===r)&&a.length&&-1!==a.indexOf(f)){var g=Ot("Text",t,e,[u[a.indexOf(f)]]);return g.setGeometry(l),o.concat([g])}if("Polygon"===r&&s.length&&-1!==s.indexOf(f)){var y=Ot("Circle",t,e,[]);return y.setGeometry(l),o.concat([y])}if("Point"===r||"MultiPoint"===r)return i=xt({style:it(it({},t.style[r]),{},{highlight:t.style.highlight})}),o.concat(i.map((function(t){return t.setGeometry(l),t})));var d=Ot(r,t,e,n);return c()(d)?d.forEach((function(t){return t.setGeometry(l)})):d.setGeometry(l),o.concat([d])}),[]):"Point"===r||"MultiPoint"===r?(i=xt({style:it(it({},t.style[r]),{},{highlight:t.style.highlight})}),e?new b.default({image:st,geometry:l.getGeometry()}):i.map((function(t){return t.setGeometry(l.getGeometry()),t}))):Ot(r,t,e,n)}:("Circle"===s&&(a=t.features&&t.features.length&&t.features[0].properties&&t.features[0].properties.radius||10),Ot(s,t,e,n,i,a))}return i||At}function kt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],l=!0,a=!1;try{for(n=n.call(t);!(l=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);l=!0);}catch(t){a=!0,o=t}finally{try{l||null==n.return||n.return()}finally{if(a)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Ct(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ct(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ct(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function St(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function bt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?St(Object(n),!0).forEach((function(e){Ft(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):St(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Ft(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Tt={white:[255,255,255,1],blue:[0,153,255,1],width:3},Gt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return(0,z.isCircleStyle)(t)?new D.default({stroke:e,fill:n,radius:t.radius||5}):null},Mt=function(t){if((0,z.isMarkerStyle)(t)){if(t.iconUrl)return L.standard.getIcon({style:t});var e=t.iconLibrary||"extra";if(L[e])return L[e].getIcon({style:t})}return null},_t=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,z.isStrokeStyle)(t)?new N.default(t.stroke&&A()(t.stroke)?t.stroke:{color:t.highlight?Tt.blue:(0,O.qq)(t.color||t.stroke||"#0000FF",o()(t.opacity)?1:t.opacity),width:o()(t.weight)?1:t.weight,lineDash:s()(t.dashArray)&&l()(t.dashArray).split(" ")||c()(t.dashArray)&&t.dashArray||[0],lineCap:t.lineCap||"round",lineJoin:t.lineJoin||"round",lineDashOffset:t.dashOffset||0}):null},Et=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,z.isFillStyle)(t)?new G.default(t.fill&&A()(t.fill)?t.fill:{color:(0,O.qq)(t.fillColor||"#0000FF",o()(t.fillOpacity)?1:t.fillOpacity)}):null},Yt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return(0,z.isTextStyle)(t)?new T.default({fill:n,offsetY:t.offsetY||-4*Math.sqrt(t.fontSize),rotation:t.textRotationDeg?t.textRotationDeg/180*Math.PI:0,textAlign:t.textAlign||"center",text:t.label||r&&r.properties&&r.properties.valueText||"New",font:t.font||"Arial",stroke:t.highlight?new N.default({color:[255,255,255,1],width:2}):e,image:t.highlight?new D.default({radius:5,fill:null,stroke:new N.default({color:(0,O.qq)(t.color||"#0000FF",t.opacity||1),width:t.weight||1})}):null}):null},jt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.radius,n=void 0===e?5:e,r=t.fillColor,o=void 0===r?"green":r,i=t.applyToPolygon,l=void 0!==i&&i;return new b.default({image:new D.default({radius:n,fill:new G.default({color:o})}),geometry:function(t){var e=t.getGeometry(),n=e.getType();if(!l&&"Polygon"===n)return null;var r="Polygon"===n?e.getCoordinates()[0]:e.getCoordinates();return r.length>1?new Z.Z(d()(r)):null}})},Bt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.radius,n=void 0===e?5:e,r=t.fillColor,o=void 0===r?"red":r,i=t.applyToPolygon,l=void 0!==i&&i;return new b.default({image:new D.default({radius:n,fill:new G.default({color:o})}),geometry:function(t){var e=t.getGeometry(),n=e.getType();if(!l&&"Polygon"===n)return null;var r="Polygon"===n?e.getCoordinates()[0]:e.getCoordinates();return new Z.Z(r.length>3?r[r.length-("Polygon"===n?2:1)]:p()(r))}})},qt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{radius:3,fillColor:"green",applyToPolygon:!0},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{radius:3,fillColor:"red",applyToPolygon:!0},r=[];return v()(t,(function(t){return"startPoint"===t.geometry&&t.filtering}))||r.push(jt(bt({},e))),v()(t,(function(t){return"endPoint"===t.geometry&&t.filtering}))||r.push(Bt(bt({},n))),r};(0,z.registerGeometryFunctions)("centerPoint",(function(t){var e=t.getGeometry(),n=t.getProperties().isGeodesic,r=void 0!==n&&n,o=e.getExtent(),i=r?(0,x.qg)(o):e.getCenter&&e.getCenter()||[o[2]-o[0],o[3]-o[1]];return new Z.Z(i)}),"Point"),(0,z.registerGeometryFunctions)("lineToArc",(function(t){var e=t.getGeometry().getType();if("LineString"===e||"MultiPoint"===e){var n=t.getGeometry().getCoordinates();return n=(0,P.transformLineToArcs)(n.map((function(t){var e=(0,P.reproject)(t,"EPSG:3857","EPSG:4326");return[e.x,e.y]}))),new W.Z(n.map((function(t){var e=(0,P.reproject)(t,"EPSG:4326","EPSG:3857");return[e.x,e.y]})))}return t.getGeometry()}),"LineString"),(0,z.registerGeometryFunctions)("startPoint",(function(t){var e=t.getGeometry(),n="Polygon"===e.getType()?e.getCoordinates()[0]:e.getCoordinates();return n.length>1?new Z.Z(d()(n)):null}),"Point"),(0,z.registerGeometryFunctions)("endPoint",(function(t){var e=t.getGeometry(),n=e.getType(),r="Polygon"===n?e.getCoordinates()[0]:e.getCoordinates();return new Z.Z(r.length>3?r[r.length-("Polygon"===n?2:1)]:p()(r))}),"Point");var Ut=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.geometry?function(e){var n=t.geometry||"centerPoint";return z.geometryFunctions[n].func(e)}:function(t){return t.getGeometry()}},It=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return!!o()(t.filtering)||t.filtering},Lt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{properties:{}},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=It(e,t);if(r){var o=_t(e),i=Et(e),l=Gt(e,o,i);if((0,z.isMarkerStyle)(e))return Mt(e).map((function(t){return t.setGeometry(Ut(e)),t}));if((0,z.isSymbolStyle)(e))return L.standard.getIcon({style:e}).map((function(t){return t.setGeometry(Ut(e)),t}));var a=Yt(e,o,i,t),s=e.zIndex,u=new b.default({geometry:Ut(e),image:l,text:a,stroke:!a&&!l&&o||null,fill:!a&&!l&&i||null,zIndex:s});return[u].concat(t&&t.properties&&t.properties.canEdit&&!t.properties.isCircle?qt(n):[])}return new b.default({})},zt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{properties:{}},e=t.style;if(e){var n=c()(e)?e:g()(e);return n.reduce((function(e,r){return e.concat(Lt(t,r,n))}),[])}return[]},Dt=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(t.style&&t.style.url)return V().get(t.style.url).then((function(e){return Q.Promise.all([(0,z.getStyleParser)(t.style.format),(0,z.getStyleParser)("openlayers")]).then((function(t){var n=kt(t,2),r=n[0],o=n[1];return r.readStyle(e.data).then((function(t){return o.writeStyle(t)}))}))}));if(t.style&&"geostyler"===t.style.format)return(0,z.getStyleParser)("openlayers").then((function(e){return e.writeStyle(t.style.styleObj)}));var r=Pt(t,e,n);return t.asPromise?new Q.Promise((function(t){t(r)})):r},Nt=xt,Zt=ft,Wt=pt},223502:(t,e,n)=>{"use strict";n.d(e,{$:()=>s,b:()=>u});var r=n(737275),o=n(701469),i=n.n(o),l=n(513218),a=n.n(l),s=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(i()(e))return e.reduce((function(e,n){return t(n)&&e}),!0);var o=!1,l=!(0===e.indexOf("http")),s=!l&&e.match(/([^:]*:)\/\/([^:]*:?[^@]*@)?([^:\/\?]*):?([^\/\?]*)/);if(s){var u=window.location;l=s[1]===u.protocol&&s[3]===u.hostname;var c=s[4],f=u.port;(80!==c&&""!==c||"80"!==f&&""!==f)&&(l=l&&c===f)}if(!l){var g=r.ZP.getProxyUrl(n);if(g){var y=[];a()(g)&&(y=g.useCORS||[],g=g.url);var d=y.reduce((function(t,n){return t||0===e.indexOf(n)}),!1);d||(o=!0)}}return o},u=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=r.ZP.getProxyUrl(t);return e&&a()(e)&&(e=e.url),e}},333358:(t,e,n)=>{"use strict";n.d(e,{z:()=>o});var r=["application/vnd.mapbox-vector-tile","application/json;type=geojson","application/json;type=topojson"],o=function(t){return-1!==r.indexOf(t)}},29217:(t,e,n)=>{"use strict";n.d(e,{Z:()=>l});var r=n(949179),o=n(66575),i=n(173381);const l=function(t){function e(e,n,r,o){t.call(this),this.extent=e,this.pixelRatio_=r,this.resolution=n,this.state=o}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.changed=function(){this.dispatchEvent(i.Z.CHANGE)},e.prototype.getExtent=function(){return this.extent},e.prototype.getImage=function(){return(0,r.O3)()},e.prototype.getPixelRatio=function(){return this.pixelRatio_},e.prototype.getResolution=function(){return this.resolution},e.prototype.getState=function(){return this.state},e.prototype.load=function(){(0,r.O3)()},e}(o.Z)},540188:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});const r={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend"}},286320:(t,e,n)=>{"use strict";function r(t){return Math.pow(t,3)}function o(t){return 1-r(1-t)}function i(t){return 3*t*t-2*t*t*t}function l(t){return t}n.d(e,{YQ:()=>r,Vv:()=>o,rd:()=>i,GE:()=>l})},878181:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});const r={IMAGE:"image",HYBRID:"hybrid",VECTOR:"vector"}},315565:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>l});var r=n(898185),o=n(378288),i=function(t){var e=t||{};this.font_=e.font,this.rotation_=e.rotation,this.rotateWithView_=e.rotateWithView,this.scale_=e.scale,this.text_=e.text,this.textAlign_=e.textAlign,this.textBaseline_=e.textBaseline,this.fill_=void 0!==e.fill?e.fill:new r.default({color:"#333"}),this.maxAngle_=void 0!==e.maxAngle?e.maxAngle:Math.PI/4,this.placement_=void 0!==e.placement?e.placement:o.Z.POINT,this.overflow_=!!e.overflow,this.stroke_=void 0!==e.stroke?e.stroke:null,this.offsetX_=void 0!==e.offsetX?e.offsetX:0,this.offsetY_=void 0!==e.offsetY?e.offsetY:0,this.backgroundFill_=e.backgroundFill?e.backgroundFill:null,this.backgroundStroke_=e.backgroundStroke?e.backgroundStroke:null,this.padding_=void 0===e.padding?null:e.padding};i.prototype.clone=function(){return new i({font:this.getFont(),placement:this.getPlacement(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:this.getScale(),text:this.getText(),textAlign:this.getTextAlign(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0})},i.prototype.getOverflow=function(){return this.overflow_},i.prototype.getFont=function(){return this.font_},i.prototype.getMaxAngle=function(){return this.maxAngle_},i.prototype.getPlacement=function(){return this.placement_},i.prototype.getOffsetX=function(){return this.offsetX_},i.prototype.getOffsetY=function(){return this.offsetY_},i.prototype.getFill=function(){return this.fill_},i.prototype.getRotateWithView=function(){return this.rotateWithView_},i.prototype.getRotation=function(){return this.rotation_},i.prototype.getScale=function(){return this.scale_},i.prototype.getStroke=function(){return this.stroke_},i.prototype.getText=function(){return this.text_},i.prototype.getTextAlign=function(){return this.textAlign_},i.prototype.getTextBaseline=function(){return this.textBaseline_},i.prototype.getBackgroundFill=function(){return this.backgroundFill_},i.prototype.getBackgroundStroke=function(){return this.backgroundStroke_},i.prototype.getPadding=function(){return this.padding_},i.prototype.setOverflow=function(t){this.overflow_=t},i.prototype.setFont=function(t){this.font_=t},i.prototype.setMaxAngle=function(t){this.maxAngle_=t},i.prototype.setOffsetX=function(t){this.offsetX_=t},i.prototype.setOffsetY=function(t){this.offsetY_=t},i.prototype.setPlacement=function(t){this.placement_=t},i.prototype.setFill=function(t){this.fill_=t},i.prototype.setRotation=function(t){this.rotation_=t},i.prototype.setScale=function(t){this.scale_=t},i.prototype.setStroke=function(t){this.stroke_=t},i.prototype.setText=function(t){this.text_=t},i.prototype.setTextAlign=function(t){this.textAlign_=t},i.prototype.setTextBaseline=function(t){this.textBaseline_=t},i.prototype.setBackgroundFill=function(t){this.backgroundFill_=t},i.prototype.setBackgroundStroke=function(t){this.backgroundStroke_=t},i.prototype.setPadding=function(t){this.padding_=t};const l=i},378288:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});const r={POINT:"point",LINE:"line"}},51205:t=>{t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAYAAACoYAD2AAAC5ElEQVRYw+2YW4/TMBCF45S0S1luXZCABy5CgLQgwf//S4BYBLTdJLax0fFqmB07nnQfEGqkIydpVH85M+NLjPe++dcPc4Q8Qh4hj5D/AaQJx6H/4TMwB0PeBNwU7EGQAmAtsNfAzoZkgIa0ZgLMa4Aj6CxIAsjhjOCoL5z7Glg1JAOkaicgvQBXuncwJAWjksLtBTWZe04CnYRktUGdilALppZBOgHGZcBzL6OClABvMSVIzyBjazOgrvACf1ydC5mguqAVg6RhdkSWQFj2uxfaq/BrIZOLEWgZdALIDvcMcZLD8ZbLC9de4yR1sYMi4G20S4Q/PWeJYxTOZn5zJXANZHIxAd4JWhPIloTJZhzMQduM89WQ3MUVAE/RnhAXpTycqys3NZALOBbB7kFrgLesQl2h45Fcj8L1tTSohUwuxhy8H/Qg6K7gIs+3kkaigQCOcyEXCHN07wyQazhrmIulvKMQAwMcmLNqyCVyMAI+BuxSMeTk3OPikLY2J1uE+VHQk6ANrhds+tNARqBeaGc72cK550FP4WhXmFmcMGhTwAR1ifOe3EvPqIegFmF+C8gVy0OfAaWQPMR7gF1OQKqGoBjq90HPMP01BUjPOqGFksC4emE48tWQAH0YmvOgF3DST6xieJgHAWxPAHMuNhrImIdvoNOKNWIOcE+UXE0pYAnkX6uhWsgVXDxHdTfCmrEEmMB2zMFimLVOtiiajxiGWrbU52EeCdyOwPEQD8LqyPH9Ti2kgYMf4OhSKB7qYILbBv3CuVTJ11Y80oaseiMWOONc/Y7kJYe0xL2f0BaiFTxknHO5HaMGMublKwxFGzYdWsBF174H/QDknhTHmHHN39iWFnkZx8lPyM8WHfYELmlLKtgWNmFNzQcC1b47gJ4hL19i7o65dhH0Negbca8vONZoP7doIeOC9zXm8RjuL0Gf4d4OYaU5ljo3GYiqzrWQHfJxA6ALhDpVKv9qYeZA8eM3EhfPSCmpuD0AAAAASUVORK5CYII="},438097:t=>{t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAXCAYAAABqBU3hAAABIUlEQVRIS+3UsYoCMRDG8f8q+EBid5WNnc019la2Vr6Ala1g4SvY+RTXiVdcJQgHV9jJIdhKZCNx2GwyibCNW4bd+X47k6Sg4adoOJ83wNcBsz4CvoGfF4zpEzgCO1mrCmDWpsAC+Af6wD4DMQGWwBUYAF9uLQlww1vli+cMhA1vl7UuEuECqsItNgUhw22tJ4QLGANrwP657LoG4Qt3EV3g4ALMfLZAp2beMYhQuCn/B/SAk9wDQ2CTgYgN/wB+jaTqFKQi1OE+gFnXIpLC6wAaxAqYAfaoVW0hM/NH2+vuAflxTCdCd5Q3PNQBWzgHURseC4gdh+xEMFwD0CKiwrWAWER0eAoghFCFpwJ8CHV4DkAiksJzARYxL2/O+92ufW42SVMYbhcsEwAAAABJRU5ErkJgggAA"}}]);