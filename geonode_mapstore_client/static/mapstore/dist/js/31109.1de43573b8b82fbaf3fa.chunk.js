(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[31109],{691380:(e,t,r)=>{"use strict";r.d(t,{ZY:()=>u,Gv:()=>s});var n=r(124852),o=r.n(n),i=r(775382),a=r(867076),c=r(438482);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l.apply(this,arguments)}var u=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).overrideWidthProvider;return(0,a.compose)((0,a.defaultProps)({useDefaultWidthProvider:!e}),(function(e){return function(t){return o().createElement(i.Z,{handleWidth:!0},(function(){var r=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).width;return o().createElement(e,l({width:r},t))}))}}))},s=function(e){return(0,a.compose)((0,a.withStateHandlers)((function(){return{}}),{onResize:function(){return function(e){return{height:e.height}}}}),(0,c.Z)(e))}},572688:(e,t,r)=>{"use strict";r.d(t,{Z:()=>O});var n=r(124852),o=r.n(n),i=r(675263),a=r.n(i),c=r(282467),l=r(843614),u=r(472986),s=r.n(u);function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function p(){return p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},p.apply(this,arguments)}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,g(n.key),n)}}function y(e,t){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},y(e,t)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function b(e,t,r){return(t=g(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g(e){var t=function(e,t){if("object"!==f(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==f(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===f(t)?t:String(t)}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}(u,e);var t,r,n,i,a=(n=u,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=v(n);if(i){var r=v(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===f(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return m(e)}(this,e)});function u(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return b(m(e=a.call.apply(a,[this].concat(r))),"onConfirm",(function(){e.props.onConfirm()})),e}return t=u,(r=[{key:"render",value:function(){var e=this,t=o().createElement("span",{role:"footer"},o().createElement("div",{style:{float:"left"}}),o().createElement(c.Z,{ref:"confirmButton",disabled:this.props.running,className:this.props.className,key:"confirmButton",bsStyle:"primary",bsSize:this.props.buttonSize,onClick:function(){e.onConfirm()}},this.props.running?o().createElement(s(),{spinnerName:"circle",overrideSpinnerClassName:"spinner",noFadeIn:!0}):null,this.props.confirmText),this.props.includeCloseButton?o().createElement(c.Z,{key:"cancelButton",ref:"cancelButton",bsSize:this.props.buttonSize,onClick:this.props.onClose},this.props.cancelText):o().createElement("span",null)),r=this.props.body;return o().createElement(l.Z,p({},this.props.options,{show:this.props.show,onHide:this.props.onClose}),o().createElement(l.Z.Header,{key:"dialogHeader",closeButton:!0},o().createElement(l.Z.Title,null,this.props.titleText)),o().createElement(l.Z.Body,null,r),o().createElement(l.Z.Footer,null,t))}}])&&d(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),u}(o().Component);b(h,"propTypes",{className:a().string,show:a().bool,options:a().object,onConfirm:a().func,onClose:a().func,closeGlyph:a().string,style:a().object,buttonSize:a().string,includeCloseButton:a().bool,body:a().oneOfType([a().string,a().element]),titleText:a().oneOfType([a().string,a().element]),confirmText:a().oneOfType([a().string,a().element]),cancelText:a().oneOfType([a().string,a().element]),running:a().bool}),b(h,"defaultProps",{onConfirm:function(){},onClose:function(){},options:{animation:!1},className:"",closeGlyph:"",style:{},includeCloseButton:!0,body:"",titleText:"Confirm Delete",confirmText:"Delete",cancelText:"Cancel"});const O=h},532425:(e,t,r)=>{"use strict";r.d(t,{Z:()=>d});var n=r(675263),o=r.n(n),i=r(124852),a=r.n(i);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==c(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===c(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f=function(e){return e>100?"full":e>40?"medium":"small"},p=function(e){var t=e.size,r=e.style,n=void 0===r?{}:r,o=e.className,i=e.hidden;return a().createElement("div",{className:o,style:u({width:t,height:t,overflow:"hidden"},n)},!i&&a().createElement("div",{className:"mapstore-".concat(f(t),"-size-loader")}))};p.propTypes={size:o().number,className:o().string,style:o().object};const d=p},975480:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(124852),o=r.n(n);const i=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).style,t=void 0===e?{display:"inline-block"}:e;return o().createElement("div",{style:t,className:"mapstore-inline-loader"})}},1036:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(618446),o=r.n(n);const i=(0,r(867076).shouldUpdate)((function(e,t){return!o()(e.start,t.start)||e.disabled!==t.disabled}))(r(185552))},876424:(e,t,r)=>{"use strict";r.d(t,{Z:()=>p});var n=r(124852),o=r.n(n),i=r(513218),a=r.n(i),c=r(532425);function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}var u=["body","caption","infoExtra","className","description","fullText","onClick","onMouseEnter","onMouseLeave","preview","selected","size","style","stylePreview","styleTools","title","loading","dragSymbol","tools"];function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===l(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.body,r=e.caption,n=e.infoExtra,i=e.className,l=void 0===i?"":i,p=e.description,d=e.fullText,y=e.onClick,m=void 0===y?function(){}:y,v=e.onMouseEnter,b=void 0===v?function(){}:v,g=e.onMouseLeave,h=void 0===g?function(){}:g,O=e.preview,w=e.selected,j=e.size,S=e.style,P=void 0===S?{}:S,E=e.stylePreview,D=void 0===E?{}:E,C=e.styleTools,T=void 0===C?{}:C,x=e.title,k=e.loading,Z=e.dragSymbol,N=void 0===Z?"+":Z,R=e.tools,F=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,u);return o().createElement("div",{className:"mapstore-side-card".concat(w?" selected":"").concat(j?" ms-"+j:"").concat(l?" ".concat(l):"").concat(d?" full-text":""),onClick:function(e){return m(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({title:x,preview:O,description:p,caption:r,tools:R},F),e)},onMouseEnter:b,onMouseLeave:h,style:P},o().createElement("div",{className:"ms-head"},F.isDraggable&&F.connectDragSource&&F.connectDragSource(o().createElement("div",{className:"mapstore-side-card-tool text-center"},o().createElement("div",{style:{width:10,overflow:"hidden"}},N))),O&&o().createElement("div",{className:"mapstore-side-preview",style:D},O),o().createElement("div",{className:"mapstore-side-card-container"},o().createElement("div",{className:"mapstore-side-card-inner"},o().createElement("div",{className:"mapstore-side-card-left-container"},o().createElement("div",{className:"mapstore-side-card-info"},x&&o().createElement("div",{className:"mapstore-side-card-title"},o().createElement("span",null,x)),p&&o().createElement("div",{className:"mapstore-side-card-desc"},a()(p)?p:o().createElement("span",null,p)),r&&o().createElement("div",{className:"mapstore-side-card-caption"},o().createElement("span",null,r))),n),o().createElement("div",{className:"mapstore-side-card-right-container"},o().createElement("div",{className:"mapstore-side-card-tool text-center",style:T},R),"sm"!==j&&o().createElement("div",{className:"mapstore-side-card-loading"},o().createElement(c.Z,{className:"mapstore-side-card-loader",size:12,hidden:!k})))))),t&&o().createElement("div",{className:"ms-body"},t))}},638064:(e,t,r)=>{"use strict";r.d(t,{Z:()=>b});var n=r(675263),o=r.n(n),i=r(124852),a=r.n(i),c=r(757588),l=r(876424);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s.apply(this,arguments)}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,m(n.key),n)}}function p(e,t){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},p(e,t)}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}function y(e,t,r){return(t=m(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m(e){var t=function(e,t){if("object"!==u(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===u(t)?t:String(t)}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(y,e);var t,r,n,o,i=(n=y,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=d(n);if(o){var r=d(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===u(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function y(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,y),i.apply(this,arguments)}return t=y,(r=[{key:"render",value:function(){var e=this.props,t=e.cardComponent,r=e.items,n=e.colProps,o=e.onItemClick,i=e.size,u=t||l.Z;return a().createElement("div",{className:"msSideGrid"+(this.props.className?" "+this.props.className:"")},a().createElement(c.Row,{className:"items-list"},r.map((function(e,t){return a().createElement(c.Col,s({key:e.id||t},n),a().createElement(u,s({onClick:function(){return o(e)},size:i},e)))}))))}}])&&f(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),y}(a().Component);y(v,"propTypes",{size:o().string,onItemClick:o().func,colProps:o().object,items:o().array,cardComponent:o().oneOfType([o().string,o().func]),className:o().string}),y(v,"defaultProps",{size:"",onItemClick:function(){},colProps:{xs:12},className:"",items:[]});const b=v},212610:(e,t,r)=>{"use strict";r.d(t,{Z:()=>u});var n=r(124852),o=r.n(n),i=r(867076),a=r(957557),c=r.n(a),l=r(815135);const u=(0,i.branch)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.disabled,r=e.noTooltipWhenDisabled;return!(void 0!==r&&r&&t)}),l.Z,(function(e){return function(t){return o().createElement(e,c()(t,["tooltipId","tooltip","noTooltipWhenDisabled"]),t.children)}}))},617252:(e,t,r)=>{"use strict";r.d(t,{Z:()=>g});var n=r(124852),o=r.n(n),i=r(867076),a=r(675263),c=r.n(a),l=r(957557),u=r.n(l),s=r(757588),f=r(950966);function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,b(n.key),n)}}function y(e,t){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},y(e,t)}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}function v(e,t,r){return(t=b(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b(e){var t=function(e,t){if("object"!==p(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==p(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===p(t)?t:String(t)}const g=(0,i.branch)((function(e){return e.popover}),(function(e){var t;return t=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}(v,t);var r,n,a,c,l=(a=v,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=m(a);if(c){var r=m(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===p(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function v(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,v),l.apply(this,arguments)}return r=v,(n=[{key:"renderPopover",value:function(){return o().createElement(s.Popover,u()(this.props.popover,["trigger","placement","text"]),this.props.popover.text)}},{key:"renderContent",value:function(){var t=(0,i.toClass)(e);return o().createElement(t,u()(this.props,["popover"]))}},{key:"render",value:function(){var e=!0===this.props.popover.trigger?["hover","focus"]:this.props.popover.trigger;return o().createElement("span",null,o().createElement(f.Z,{trigger:e,placement:this.props.popover.placement,overlay:this.renderPopover()},this.renderContent()))}}])&&d(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),v}(o().Component),v(t,"propTypes",{popover:c().object}),v(t,"defaultProps",{popover:{trigger:!0}}),t}))},80717:(e,t,r)=>{"use strict";r.d(t,{Z:()=>f});var n=r(124852),o=r.n(n),i=r(819081),a=r.n(i),c=r(757588),l=r(90085),u=["visible","Element","renderButton"];function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s.apply(this,arguments)}const f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.buttons,r=void 0===t?[]:t,n=e.btnGroupProps,i=void 0===n?{}:n,f=e.btnDefaultProps,p=void 0===f?{}:f,d=e.transitionProps,y=void 0===d?{transitionName:"toolbar-btn-transition",transitionEnterTimeout:300,transitionLeaveTimeout:300}:d,m=function(){return r.map((function(e,t){var r=e.visible,n=void 0===r||r,i=e.Element,a=e.renderButton,c=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,u);return n?a||i&&o().createElement(i,s({key:c.key||t},c))||o().createElement(l.Z,s({key:c.key||t},p,c)):null}))};return o().createElement(c.ButtonGroup,i,y?o().createElement(a(),y,m()):m())}},90085:(e,t,r)=>{"use strict";r.d(t,{Z:()=>v});var n=r(124852),o=r.n(n),i=r(867076),a=r(805346),c=r(957557),l=r.n(c),u=r(757588),s=r(532425),f=r(212610),p=r(617252),d=r(282467),y=["glyph","loading","text","textId","glyphClassName","loaderProps","children"];function m(){return m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},m.apply(this,arguments)}const v=(0,i.compose)(f.Z,p.Z)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.glyph,r=e.loading,n=e.text,i=void 0===n?"":n,c=e.textId,f=e.glyphClassName,p=void 0===f?"":f,v=e.loaderProps,b=void 0===v?{}:v,g=e.children,h=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,y);return o().createElement(d.Z,l()(h,["pullRight","confirmNo","confirmYes"]),t&&!r?o().createElement(u.Glyphicon,{glyph:t,className:p}):null,c?o().createElement(a.Z,{msgId:c}):i,r?o().createElement(s.Z,m({className:"ms-loader".concat(h.bsStyle&&" ms-loader-"+h.bsStyle||"").concat(h.bsSize&&" ms-loader-"+h.bsSize||"")},b)):null,g)}))},425382:(e,t,r)=>{"use strict";r.d(t,{Z:()=>c});var n=r(49977),o=r.n(n),i=r(886850),a=r(624262);const c=function(e){return e.distinctUntilChanged((function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).layer,t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).layer;return(0,a.Tt)(e)===(0,a.Tt)(t)&&e.loadingError===t.loadingError})).switchMap((function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).layer;return(0,i.v$)({layer:e}).map((function(e){return{describeFeatureType:e.data,loading:!1,error:void 0}})).catch((function(e){return o().Observable.of({loading:!1,error:e})}))}))}},264945:(e,t,r)=>{"use strict";r.d(t,{Z:()=>k});var n=r(124852),o=r.n(n),i=r(867076),a=r(313311),c=r.n(a),l=r(66604),u=r.n(l),s=r(669968),f=r(227361),p=r.n(f),d=r(91175),y=r.n(d);function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){g(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function g(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==m(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==m(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===m(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var h=function(e){return p()(y()(e,(function(e){return e.color})),"color")};const O=(0,i.withProps)((function(e){var t=e.groups,r=e.showGroupColor,n=e.headerStyle,o=void 0===n?{borderTop:"3px solid rgba(0,0,0,0)",transition:"border-color .5s ease-out"}:n;return{headerStyle:r&&t&&h(t)?b(b({},o),{},{borderTop:"3px solid ".concat(h(t))}):o}}));function w(e){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w(e)}r(889611);var j=["id","style","className","toolsOptions","rowHeight","breakpoints","cols","widgets","layouts","dependencies","verticalCompact","compactMode","useDefaultWidthProvider","measureBeforeMount","width","showGroupColor","groups","canEdit","getWidgetClass","onWidgetClick","updateWidgetProperty","deleteWidget","toggleCollapse","toggleMaximize","editWidget","onLayoutChange","language","env","updateWidgetMapDependenices"];function S(){return S=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},S.apply(this,arguments)}function P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P(Object(r),!0).forEach((function(t){D(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function D(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==w(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==w(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===w(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var C=(0,i.branch)((function(e){var t=e.useDefaultWidthProvider;return void 0===t||t}),s.WidthProvider)(s.Responsive),T=O(r(443716).Z),x=function(){var e=arguments.length>1?arguments[1]:void 0;return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).filter((function(t){return c()(t.widgets,(function(t){return t===e.id}))}))};const k=(0,i.pure)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.id,r=e.style,n=e.className,i=void 0===n?"":n,a=e.toolsOptions,l=void 0===a?{}:a,s=e.rowHeight,f=void 0===s?208:s,p=e.breakpoints,d=void 0===p?{lg:1200,md:996,sm:768,xs:480,xxs:0}:p,y=e.cols,m=void 0===y?{lg:6,md:6,sm:4,xs:2,xxs:1}:y,v=e.widgets,b=void 0===v?[]:v,g=e.layouts,h=e.dependencies,O=e.verticalCompact,w=void 0!==O&&O,P=e.compactMode,D=e.useDefaultWidthProvider,k=void 0===D||D,Z=e.measureBeforeMount,N=e.width,R=e.showGroupColor,F=e.groups,I=void 0===F?[]:F,M=e.canEdit,G=void 0===M||M,_=e.getWidgetClass,z=void 0===_?function(){}:_,L=e.onWidgetClick,A=void 0===L?function(){}:L,W=e.updateWidgetProperty,B=void 0===W?function(){}:W,V=e.deleteWidget,q=void 0===V?function(){}:V,H=e.toggleCollapse,U=void 0===H?function(){}:H,$=e.toggleMaximize,J=void 0===$?function(){}:$,K=e.editWidget,Q=void 0===K?function(){}:K,Y=e.onLayoutChange,X=void 0===Y?function(){}:Y,ee=e.language,te=e.env,re=e.updateWidgetMapDependenices,ne=void 0===re?function(){}:re,oe=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,j),ie=b.filter((function(e){var t=e.mapSync,r=e.dependenciesMap;return t&&r})).map((function(e){return e.dependenciesMap})),ae=function(e){return"table"===e.widgetType&&ie.filter((function(t){return Object.keys(t).filter((function(r){return t[r]&&-1!==t[r].indexOf(e.id)})).length>0})).length>0};return o().createElement(C,{key:t||"widgets-view",useDefaultWidthProvider:k,measureBeforeMount:Z,width:k?void 0:N,isResizable:G,isDraggable:G,draggableHandle:".draggableHandle",onLayoutChange:X,preventCollision:!0,style:r,className:"widget-container ".concat(i," ").concat(G?"":"no-drag"),rowHeight:f,autoSize:!0,verticalCompact:w,compactMode:P,breakpoints:d,cols:m,layouts:g?JSON.parse(JSON.stringify(u()(g,(function(e){return e.map((function(e){var t=c()(b,{id:e.i});return t?E(E({},e),{},{isResizable:t.dataGrid&&t.dataGrid.isResizable,isDraggable:t.dataGrid&&t.dataGrid.isDraggable,static:t.dataGrid&&t.dataGrid.static}):e}))})))):void 0},b.map((function(e){return o().createElement("div",{key:e.id,"data-grid":e.dataGrid,onClick:function(){return A(e)},className:z(e)},o().createElement(T,S({"data-grid":e.dataGrid},oe,e,{quickFilters:ae(e)?e.quickFilters:void 0,toolsOptions:l,groups:x(I,e),showGroupColor:R,dependencies:h,enableColumnFilters:ae(e),canEdit:G,updateProperty:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return B.apply(void 0,[e.id].concat(r))},toggleCollapse:function(){return U(e)},toggleMaximize:function(){return J(e)},onDelete:function(){return q(e)},onEdit:function(){return Q(e)},language:ee,env:te,updateWidgetMap:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return ne.apply(void 0,[e.id].concat(r))}})))})))}))},443716:(e,t,r)=>{"use strict";r.d(t,{Z:()=>Wt});var n=r(124852),o=r.n(n),i=r(867076),a=r(12425),c=r(839860);function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const u=(0,i.compose)(a.Z,(0,i.compose)((0,i.withState)("showTable","setShowTable",!1),(0,i.withHandlers)({toggleTableView:function(e){var t=e.setShowTable,r=e.showTable;return function(){return t(!r)}}}),(0,i.withProps)((function(e){var t,r=e.widgetTools,n=void 0===r?[]:r,o=e.toggleTableView,i=void 0===o?function(){}:o;return{widgetTools:[].concat((t=n,function(e){if(Array.isArray(e))return l(e)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),[{glyph:"features-grid",target:"menu",textId:"widgets.widget.menu.showChartData",onClick:function(){return i()}}])}}))),(0,c.tR)(),(0,c.AV)(),(0,c.E6)(),(0,i.branch)((function(e){return!e.showTable}),(0,c.um)())),s=(0,i.compose)(a.Z,(0,c.tR)(),(0,c.E6)(),(0,c.um)());var f=r(227361),p=r.n(f),d=r(23279),y=r.n(d),m=r(375875),v=r.n(m),b=r(986267);function g(e){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g(e)}function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){w(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function w(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==g(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==g(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===g(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const j=(0,i.compose)((0,i.withPropsOnChange)(["gridEvents"],(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.gridEvents,r=void 0===t?{}:t,n=e.updateProperty,o=void 0===n?function(){}:n,i=y()((function(){return o.apply(void 0,arguments)}),500);return{gridEvents:O(O({},r),{},{onAddFilter:function(e){return i("quickFilters.".concat(e.attribute),e)},onColumnResize:function(e,t,r,n,i,a){return o('options.columnSettings["'.concat(p()(a.filter((function(e){return!e.hide}))[e],"name"),'"].width'),t)}})}})),a.Z,(0,c.tR)(),(0,c.E6)(),(0,c.um)(),(0,i.withPropsOnChange)(["gridEvents"],(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.gridEvents,r=void 0===t?{}:t,n=e.updateProperty,o=void 0===n?function(){}:n;return{gridEvents:O(O({},r),{},{onGridSort:function(e,t){return o("sortOptions",{sortBy:e,sortOrder:t})}})}})),(0,i.withPropsOnChange)(["gridEvents"],(function(e){var t=e.gridEvents,r=void 0===t?{}:t,n=e.updateWidgetMap,o=void 0===n?function(){}:n;return{gridEvents:O(O({},r),{},{onGridSelect:function(e){v().get("/geoserver/wfs",{params:{service:"WFS",version:"2.0.0",request:"GetFeature",typeName:"".concat(e.typeName),outputFormat:"application/json",featureID:e.featureId}}).then((function(e){var t=e.data.features,r="EPSG:4326",n=b.default.reprojectGeoJson(e.data,r,r),i=b.default.getGeoJSONExtent(n);if(e.data.totalFeatures>0&&e.data.features.length>0){var a=b.default.createBBox(i[0],i[1],i[2],i[3]),c=[a.minx,a.miny,a.maxx,a.maxy],l=[(c[0]+c[2])/2,(c[1]+c[3])/2];return o("map",{center:{x:l[0],y:l[1],crs:r},bbox:{bounds:a,crs:r}},t)}return null}))}})}})));var S=r(213314);const P=(0,i.compose)(a.Z,(0,c.tR)(),(0,c.G5)(),(0,c.E6)(),(0,c.um)()),E=(0,i.compose)(a.Z,(0,c.tR)(),(0,c.E6)(),(0,c.um)());var D=r(387017),C=r(39589),T=r(264721),x=r.n(T),k=r(682492),Z=r.n(k),N=r(378889),R=r(273849),F=r(425382),I=r(49977),M=r.n(I),G=r(886850);const _=function(e){return e.switchMap((function(e){var t=e.layer,r=void 0===t?{}:t,n=e.options,o=void 0===n?{}:n,i=e.filter,a=e.onLoad,c=void 0===a?function(){}:a,l=e.onLoadError,u=void 0===l?function(){}:l;return(0,G.Mc)(r,i,{timeout:15e3,params:{propertyName:o.propertyName,viewParams:o.viewParams}}).map((function(){return{loading:!1,error:void 0}})).do((function(e){return c({features:e.features,pagination:{totalFeatures:e.totalFeatures}})})).catch((function(e){return M().Observable.of({loading:!1,error:e,data:[]}).do(u)}))}))};function z(e){return z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},z(e)}function L(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function A(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?L(Object(r),!0).forEach((function(t){W(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function W(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==z(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==z(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===z(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r(49977);const B=function(e){return e.filter((function(e){var t=e.layer;return(void 0===t?{}:t).name})).distinctUntilChanged((function(e,t){var r=e.layer,n=void 0===r?{}:r,o=e.options,i=void 0===o?{}:o,a=e.filter,c=e.sortOptions;return t.layer&&n.name===t.layer.name&&n.loadingError===t.layer.loadingError&&function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.propertyName===t.propertyName&&e.viewParams===t.viewParams}(i,t.options)&&a===t.filter&&function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.sortBy===t.sortBy&&e.sortOrder===t.sortOrder}(c,t.sortOptions)})).map((function(e){return A(A({},e),{},{features:[],pages:[],pagination:{}})}))};var V=r(196958);function q(e){return q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},q(e)}function H(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function U(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?H(Object(r),!0).forEach((function(t){$(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function $(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==q(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==q(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===q(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const J=function(e){return function(t){return t.switchMap((function(t){var r=t.layer,n=void 0===r?{}:r,o=t.size,i=void 0===o?20:o,a=t.maxStoredPages,c=void 0===a?5:a,l=t.filter,u=t.options,s=void 0===u?{}:u,f=t.sortOptions,p=t.pages,d=t.features,y=void 0===d?[]:d,m=t.onLoad,v=void 0===m?function(){}:m,b=t.onLoadError,g=void 0===b?function(){}:b;return e.switchMap((function(e,t){var r=e.pagesRange,o=e.pagination,a=void 0===o?{}:o;return function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(t),(0,G.Mc)(n,l,U(U({},(0,V.S9)(r,p,i)),{},{sortOptions:f,timeout:15e3,totalFeatures:a.totalFeatures,propertyName:s.propertyName,viewParams:s.viewParams})).do((function(e){return v(U(U({},(0,V.f1)(e,r,{pages:p,features:y},U(U({},(0,V.S9)(r,p,i)),{},{size:i,maxStoredPages:c}))),{},{pagination:{totalFeatures:e.totalFeatures}}))})).map((function(){return{loading:!1}})).catch((function(e){return M().Observable.of({loading:!1,error:e}).do(g)})).startWith({loading:!0})}))}))}};function K(e){return K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},K(e)}function Q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(r),!0).forEach((function(t){X(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function X(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==K(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==K(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===K(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ee=function(e){var t=(0,i.createEventHandler)(),r=t.handler,n=t.stream;return(0,F.Z)(e).combineLatest(function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return B(e).let(r?J(t.withLatestFrom(e.map((function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).pagination;return{pagination:void 0===e?{}:e}})),(function(e,t){return Y({pagesRange:e},t)}))):_).startWith({})}(e,n.startWith({startPage:0,endPage:1})),(function(e,t){return Y(Y(Y({},e),t),{},{pageEvents:{moreFeatures:r,onPageChange:function(){}}})})).startWith({loading:!0})};const te=(0,i.compose)((0,i.defaultProps)({virtualScroll:!0,size:20,maxStoredPages:5}),(0,i.withStateHandlers)({pages:[],features:[],pagination:{}},{setData:function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{pages:e.pages,features:e.features,pagination:e.pagination,error:void 0}}}}),(0,i.withHandlers)({onLoad:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.setData,r=void 0===t?function(){}:t,n=e.onLoad,o=void 0===n?function(){}:n;return function(){r.apply(void 0,arguments),o.apply(void 0,arguments)}}}),(0,i.withProps)((function(){return{dataStreamFactory:ee}})),R.Z,(0,i.withProps)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,r=void 0===t?{}:t,n=e.describeFeatureType,o=e.columnSettings,i=void 0===o?{}:o;return{columnSettings:Z()(n?(0,N.getFeatureTypeProperties)(n).filter((function(e){return!x()(r.propertyName||[],e.name)})).reduce((function(e,t){return Y(Y({},e),{},X({},t.name,{hide:!0}))}),{}):{},r.columnSettings||{},i)}})));var re=r(630881),ne=r(908488),oe=r(873339),ie=r(505055),ae=r.n(ie),ce=r(441609),le=r.n(ce),ue=r(618446),se=r.n(ue),fe=r(670956),pe=r(199767),de=r(27835),ye=function(e){var t=e.wfsGetFeature;return(0,de.Uh)("gs:Bounds",[(0,pe.qP)("features",(0,pe.fA)("text/xml","http://geoserver/wfs","POST",t))],(0,pe.DK)((0,pe.En)("bounds","application/json")))};var me=r(47805),ve=r(624262),be=r(761868),ge=r(552259);function he(e){return he="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},he(e)}function Oe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function we(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(r),!0).forEach((function(t){je(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Oe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function je(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==he(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==he(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===he(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Se=(0,i.compose)((0,i.branch)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mapSync,r=e.dependencies;return t&&(!le()(r.quickFilters)||!le()(r.filter))}),(0,i.compose)((0,i.withPropsOnChange)(["id"],(function(e){var t=e.hookRegister;return{hookRegister:(void 0===t?null:t)||(0,ge.createRegisterHooks)()}})),(0,i.mapPropsStream)((function(e){return e.distinctUntilChanged((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return se()(e.dependencies.quickFilters,t.dependencies.quickFilters)&&se()(e.dependencies.filter,t.dependencies.filter)&&se()(e.dependencies.layer,t.dependencies.layer)})).debounceTime(500).switchMap((function(e){var t=e.mapSync,r=e.dependencies,n=void 0===r?{}:r,o=e.filter,i=e.hookRegister;if(!t||le()(n.layer))return I.Observable.of({loading:!1});var a={};n.quickFilters&&(a=we(we({},a),(0,fe.r$)(o,n.quickFilters,n.options))),n.filter&&(a=we(we({},a),(0,me.composeAttributeFilters)([a,n.filter])));var c=n&&n.layer&&n.layer.name;if(!le()(a)){a=we(we({},a),{},{options:we(we({},a.options||{}),{},{noSchemaLocation:!0})});var l=(0,me.toOGCFilter)(c,a,"1.1.0");return function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(0,de.mG)(e,ye(t),{},r)}((0,ve.ZA)(n.layer),{wfsGetFeature:l}).switchMap((function(e){var t,r,n;if(ae().parseString(e,{explicitArray:!1},(function(e,o){t=o["ows:BoundingBox"],r=t["ows:LowerCorner"].split(" "),n=t["ows:UpperCorner"].split(" ")})),"0.0 0.0"===t["ows:LowerCorner"]&&"-1.0 -1.0"===t["ows:UpperCorner"])return I.Observable.of({loading:!1});var o={minx:parseFloat(r[0]),miny:parseFloat(r[1]),maxx:parseFloat(n[0]),maxy:parseFloat(n[1])},a=i.getHook(ge.ZOOM_TO_EXTENT_HOOK);return a&&a(o,{crs:"EPSG:4326",maxZoom:21}),I.Observable.of({loading:!1})})).startWith({loading:!0}).catch((function(e){return I.Observable.of({error:"error getting bounds from filter",details:e})}))}return I.Observable.of({loading:!1})})).combineLatest(e,(function(e){var t=e.loading,r=void 0!==t&&t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,be.t8)("loading",r,n)}))})))));var Pe=r(313311),Ee=r.n(Pe),De=r(143378);function Ce(e){return Ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ce(e)}function Te(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function xe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Te(Object(r),!0).forEach((function(t){ke(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Te(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ke(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Ce(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Ce(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Ce(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Ze=(0,i.compose)((0,i.withPropsOnChange)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mapSync,r=e.dependencies,n=void 0===r?{}:r,o=e.map,i=void 0===o?{}:o,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=arguments.length>2?arguments[2]:void 0;return t!==a.mapSync||!se()(n,a.dependencies)||!se()(i,a.map)||c!==a.filter}),(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mapSync,r=e.dependencies,n=void 0===r?{}:r,o=e.filter,i=void 0===o?{}:o,a=e.map,c=void 0===a?{layers:[]}:a,l=n&&n.layer&&n.layer.name,u=Ee()(c.layers,{name:l})||{},s={},f={},p=void 0;return t&&!le()(u)&&(n.quickFilters&&(s=xe(xe({},s),(0,fe.r$)(i,n.quickFilters,n.options))),n.filter&&(s=xe(xe({},s),(0,me.composeAttributeFilters)([s,n.filter]))),!le()(s)&&(0,me.toCQLFilter)(s))?(p=(0,me.toCQLFilter)(s),f=(0,be.cc)(!1,xe(xe({},u),{},{params:(0,De.v)({params:{CQL_FILTER:p}},u&&u.params&&u.params.CQL_FILTER)}),{name:l},c.layers),{map:xe(xe({},c),{},{layers:f})}):(f=c.layers.map((function(e){return xe(xe({},e),{},{params:xe(xe({},e.params),{},{CQL_FILTER:void 0})})})),{map:xe(xe({},c),{},{layers:f})})}))),Ne=function(e){return(0,i.branch)((function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).mapSync}),(0,i.withPropsOnChange)((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.mapSync,n=t.dependencies,o=void 0===n?{}:n,a=arguments.length>1?arguments[1]:void 0,c=a.mapSync,l=a.dependencies;return l&&(0,i.shallowEqual)(o[e],l[e])||r===c}),(function(t){var r=t.map,n=t.mapSync,o=t.dependencies,i=void 0===o?{}:o;return{mapStateSource:"__dependency_system__",map:i[e]&&n?(0,be.t8)(e,i[e],r):r}})))};var Re=r(757588);function Fe(e){return Fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fe(e)}var Ie=["data"];function Me(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ge(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Me(Object(r),!0).forEach((function(t){_e(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Me(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _e(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Fe(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Fe(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Fe(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.data,r=void 0===t?[]:t,n=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,Ie),i=Object.keys(r.reduce((function(e,t){return Ge(Ge({},e),t)}),{}));return o().createElement("div",{className:"mapstore-widget-table"},o().createElement(Re.Table,{striped:!0},o().createElement("thead",null,o().createElement("tr",null,i.map((function(e,t){return o().createElement("th",null,t+1===i.length&&n.yAxisLabel?n.yAxisLabel:t>0?"".concat(e):e)})))),o().createElement("tbody",null,r.map((function(e){return o().createElement("tr",null,i.map((function(t){return o().createElement("td",null,e[t])})))})))))};var Le=r(496259),Ae=r(173014),We=r(342415),Be=r(639837),Ve=r(351990),qe=(0,Ae.Z)()((0,We.Z)((0,Be.Z)(Ve.Z)));const He=function(e){return o().createElement("div",{className:"mapstore-widget-chart"},o().createElement(Le.Z,null,o().createElement(qe,e)))};var Ue=r(805346),$e=r(965539),Je=r(572688);const Ke=function(e){var t=e.id,r=e.title,n=e.confirmDelete,i=void 0!==n&&n,a=e.className,c=e.isDraggable,l=void 0===c||c,u=e.toggleDeleteConfirm,s=void 0===u?function(){}:u,f=e.onDelete,p=void 0===f?function(){}:f,d=e.icons,y=e.topLeftItems,m=e.topRightItems,v=e.headerStyle,b=void 0===v?{}:v,g=e.children;return o().createElement("div",{className:"mapstore-widget-card",id:t},o().createElement($e.Z,{className:a,header:o().createElement("div",{style:b,className:"mapstore-widget-info ".concat(l?"draggableHandle":"")},o().createElement("div",{className:"mapstore-widget-header"},o().createElement("span",{className:"widget-icons"},d),y,o().createElement("span",{className:"widget-title"},r),o().createElement("span",{className:"mapstore-widget-options"},m)))},g),i?o().createElement(Je.Z,{confirmText:o().createElement(Ue.Z,{msgId:"widgets.widget.menu.delete"}),titleText:o().createElement(Ue.Z,{msgId:"widgets.widget.menu.delete"}),body:o().createElement(Ue.Z,{msgId:"widgets.widget.menu.confirmDelete"}),show:i,onClose:function(){return s(!1)},onConfirm:function(){return p(t)}}):null)};var Qe=["id","title","description","headerStyle","data","series","loading","icons","showTable","topRightItems","confirmDelete","dataGrid","onDelete","toggleTableView","toggleDeleteConfirm"];function Ye(){return Ye=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ye.apply(this,arguments)}var Xe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.showTable,r=e.toggleTableView,n=void 0===r?function(){}:r;return t?o().createElement(Re.Glyphicon,{onClick:function(){n()},glyph:"arrow-left pull-left"}):null};var et=r(982030),tt=r(599707),rt=(0,et.Z)((function(){return!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).text}),(function(){return{glyph:"sheet",messageId:"widgets.errors.notext"}}),tt.Z)((function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).text;return o().createElement("div",{className:"mapstore-widget-default-content ql-editor",dangerouslySetInnerHTML:{__html:e}})})),nt=r(957557),ot=r.n(nt),it=r(975480),at=r(815440);function ct(e){return ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ct(e)}var lt=["layers"];function ut(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function st(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ut(Object(r),!0).forEach((function(t){ft(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ut(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ft(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==ct(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==ct(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===ct(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var pt=(0,i.withHandlers)({onMapViewChanges:function(e){var t=e.updateProperty,r=void 0===t?function(){}:t;return function(e){e.layers;var t=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,lt);return r("map",t,"merge")}}})(at.Z),dt=r(118027);function yt(e){return yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yt(e)}function mt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function vt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?mt(Object(r),!0).forEach((function(t){bt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function bt(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==yt(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==yt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===yt(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var gt=(0,i.compose)((0,i.mapPropsStream)((function(e){return e.combineLatest(e.pluck("quickFilterStream$").distinctUntilChanged().switchMap((function(e){return e})).startWith(void 0),(function(e,t){var r=t&&e.options&&Ee()(e.options.propertyName,(function(t){return t===e.attributeName}))&&t[e.attributeName]||{},n=r&&(r.rawValue||r.value);return vt(vt({},e),{},{value:n})}))}))),ht=function(e){var t=e.options,r=e.localType,n=e.attributeName,o=e.quickFilterStream$;return(0,i.compose)((0,i.withProps)({quickFilterStream$:o,attributeName:n,options:t}),gt)((0,dt.Q)(r,{name:n}))},Ot=(0,i.compose)((0,i.mapPropsStream)((function(e){return e.map((function(t){return vt(vt({},t),{},{quickFilterStream$:e.pluck("quickFilters").distinctUntilChanged()})}))}))),wt=(0,i.compose)(Ot,(0,i.withPropsOnChange)(["describeFeatureType","options"],(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.describeFeatureType,r=e.options,n=e.quickFilterStream$;return t?{filterRenderers:(0,V.Lo)(t).reduce((function(e,t){var o=t.localType,i=t.name,a=ht({options:r,localType:o,attributeName:i,quickFilterStream$:n});return vt(vt({},e),{},bt({},i,a))}),{})}:{}}))),jt=r(830029),St=r(588300),Pt=(0,We.Z)((0,Ae.Z)((function(e){return!e.describeFeatureType}))(St.Z));const Et=wt((function(e){var t=e.id,r=e.title,n=e.loading,i=e.confirmDelete,a=void 0!==i&&i,c=e.enableColumnFilters,l=void 0!==c&&c,u=e.headerStyle,s=e.icons,f=e.topRightItems,p=e.toggleDeleteConfirm,d=void 0===p?function(){}:p,y=e.onDelete,m=void 0===y?function(){}:y,v=e.gridEvents,b=void 0===v?function(){}:v,g=e.pageEvents,h=void 0===g?{moreFeatures:function(){}}:g,O=e.describeFeatureType,w=e.filterRenderers,j=e.columnSettings,S=e.features,P=e.size,E=e.pages,D=e.error,C=e.pagination,T=void 0===C?{}:C,x=e.dataGrid,k=void 0===x?{}:x,Z=e.virtualScroll,N=void 0===Z||Z;return o().createElement(Ke,{id:"widget-chart-".concat(t),title:r,headerStyle:u,icons:s,isDraggable:k.isDraggable,confirmDelete:a,onDelete:m,toggleDeleteConfirm:d,topRightItems:f},o().createElement($e.Z,{footer:T.totalFeatures?o().createElement("div",{style:{height:"30px",overflow:"hidden"}},n?o().createElement("span",{style:{float:"right"}},o().createElement(it.Z,null)):null,void 0===D&&o().createElement("span",{style:{float:"left",margin:"5px"}},o().createElement(Ue.Z,{msgId:"featuregrid.resultInfoVirtual",msgParams:{total:T.totalFeatures}}))):null},o().createElement(Pt,{emptyRowsView:function(){return o().createElement(jt.Z,{loading:n},o().createElement(tt.Z,{messageId:"featuregrid.noFeaturesAvailable",glyph:"features-grid"}))},gridEvents:b,sortable:!0,defaultSize:!1,columnSettings:j,pageEvents:h,virtualScroll:N,enableColumnFilters:l,filterRenderers:w,features:S,pages:E,error:D,size:P,rowKey:"id",describeFeatureType:O,pagination:T})))}));var Dt=r(980844),Ct=["id","title","description","data","series","loading","showTable","confirmDelete","headerStyle","icons","topRightItems","dataGrid","toggleTableView","toggleDeleteConfirm","onDelete"];function Tt(){return Tt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tt.apply(this,arguments)}var xt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.showTable,r=e.toggleTableView,n=void 0===r?function(){}:r;return t?o().createElement(Re.Glyphicon,{onClick:function(){n()},glyph:"arrow-left pull-left"}):null},kt=r(946173),Zt=r(70919),Nt=["toggleDeleteConfirm","id","title","icons","headerStyle","confirmDelete","topRightItems","dataGrid","onDelete"];var Rt=(0,kt.Z)()(Zt.Z),Ft=(0,i.compose)(oe.Z,re.Z,ne.Z,D.Z,u)((function(e){var t=e.id,r=e.title,n=e.description,i=e.headerStyle,a=e.data,c=void 0===a?[]:a,l=e.series,u=void 0===l?[]:l,s=e.loading,f=e.icons,p=e.showTable,d=e.topRightItems,y=e.confirmDelete,m=void 0!==y&&y,v=e.dataGrid,b=void 0===v?{}:v,g=e.onDelete,h=void 0===g?function(){}:g,O=e.toggleTableView,w=void 0===O?function(){}:O,j=e.toggleDeleteConfirm,S=void 0===j?function(){}:j,P=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,Qe);return o().createElement(Ke,{id:"widget-chart-".concat(t),headerStyle:i,isDraggable:b.isDraggable,title:r,icons:f,topLeftItems:Xe({loading:s,title:r,description:n,showTable:p,toggleTableView:w}),confirmDelete:m,onDelete:h,toggleDeleteConfirm:S,topRightItems:d},p?o().createElement(ze,Ye({data:c},P)):o().createElement(He,Ye({id:t,isAnimationActive:!s,loading:s,data:c,series:u,iconFit:!0},P)))})),It=(0,i.compose)(P)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.toggleDeleteConfirm,r=void 0===t?function(){}:t,n=e.icons,i=e.topLeftItems,a=e.id,c=e.title,l=e.text,u=e.headerStyle,s=e.topRightItems,f=e.dataGrid,p=void 0===f?{}:f,d=e.confirmDelete,y=void 0!==d&&d,m=e.onDelete,v=void 0===m?function(){}:m;return o().createElement(Ke,{id:"widget-text-".concat(a),title:c,confirmDelete:y,onDelete:v,toggleDeleteConfirm:r,headerStyle:u,isDraggable:p.isDraggable,icons:n,topLeftItems:i,topRightItems:s},o().createElement(rt,{text:l}))})),Mt=(0,i.compose)(oe.Z,Ze,Ne("center"),Ne("zoom"),Se,E)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.updateProperty,r=void 0===t?function(){}:t,n=e.toggleDeleteConfirm,i=void 0===n?function(){}:n,a=e.id,c=e.title,l=e.map,u=e.icons,s=e.hookRegister,f=e.mapStateSource,p=e.topRightItems,d=e.confirmDelete,y=void 0!==d&&d,m=e.loading,v=void 0!==m&&m,b=e.dataGrid,g=void 0===b?{}:b,h=e.onDelete,O=void 0===h?function(){}:h,w=e.headerStyle,j=e.env,S=l.size,P=S.height,E=S.width,D=l.mapInfoControl,C=P>400&&E>400&&D;return o().createElement(Ke,{id:"widget-text-".concat(a),title:c,confirmDelete:y,onDelete:O,toggleDeleteConfirm:i,headerStyle:w,icons:u,topRightItems:p,isDraggable:g.isDraggable},o().createElement($e.Z,{footer:o().createElement("div",{style:{height:"30px",overflow:"hidden"}},v?o().createElement("span",{style:{float:"right"}},o().createElement(it.Z,null)):null)},o().createElement(pt,{tools:C?["popup"]:[],updateProperty:r,id:a,map:st({},ot()(l,"mapStateSource")),mapStateSource:f,hookRegister:s,layers:l&&l.layers,options:{style:{margin:10,height:"calc(100% - 20px)"}},env:j})))})),Gt=(0,i.compose)(oe.Z,ne.Z,re.Z,te,j)(Et),_t=(0,i.compose)(oe.Z,re.Z,ne.Z,C.Z,s)((function(e){var t=e.id,r=e.title,n=e.description,i=e.data,a=void 0===i?[]:i,c=e.series,l=void 0===c?[]:c,u=e.loading,s=e.showTable,f=e.confirmDelete,p=void 0!==f&&f,d=e.headerStyle,y=e.icons,m=e.topRightItems,v=e.dataGrid,b=void 0===v?{}:v,g=e.toggleTableView,h=void 0===g?function(){}:g,O=e.toggleDeleteConfirm,w=void 0===O?function(){}:O,j=e.onDelete,S=void 0===j?function(){}:j,P=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,Ct);return o().createElement(Ke,{className:"counter-widget",id:"widget-chart-".concat(t),title:r,isDraggable:b.isDraggable,icons:y,topLeftItems:xt({loading:u,title:r,description:n,showTable:s,toggleTableView:h}),confirmDelete:p,onDelete:S,toggleDeleteConfirm:w,headerStyle:d,topRightItems:m},o().createElement(Dt.Z,Tt({id:t,isAnimationActive:!u,loading:u,data:a,series:l,iconFit:!0},P)))})),zt=(0,i.compose)(oe.Z,S.Z)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.toggleDeleteConfirm,r=void 0===t?function(){}:t,n=e.id,i=e.title,a=e.icons,c=e.headerStyle,l=e.confirmDelete,u=void 0!==l&&l,s=e.topRightItems,f=e.dataGrid,p=void 0===f?{}:f,d=e.onDelete,y=void 0===d?function(){}:d,m=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,Nt);return o().createElement(Ke,{id:"widget-text-".concat(n),title:i,confirmDelete:u,onDelete:y,toggleDeleteConfirm:r,headerStyle:c,icons:a,topRightItems:s,isDraggable:p.isDraggable},o().createElement(Rt,m))})),Lt=["dependencies","toggleCollapse","exportCSV","exportImage","onDelete","onEdit"];function At(){return At=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},At.apply(this,arguments)}const Wt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.dependencies,r=e.toggleCollapse,n=void 0===r?function(){}:r,i=e.exportCSV,a=void 0===i?function(){}:i,c=e.exportImage,l=void 0===c?function(){}:c,u=e.onDelete,s=void 0===u?function(){}:u,f=e.onEdit,p=void 0===f?function(){}:f,d=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,Lt);return"text"===d.widgetType?o().createElement(It,At({},d,{toggleCollapse:n,onDelete:s,onEdit:p})):"table"===d.widgetType?o().createElement(Gt,At({},d,{toggleCollapse:n,exportCSV:a,dependencies:t,onDelete:s,onEdit:p})):"counter"===d.widgetType?o().createElement(_t,At({},d,{toggleCollapse:n,dependencies:t,onDelete:s,onEdit:p})):"map"===d.widgetType?o().createElement(Mt,At({},d,{toggleCollapse:n,dependencies:t,onDelete:s,onEdit:p})):"legend"===d.widgetType?o().createElement(zt,At({},d,{toggleCollapse:n,dependencies:t,onDelete:s,onEdit:p})):o().createElement(Ft,At({},d,{toggleCollapse:n,exportCSV:a,dependencies:t,exportImage:l,onDelete:s,onEdit:p}))}},688395:(e,t,r)=>{"use strict";r.d(t,{ZP:()=>W});var n=r(49977),o=r.n(n),i=r(666654),a=r.n(i),c=r(218721),l=r.n(c),u=r(227361),s=r.n(u),f=r(264721),p=r.n(f),d=r(618446),y=r.n(d),m=r(957557),v=r.n(m),b=r(114176),g=r.n(b),h=r(557579),O=r(881808),w=r(401757),j=r(580416),S=r(675110),P=r(324684),E=r(769293),D=r(555927),C=r(275982),T=r(178598),x=r(989077),k=r(117542),Z=r.n(k),N=r(459425),R=r.n(N);function F(e){return F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},F(e)}function I(e){return function(e){if(Array.isArray(e))return M(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return M(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?M(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function G(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?G(Object(r),!0).forEach((function(t){z(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function z(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==F(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==F(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===F(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var L=function(e){return e.ofType(E.WC,E.a3,E.W5).startWith({type:O.ok}).switchMap((function(t){return t.type===E.WC?o().Observable.never():e})).filter((function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).type===C.nk}))},A=function(e,t,r,n){return o().Observable.of((0,h.Rz)("mapSync",e),(0,h.Rz)("dependenciesMap",function(e,t,r){var n,o=r.dependenciesMap,i=r.mappings,c=["layer","filter","quickFilters","options"],l=["layers","viewport","zoom","center"],u=(h.oU.exec(t)||[])[1],s=g()(o,(function(e){return-1===e.indexOf(u)})),f=Object.keys(i).filter((function(e){return void 0!==i[e]})).reduce((function(e,r){return!a()(t,"map")&&p()(c,r)?_(_({},e),{},z({},r,"".concat(t,".").concat(i[r]))):a()(t,"map")?p()(l,r)?_(_({},e),{},z({},r,"map"===t?i[r]:"".concat(t,".").concat(i[r]))):_(_({},e),{},z({},r,"".concat(t.replace(".map",""),".").concat(i[r]))):e}),{});return e?_(_(_({},s),f),{},(z(n={},"dependenciesMap","".concat(t.replace(".map",""),".dependenciesMap")),z(n,"mapSync","".concat(t.replace(".map",""),".mapSync")),n)):v()(s,[Object.keys(i)])}(e,t,r)))};const W={exportWidgetData:function(e){return e.ofType(h.Km).do((function(e){var t=e.data,r=void 0===t?[]:t,n=e.title,o=void 0===n?"data":n;return Z().json2csv(r,(function(e,t){return e?null:(0,T.saveAs)(new Blob([t],{type:"text/csv"}),o+".csv")}))})).filter((function(){return!1}))},alignDependenciesToWidgets:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).getState,r=void 0===t?function(){}:t;return e.ofType(O.ok,D.E9,h.Jm).map((function(){return(0,w.jx)(r())})).pluck("availableDependencies").distinctUntilChanged((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return y()(I(e),I(t))})).map((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return(0,h._k)(e.reduce((function(e,t){var r,n,o=t.replace(".map","");return a()(t,"map")?_(_({},e),{},(z(r={},"".concat(o,".dependenciesMap"),"".concat(o,".dependenciesMap")),z(r,"".concat(o,".mapSync"),"".concat(o,".mapSync")),z(r,"map"===t?"viewport":"".concat(t,".viewport"),"".concat(t,".bbox")),z(r,"map"===t?"center":"".concat(t,".center"),"".concat(t,".center")),z(r,"map"===t?"zoom":"".concat(t,".zoom"),"".concat(t,".zoom")),z(r,"map"===t?"layers":"".concat(t,".layers"),"map"===t?"layers.flat":"".concat(t,".layers")),r)):_(_({},e),{},(z(n={},"".concat(t,".filter"),"".concat(t,".filter")),z(n,"".concat(t,".quickFilters"),"".concat(t,".quickFilters")),z(n,"".concat(o,".dependenciesMap"),"".concat(o,".dependenciesMap")),z(n,"".concat(o,".mapSync"),"".concat(o,".mapSync")),z(n,"".concat(t,".layer"),"".concat(t,".layer")),z(n,"".concat(t,".options"),"".concat(t,".options")),n))}),{}))}))},toggleWidgetConnectFlow:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).getState,r=void 0===t?function(){}:t;return e.ofType(h.LH).switchMap((function(t){var n=t.active,i=t.availableDependencies,a=void 0===i?[]:i,c=t.options;return n&&a.length>0?1===a.length?A(n,a[0],c):o().Observable.of((0,h.kr)(n,{availableDependencies:a})).merge(e.ofType(h.V5).filter((function(){return(0,w.xI)(r())})).switchMap((function(e){var t=e.widget,i=s()((0,w.r0)(r()),"availableDependencies").filter((function(e){return(h.oU.exec(e)||[])[1]===t.id}));return A(n,i[0],c,t.dependeciesMap).concat(o().Observable.of((0,h.kr)(!1,{})))})).takeUntil(e.ofType(C.nk).merge(e.filter((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.type,r=e.key;return t===h.Cz&&r===h.jv}))))):A(n,a[0],c)}))},clearWidgetsOnLocationChange:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).getState,r=void 0===t?function(){}:t;return e.ofType(O.ok).switchMap((function(){var t=(0,P.F)(r()).split("/"),n=t[t.length-1];return e.let(L).filter((function(){var e=(0,P.F)(r()).split("/");return e[e.length-1]!==n})).switchMap((function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).payload,t=void 0===e?{}:e;return t&&t.location&&t.location.pathname?o().Observable.of((0,h.K4)()):o().Observable.empty()}))}))},exportWidgetImage:function(e){return e.ofType(h.pV).do((function(e){var t,r,n=e.widgetDivId,o=e.title,i=void 0===o?"data":o,a=document.createElement("canvas"),c=document.querySelector("#".concat(n," .recharts-wrapper svg")),l=c.outerHTML?c.outerHTML:(t=c,(r=document.createElement("div")).appendChild(t.cloneNode(!0)),r.innerHTML);R()(a,l,{renderCallback:function(){var e=a.getContext("2d");e.globalCompositeOperation="destination-over",e.fillStyle="#fff",e.fillRect(0,0,a.width,a.height),(0,x.RP)(a.toDataURL("image/jpeg",1),"".concat(i,".jpg"),"image/jpeg")}})})).filter((function(){return!1}))},updateLayerOnLayerPropertiesChange:function(e,t){return e.ofType(j.yS).switchMap((function(e){var r,n=e.layer,i=e.newProperties,a=t.getState(),c=(0,S.CA)(a,n);return(r=o().Observable).of.apply(r,I(l()(i,"layerFilter")&&c?[(0,h.Ko)(c)]:[]))}))},updateLayerOnLoadingErrorChange:function(e,t){return e.ofType(j.x9,j.vs).groupBy((function(e){return e.layerId})).map((function(e){return e.switchMap((function(e){var r,n=e.layerId,i=t.getState(),a=(0,S.CA)(i,n);return(r=o().Observable).of.apply(r,I(a&&a.previousLoadingError!==a.loadingError?[(0,h.Ko)(a)]:[]))}))})).mergeAll()}}},875859:(e,t,r)=>{"use strict";r.d(t,{Z:()=>N});var n=r(557579),o=r(881808),i=r(555927),a=r(727418),c=r.n(a),l=r(728252),u=r.n(l),s=r(227361),f=r.n(s),p=r(313311),d=r.n(p),y=r(957557),m=r.n(y),v=r(66604),b=r.n(v),g=r(984596),h=r.n(g),O=r(618446),w=r.n(O),j=r(761868),S=r(552259),P=r(986267);function E(e){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E(e)}function D(e){return function(e){if(Array.isArray(e))return C(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return C(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?C(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?T(Object(r),!0).forEach((function(t){k(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function k(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==E(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==E(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===E(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Z={dependencies:{viewport:"map.bbox",center:"map.center",zoom:"map.zoom"},containers:{floating:{widgets:[]}},builder:{settings:{step:0}},feature_highlight:{mapSync:!1,idMapSync:"",feature_select:[]}};const N=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case n.Cz:return u()("builder.settings.".concat(r.key),r.value,t);case n.n8:return u()("builder.editor",r.widget,u()("builder.settings",r.settings||Z.settings,t));case n.dm:return u()("builder.editor",x(x({},r.widget),{},{widgetType:r.widget&&r.widget.widgetType||"chart"}),u()("builder.settings.step","chart"===(r.widget&&r.widget.widgetType||"chart")?1:0,t));case n.BV:return u()("builder.editor.".concat(r.key),r.value,t);case n.Jm:return(0,j.vy)("containers[".concat(r.target,"].widgets"),x(x({id:r.id},r.widget),{},{dataGrid:r.id&&{y:0,x:0,w:1,h:1}}),{id:r.widget.id||r.id},t);case n.$A:var a=d()(f()(t,"containers[".concat(r.target,"].widgets")),{id:r.id});return(0,j.vy)("containers[".concat(r.target,"].widgets"),u()(r.key,"merge"===r.mode?c()({},a[r.key],r.value):r.value,a),{id:r.id},t);case n.eb:if(r.layer){var l=f()(t,"containers[".concat(n.VR,"].widgets"));if(l)return u()("containers[".concat(n.VR,"].widgets"),l.map((function(e){return f()(e,"layer.id")===r.layer.id?u()("layer",r.layer,e):e})),t)}return t;case n.yY:return(0,j.z6)("containers[".concat(r.target,"].widgets"),{id:r.widget.id},t);case i.E9:var s=r.data;return u()("containers[".concat(n.VR,"]"),x({},s),t);case o.ok:var p=(r.config||{}).widgetsConfig;return u()("containers[".concat(n.VR,"]"),x({},p),t);case n.v8:return u()("containers[".concat(r.target,"].layout"),r.layout)(u()("containers[".concat(r.target,"].layouts"),r.allLayouts,t));case n.ff:case i.R4:return u()("containers[".concat(n.VR,"]"),Z.containers[n.VR],t);case n.S0:var y=r.key,v=r.value;return u()("dependencies[".concat(y,"]"),v,t);case n.Q6:var g=r.key;return u()("dependencies[".concat(g,"]"),null,t);case n.kb:var O=r.dependencies;return u()("dependencies",O,t);case n.GV:return u()("dependencies",Z.dependencies,t);case n.Ym:var E=r.widget,C=void 0===E?{}:E;if(C.dataGrid&&C.dataGrid.static)return t;var T=f()(t,"containers[".concat(r.target,"].collapsed[").concat(C.id));if(T){var k=[].concat(D(f()(t,"containers[".concat(r.target,"].layout"),[])),D(h()(f()(T,"layout",[])))),N=b()(f()(t,"containers[".concat(r.target,"].layouts"),{}),(function(){var e=arguments.length>1?arguments[1]:void 0;return[].concat(D(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]),D(h()(f()(T,"layouts[".concat(e,"]"),[]))))}));return m()((0,j.qC)(u()("containers[".concat(r.target,"].layout"),k),u()("containers[".concat(r.target,"].layouts"),N))(t),"containers[".concat(r.target,"].collapsed[").concat(C.id,"]"))}return u()("containers[".concat(r.target,"].collapsed[").concat(C.id,"]"),{layout:d()(f()(t,"containers[".concat(r.target,"].layout"),[]),{i:C.id}),layouts:b()(f()(t,"containers[".concat(r.target,"].layouts"),{}),(function(e){return d()(e,{i:C.id})}))},t);case n.ke:var R,F,I,M,G,_,z,L,A,W,B,V,q,H,U,$,J,K,Q=r.widget,Y=null==t||null===(R=t.containers)||void 0===R||null===(F=R[r.target])||void 0===F?void 0:F.maximized;if(!Q||null!==(I=Q.dataGrid)&&void 0!==I&&I.static)return t;if(null!=Y&&Y.widget)return(0,j.qC)(u()("containers[".concat(r.target,"].layout"),Y.layout),u()("containers[".concat(r.target,"].layouts"),Y.layouts),u()("containers[".concat(r.target,"].maximized"),{}),u()("containers[".concat(r.target,"].widgets"),null==t||null===($=t.containers)||void 0===$||null===(J=$[r.target])||void 0===J||null===(K=J.widgets)||void 0===K?void 0:K.map((function(e){return e.id===Y.widget.id?x(x({},e),{},{dataGrid:x(x({},e.dataGrid),{},{isDraggable:!0,isResizable:!0})}):e}))))(t);if(null!=t&&null!==(M=t.containers)&&void 0!==M&&null!==(G=M[r.target])&&void 0!==G&&null!==(_=G.collapsed)&&void 0!==_&&_[Q.id])return t;var X=x(x({},d()(null==t||null===(z=t.containers)||void 0===z||null===(L=z[r.target])||void 0===L?void 0:L.layout,{i:Q.id})),{x:0,y:0,w:1,h:1});return(0,j.qC)(u()("containers[".concat(r.target,"].maximized"),{widget:Q,layout:null==t||null===(A=t.containers)||void 0===A||null===(W=A[r.target])||void 0===W?void 0:W.layout,layouts:null==t||null===(B=t.containers)||void 0===B||null===(V=B[r.target])||void 0===V?void 0:V.layouts}),u()("containers[".concat(r.target,"].layout"),[X]),u()("containers[".concat(r.target,"].layouts"),{xxs:[X]}),u()("containers[".concat(r.target,"].widgets"),null==t||null===(q=t.containers)||void 0===q||null===(H=q[r.target])||void 0===H||null===(U=H.widgets)||void 0===U?void 0:U.map((function(e){return e.id===Q.id?x(x({},e),{},{dataGrid:x(x({},e.dataGrid),{},{isDraggable:!1,isResizable:!1})}):e}))))(t);case n.uU:var ee=f()(t,"containers[".concat(r.target,"].widgets"),[]).filter((function(e){return!e.dataGrid||!e.dataGrid.static})),te=ee.filter((function(e){return f()(t,"containers[".concat(r.target,"].collapsed[").concat(e.id,"]"))})),re=ee.filter((function(e){return!f()(t,"containers[".concat(r.target,"].collapsed[").concat(e.id,"]"))}));return 0===re.length?te.reduce((function(t,r){return e(t,(0,n.f)(r))}),t):re.length>0?re.reduce((function(t,r){return e(t,(0,n.f)(r))}),t):t;case n.nw:return u()("tray",r.value,t);case n.JT:var ne=[],oe=d()(f()(t,"containers[".concat(r.target,"].widgets")),{id:r.id});if(!0===oe.mapSync){var ie=oe.dependenciesMap.mapSync.replace("widgets[","").replace("].mapSync","");ne.push(ie)}else!1===oe.mapSync&&(ne=t.containers.floating.widgets.filter((function(e){return!1===e.mapSync&&"map"===e.widgetType})).map((function(e){return e.id})));var ae=t;ne.forEach((function(e){var n=d()(f()(t,"containers[".concat(r.target,"].widgets")),{id:e}),o=r.value.bbox.bounds,i=[o.minx,o.miny,o.maxx,o.maxy],a=P.default.reprojectBbox(i,r.value.bbox.crs,n.map.projection||"EPSG:4326"),l=S.default.getZoomForExtent(a,n.map.size,0,21);r.value.bbox.bound=P.default.createBBox(a[0],a[1],a[2],a[3]),r.value.zoom=l>1?l-1:1,r.feature_select.length>0&&"POINT"===r.feature_select[0].geometry.type.toUpperCase()&&(r.value.zoom=18),ae=(0,j.vy)("containers[".concat(r.target,"].widgets"),u()(r.key,c()({},n[r.key],r.value),n),{id:e},ae)}));var ce={mapSync:!1,idMapSync:"",feature_select:[]};return w()(t.feature_highlight.feature_select,r.feature_select)?ae.feature_highlight=ce:(ce={mapSync:oe.mapSync,idMapSync:oe.mapSync?ne[0]:"",feature_select:r.feature_select},ae=u()("feature_highlight",ce,ae)),ae;default:return t}}}}]);